"use strict";(self.webpackChunkangular_firebase=self.webpackChunkangular_firebase||[]).push([[179],{612:()=>{function Ue(n){return"function"==typeof n}function bl(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ah=bl(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function _a(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class tr{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ue(r))try{r()}catch(s){e=s instanceof Ah?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{HD(s)}catch(o){e=e??[],o instanceof Ah?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ah(e)}}add(e){var t;if(e&&e!==this)if(this.closed)HD(e);else{if(e instanceof tr){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&_a(t,e)}remove(e){const{_finalizers:t}=this;t&&_a(t,e),e instanceof tr&&e._removeParent(this)}}tr.EMPTY=(()=>{const n=new tr;return n.closed=!0,n})();const $D=tr.EMPTY;function jD(n){return n instanceof tr||n&&"closed"in n&&Ue(n.remove)&&Ue(n.add)&&Ue(n.unsubscribe)}function HD(n){Ue(n)?n():n.unsubscribe()}const ao={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Mh={setTimeout(n,e,...t){const{delegate:r}=Mh;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Mh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function zD(n){Mh.setTimeout(()=>{const{onUnhandledError:e}=ao;if(!e)throw n;e(n)})}function Oy(){}const L3=Fy("C",void 0,void 0);function Fy(n,e,t){return{kind:n,value:e,error:t}}let uo=null;function xh(n){if(ao.useDeprecatedSynchronousErrorHandling){const e=!uo;if(e&&(uo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=uo;if(uo=null,t)throw r}}else n()}class Ly extends tr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jD(e)&&e.add(this)):this.destination=z3}static create(e,t,r){return new Cl(e,t,r)}next(e){this.isStopped?Uy(function U3(n){return Fy("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Uy(function V3(n){return Fy("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Uy(L3,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $3=Function.prototype.bind;function Vy(n,e){return $3.call(n,e)}class j3{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Nh(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Nh(r)}else Nh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Nh(t)}}}class Cl extends Ly{constructor(e,t,r){let i;if(super(),Ue(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&ao.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Vy(e.next,s),error:e.error&&Vy(e.error,s),complete:e.complete&&Vy(e.complete,s)}):i=e}this.destination=new j3(i)}}function Nh(n){ao.useDeprecatedSynchronousErrorHandling?function B3(n){ao.useDeprecatedSynchronousErrorHandling&&uo&&(uo.errorThrown=!0,uo.error=n)}(n):zD(n)}function Uy(n,e){const{onStoppedNotification:t}=ao;t&&Mh.setTimeout(()=>t(n,e))}const z3={closed:!0,next:Oy,error:function H3(n){throw n},complete:Oy},By="function"==typeof Symbol&&Symbol.observable||"@@observable";function lo(n){return n}function GD(n){return 0===n.length?lo:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let qe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function W3(n){return n&&n instanceof Ly||function q3(n){return n&&Ue(n.next)&&Ue(n.error)&&Ue(n.complete)}(n)&&jD(n)}(t)?t:new Cl(t,r,i);return xh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=qD(r))((i,s)=>{const o=new Cl({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[By](){return this}pipe(...t){return GD(t)(this)}toPromise(t){return new(t=qD(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function qD(n){var e;return null!==(e=n??ao.Promise)&&void 0!==e?e:Promise}const K3=bl(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let fn=(()=>{class n extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new WD(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new K3}next(t){xh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){xh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){xh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?$D:(this.currentObservers=null,s.push(t),new tr(()=>{this.currentObservers=null,_a(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new qe;return t.source=this,t}}return n.create=(e,t)=>new WD(e,t),n})();class WD extends fn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:$D}}function KD(n){return Ue(n?.lift)}function _t(n){return e=>{if(KD(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function lt(n,e,t,r,i){return new Q3(n,e,t,r,i)}class Q3 extends Ly{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function re(n,e){return _t((t,r)=>{let i=0;t.subscribe(lt(r,s=>{r.next(n.call(e,s,i++))}))})}function Rh(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function vs(n){return this instanceof vs?(this.v=n,this):new vs(n)}function JD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function zy(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ZD=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function e0(n){return Ue(n?.then)}function t0(n){return Ue(n[By])}function n0(n){return Symbol.asyncIterator&&Ue(n?.[Symbol.asyncIterator])}function r0(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const s0=function mz(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function o0(n){return Ue(n?.[s0])}function a0(n){return function XD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof vs?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield vs(t.read());if(i)return yield vs(void 0);yield yield vs(r)}}finally{t.releaseLock()}})}function u0(n){return Ue(n?.getReader)}function jn(n){if(n instanceof qe)return n;if(null!=n){if(t0(n))return function yz(n){return new qe(e=>{const t=n[By]();if(Ue(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ZD(n))return function _z(n){return new qe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(e0(n))return function vz(n){return new qe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,zD)})}(n);if(n0(n))return l0(n);if(o0(n))return function wz(n){return new qe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(u0(n))return function Ez(n){return l0(a0(n))}(n)}throw r0(n)}function l0(n){return new qe(e=>{(function Iz(n,e){var t,r,i,s;return function QD(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=JD(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function xi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Bt(n,e,t=1/0){return Ue(e)?Bt((r,i)=>re((s,o)=>e(r,s,i,o))(jn(n(r,i))),t):("number"==typeof e&&(t=e),_t((r,i)=>function bz(n,e,t,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let y=!1;jn(t(g,c++)).subscribe(lt(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;u.length&&l<r;){const _=u.shift();o?xi(e,o,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return n.subscribe(lt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function va(n=1/0){return Bt(lo,n)}const Pr=new qe(n=>n.complete());function Gy(n){return n[n.length-1]}function qy(n){return Ue(Gy(n))?n.pop():void 0}function Tl(n){return function Tz(n){return n&&Ue(n.schedule)}(Gy(n))?n.pop():void 0}function kh(n,e=0){return _t((t,r)=>{t.subscribe(lt(r,i=>xi(r,n,()=>r.next(i),e),()=>xi(r,n,()=>r.complete(),e),i=>xi(r,n,()=>r.error(i),e)))})}function Ph(n,e=0){return _t((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function c0(n,e){if(!n)throw new Error("Iterable cannot be null");return new qe(t=>{xi(t,e,()=>{const r=n[Symbol.asyncIterator]();xi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Fe(n,e){return e?function Rz(n,e){if(null!=n){if(t0(n))return function Sz(n,e){return jn(n).pipe(Ph(e),kh(e))}(n,e);if(ZD(n))return function Mz(n,e){return new qe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(e0(n))return function Az(n,e){return jn(n).pipe(Ph(e),kh(e))}(n,e);if(n0(n))return c0(n,e);if(o0(n))return function xz(n,e){return new qe(t=>{let r;return xi(t,e,()=>{r=n[s0](),xi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Ue(r?.return)&&r.return()})}(n,e);if(u0(n))return function Nz(n,e){return c0(a0(n),e)}(n,e)}throw r0(n)}(n,e):jn(n)}function Wy(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Cl({next:()=>{r.unsubscribe(),n()}});return jn(e(...t)).subscribe(r)}function Le(n){for(let e in n)if(n[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function Ky(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Be(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Be).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Qy(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Oz=Le({__forward_ref__:Le});function $e(n){return n.__forward_ref__=$e,n.toString=function(){return Be(this())},n}function Z(n){return Yy(n)?n():n}function Yy(n){return"function"==typeof n&&n.hasOwnProperty(Oz)&&n.__forward_ref__===$e}function Xy(n){return n&&!!n.\u0275providers}const Oh="https://g.co/ng/security#xss";class S extends Error{constructor(e,t){super(Fh(e,t)),this.code=e}}function Fh(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function ue(n){return"string"==typeof n?n:null==n?"":String(n)}function Lh(n,e){throw new S(-201,!1)}function vr(n,e){null==n&&function xe(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function $t(n){return{providers:n.providers||[],imports:n.imports||[]}}function Vh(n){return d0(n,Uh)||d0(n,f0)}function d0(n,e){return n.hasOwnProperty(e)?n[e]:null}function h0(n){return n&&(n.hasOwnProperty(Jy)||n.hasOwnProperty(Hz))?n[Jy]:null}const Uh=Le({\u0275prov:Le}),Jy=Le({\u0275inj:Le}),f0=Le({ngInjectableDef:Le}),Hz=Le({ngInjectorDef:Le});var ee=(()=>((ee=ee||{})[ee.Default=0]="Default",ee[ee.Host=1]="Host",ee[ee.Self=2]="Self",ee[ee.SkipSelf=4]="SkipSelf",ee[ee.Optional=8]="Optional",ee))();let Zy;function wr(n){const e=Zy;return Zy=n,e}function p0(n,e,t){const r=Vh(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ee.Optional?null:void 0!==e?e:void Lh(Be(n))}const We=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Dl={},e_="__NG_DI_FLAG__",Bh="ngTempTokenPath",Gz="ngTokenPath",qz=/\n/gm,Wz="\u0275",g0="__source";let Sl;function wa(n){const e=Sl;return Sl=n,e}function Kz(n,e=ee.Default){if(void 0===Sl)throw new S(-203,!1);return null===Sl?p0(n,void 0,e):Sl.get(n,e&ee.Optional?null:void 0,e)}function P(n,e=ee.Default){return(function zz(){return Zy}()||Kz)(Z(n),e)}function oe(n,e=ee.Default){return P(n,$h(e))}function $h(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function t_(n){const e=[];for(let t=0;t<n.length;t++){const r=Z(n[t]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=ee.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Qz(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(P(i,s))}else e.push(P(r))}return e}function Al(n,e){return n[e_]=e,n.prototype[e_]=e,n}function Qz(n){return n[e_]}function Ni(n){return{toString:n}.toString()}var Jr=(()=>((Jr=Jr||{})[Jr.OnPush=0]="OnPush",Jr[Jr.Default=1]="Default",Jr))(),Or=(()=>{return(n=Or||(Or={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Or;var n})();const Ri={},Ae=[],jh=Le({\u0275cmp:Le}),n_=Le({\u0275dir:Le}),r_=Le({\u0275pipe:Le}),y0=Le({\u0275mod:Le}),ki=Le({\u0275fac:Le}),Ml=Le({__NG_ELEMENT_ID__:Le});let Jz=0;function pn(n){return Ni(()=>{const e=v0(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Jr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Or.Emulated,id:"c"+Jz++,styles:n.styles||Ae,_:null,schemas:n.schemas||null,tView:null};w0(t);const r=n.dependencies;return t.directiveDefs=Hh(r,!1),t.pipeDefs=Hh(r,!0),t})}function eG(n){return Ne(n)||gn(n)}function tG(n){return null!==n}function Xt(n){return Ni(()=>({type:n.type,bootstrap:n.bootstrap||Ae,declarations:n.declarations||Ae,imports:n.imports||Ae,exports:n.exports||Ae,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function _0(n,e){if(null==n)return Ri;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function ie(n){return Ni(()=>{const e=v0(n);return w0(e),e})}function Hn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ne(n){return n[jh]||null}function gn(n){return n[n_]||null}function zn(n){return n[r_]||null}function rr(n,e){const t=n[y0]||null;if(!t&&!0===e)throw new Error(`Type ${Be(n)} does not have '\u0275mod' property.`);return t}function v0(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ae,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_0(n.inputs,e),outputs:_0(n.outputs)}}function w0(n){n.features?.forEach(e=>e(n))}function Hh(n,e){if(!n)return null;const t=e?zn:eG;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(tG)}const Pi=0,B=1,fe=2,ct=3,Fr=4,co=5,mn=6,Ia=7,vt=8,zh=9,Gh=10,ge=11,i_=12,xl=13,E0=14,ba=15,yn=16,Nl=17,Ca=18,Zr=19,Rl=20,I0=21,Ke=22,s_=1,b0=2,qh=7,Wh=8,Ta=9,Rn=10;function ir(n){return Array.isArray(n)&&"object"==typeof n[s_]}function Lr(n){return Array.isArray(n)&&!0===n[s_]}function o_(n){return 0!=(4&n.flags)}function kl(n){return n.componentOffset>-1}function Kh(n){return 1==(1&n.flags)}function Vr(n){return!!n.template}function rG(n){return 0!=(256&n[fe])}function ho(n,e){return n.hasOwnProperty(ki)?n[ki]:null}class oG{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Er(){return D0}function D0(n){return n.type.prototype.ngOnChanges&&(n.setInput=uG),aG}function aG(){const n=A0(this),e=n?.current;if(e){const t=n.previous;if(t===Ri)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function uG(n,e,t,r){const i=this.declaredInputs[t],s=A0(n)||function lG(n,e){return n[S0]=e}(n,{previous:Ri,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new oG(u&&u.currentValue,e,a===Ri),n[r]=e}Er.ngInherit=!0;const S0="__ngSimpleChanges__";function A0(n){return n[S0]||null}const Ir=function(n,e,t){};function Jt(n){for(;Array.isArray(n);)n=n[Pi];return n}function Qh(n,e){return Jt(e[n])}function sr(n,e){return Jt(e[n.index])}function N0(n,e){return n.data[e]}function Da(n,e){return n[e]}function Gn(n,e){const t=e[n];return ir(t)?t:t[Pi]}function Yh(n){return 64==(64&n[fe])}function Es(n,e){return null==e?null:n[e]}function R0(n){n[Ca]=0}function u_(n,e){n[co]+=e;let t=n,r=n[ct];for(;null!==r&&(1===e&&1===t[co]||-1===e&&0===t[co]);)r[co]+=e,t=r,r=r[ct]}const le={lFrame:j0(null),bindingsEnabled:!0};function P0(){return le.bindingsEnabled}function M(){return le.lFrame.lView}function Ie(){return le.lFrame.tView}function Oi(n){return le.lFrame.contextLView=n,n[vt]}function Fi(n){return le.lFrame.contextLView=null,n}function Zt(){let n=O0();for(;null!==n&&64===n.type;)n=n.parent;return n}function O0(){return le.lFrame.currentTNode}function ei(n,e){const t=le.lFrame;t.currentTNode=n,t.isParent=e}function l_(){return le.lFrame.isParent}function c_(){le.lFrame.isParent=!1}function Li(){return le.lFrame.bindingIndex}function Sa(){return le.lFrame.bindingIndex++}function Vi(n){const e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function IG(n,e){const t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,d_(e)}function d_(n){le.lFrame.currentDirectiveIndex=n}function h_(n){const e=le.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function U0(){return le.lFrame.currentQueryIndex}function f_(n){le.lFrame.currentQueryIndex=n}function CG(n){const e=n[B];return 2===e.type?e.declTNode:1===e.type?n[mn]:null}function B0(n,e,t){if(t&ee.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&ee.Host||(i=CG(s),null===i||(s=s[ba],10&i.type))););if(null===i)return!1;e=i,n=s}const r=le.lFrame=$0();return r.currentTNode=e,r.lView=n,!0}function p_(n){const e=$0(),t=n[B];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function $0(){const n=le.lFrame,e=null===n?null:n.child;return null===e?j0(n):e}function j0(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function H0(){const n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const z0=H0;function g_(){const n=H0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Pn(){return le.lFrame.selectedIndex}function fo(n){le.lFrame.selectedIndex=n}function tt(){const n=le.lFrame;return N0(n.tView,n.selectedIndex)}function Xh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks??(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks??(n.viewHooks=[])).push(t,l),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,l)),null!=c&&(n.destroyHooks??(n.destroyHooks=[])).push(t,c)}}function Jh(n,e,t){G0(n,e,3,t)}function Zh(n,e,t,r){(3&n[fe])===t&&G0(n,e,t,r)}function m_(n,e){let t=n[fe];(3&t)===e&&(t&=2047,t+=1,n[fe]=t)}function G0(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[Ca]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[Ca]+=65536),(a<s||-1==s)&&(kG(n,t,e,u),n[Ca]=(4294901760&n[Ca])+u+2),u++}function kG(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[fe]>>11<n[Ca]>>16&&(3&n[fe])===e){n[fe]+=2048,Ir(4,a,s);try{s.call(a)}finally{Ir(5,a,s)}}}else{Ir(4,a,s);try{s.call(a)}finally{Ir(5,a,s)}}}const Aa=-1;class Ol{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function __(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];W0(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function q0(n){return 3===n||4===n||6===n}function W0(n){return 64===n.charCodeAt(0)}function Fl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||K0(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function K0(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function Q0(n){return n!==Aa}function ef(n){return 32767&n}function tf(n,e){let t=function LG(n){return n>>16}(n),r=e;for(;t>0;)r=r[ba],t--;return r}let v_=!0;function nf(n){const e=v_;return v_=n,e}const Y0=255,X0=5;let VG=0;const ti={};function rf(n,e){const t=J0(n,e);if(-1!==t)return t;const r=e[B];r.firstCreatePass&&(n.injectorIndex=e.length,w_(r.data,n),w_(e,null),w_(r.blueprint,null));const i=E_(n,e),s=n.injectorIndex;if(Q0(i)){const o=ef(i),a=tf(i,e),u=a[B].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function w_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function J0(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function E_(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=sS(i),null===r)return Aa;if(t++,i=i[ba],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Aa}function I_(n,e,t){!function UG(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ml)&&(r=t[Ml]),null==r&&(r=t[Ml]=VG++);const i=r&Y0;e.data[n+(i>>X0)]|=1<<i}(n,e,t)}function Z0(n,e,t){if(t&ee.Optional||void 0!==n)return n;Lh()}function eS(n,e,t,r){if(t&ee.Optional&&void 0===r&&(r=null),!(t&(ee.Self|ee.Host))){const i=n[zh],s=wr(void 0);try{return i?i.get(e,r,t&ee.Optional):p0(e,r,t&ee.Optional)}finally{wr(s)}}return Z0(r,0,t)}function tS(n,e,t,r=ee.Default,i){if(null!==n){if(1024&e[fe]){const o=function zG(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[fe]&&!(256&o[fe]);){const a=nS(s,o,t,r|ee.Self,ti);if(a!==ti)return a;let u=s.parent;if(!u){const l=o[I0];if(l){const c=l.get(t,ti,r);if(c!==ti)return c}u=sS(o),o=o[ba]}s=u}return i}(n,e,t,r,ti);if(o!==ti)return o}const s=nS(n,e,t,r,ti);if(s!==ti)return s}return eS(e,t,r,i)}function nS(n,e,t,r,i){const s=function jG(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ml)?n[Ml]:void 0;return"number"==typeof e?e>=0?e&Y0:HG:e}(t);if("function"==typeof s){if(!B0(e,n,r))return r&ee.Host?Z0(i,0,r):eS(e,t,r,i);try{const o=s(r);if(null!=o||r&ee.Optional)return o;Lh()}finally{z0()}}else if("number"==typeof s){let o=null,a=J0(n,e),u=Aa,l=r&ee.Host?e[yn][mn]:null;for((-1===a||r&ee.SkipSelf)&&(u=-1===a?E_(n,e):e[a+8],u!==Aa&&iS(r,!1)?(o=e[B],a=ef(u),e=tf(u,e)):a=-1);-1!==a;){const c=e[B];if(rS(s,a,c.data)){const d=$G(a,e,t,o,r,l);if(d!==ti)return d}u=e[a+8],u!==Aa&&iS(r,e[B].data[a+8]===l)&&rS(s,a,e)?(o=c,a=ef(u),e=tf(u,e)):a=-1}}return i}function $G(n,e,t,r,i,s){const o=e[B],a=o.data[n+8],c=sf(a,o,t,null==r?kl(a)&&v_:r!=o&&0!=(3&a.type),i&ee.Host&&s===a);return null!==c?po(e,o,c,a):ti}function sf(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&Vr(f)&&f.type===t)return u}return null}function po(n,e,t,r){let i=n[t];const s=e.data;if(function PG(n){return n instanceof Ol}(i)){const o=i;o.resolving&&function Fz(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new S(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Me(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ue(n)}(s[t]));const a=nf(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?wr(o.injectImpl):null;B0(n,r,ee.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function RG(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=D0(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&wr(u),nf(a),o.resolving=!1,z0()}}return i}function rS(n,e,t){return!!(t[e+(n>>X0)]&1<<n)}function iS(n,e){return!(n&ee.Self||n&ee.Host&&e)}class Ma{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return tS(this._tNode,this._lView,e,$h(r),t)}}function HG(){return new Ma(Zt(),M())}function en(n){return Ni(()=>{const e=n.prototype.constructor,t=e[ki]||b_(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ki]||b_(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function b_(n){return Yy(n)?()=>{const e=b_(Z(n));return e&&e()}:ho(n)}function sS(n){const e=n[B],t=e.type;return 2===t?e.declTNode:1===t?n[mn]:null}const Na="__parameters__";function ka(n,e,t){return Ni(()=>{const r=function C_(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(Na)?u[Na]:Object.defineProperty(u,Na,{value:[]})[Na];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class z{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function go(n,e){n.forEach(t=>Array.isArray(t)?go(t,e):e(t))}function aS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function uf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function or(n,e,t){let r=Pa(n,e);return r>=0?n[1|r]=t:(r=~r,function KG(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function D_(n,e){const t=Pa(n,e);if(t>=0)return n[1|t]}function Pa(n,e){return function uS(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const _n=Al(ka("Optional"),8),Bl=Al(ka("SkipSelf"),4);var qn=(()=>((qn=qn||{})[qn.Important=1]="Important",qn[qn.DashCase=2]="DashCase",qn))();const R_=new Map;let mq=0;const P_="__ngContext__";function vn(n,e){ir(e)?(n[P_]=e[Rl],function _q(n){R_.set(n[Rl],n)}(e)):n[P_]=e}let O_;function F_(n,e){return O_(n,e)}function zl(n){const e=n[ct];return Lr(e)?e[ct]:e}function L_(n){return AS(n[xl])}function V_(n){return AS(n[Fr])}function AS(n){for(;null!==n&&!Lr(n);)n=n[Fr];return n}function Fa(n,e,t,r,i){if(null!=r){let s,o=!1;Lr(r)?s=r:ir(r)&&(o=!0,r=r[Pi]);const a=Jt(r);0===n&&null!==t?null==i?PS(e,t,a):mo(e,t,a,i||null,!0):1===n&&null!==t?mo(e,t,a,i||null,!0):2===n?function G_(n,e,t){const r=hf(n,e);r&&function Vq(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function $q(n,e,t,r,i){const s=t[qh];s!==Jt(t)&&Fa(e,n,r,s,i);for(let a=Rn;a<t.length;a++){const u=t[a];Gl(u[B],u,n,e,r,s)}}(e,n,s,t,i)}}function B_(n,e,t){return n.createElement(e,t)}function xS(n,e){const t=n[Ta],r=t.indexOf(e),i=e[ct];512&e[fe]&&(e[fe]&=-513,u_(i,-1)),t.splice(r,1)}function $_(n,e){if(n.length<=Rn)return;const t=Rn+e,r=n[t];if(r){const i=r[Nl];null!==i&&i!==n&&xS(i,r),e>0&&(n[t-1][Fr]=r[Fr]);const s=uf(n,Rn+e);!function xq(n,e){Gl(n,e,e[ge],2,null,null),e[Pi]=null,e[mn]=null}(r[B],r);const o=s[Zr];null!==o&&o.detachView(s[B]),r[ct]=null,r[Fr]=null,r[fe]&=-65}return r}function NS(n,e){if(!(128&e[fe])){const t=e[ge];t.destroyNode&&Gl(n,e,t,3,null,null),function kq(n){let e=n[xl];if(!e)return j_(n[B],n);for(;e;){let t=null;if(ir(e))t=e[xl];else{const r=e[Rn];r&&(t=r)}if(!t){for(;e&&!e[Fr]&&e!==n;)ir(e)&&j_(e[B],e),e=e[ct];null===e&&(e=n),ir(e)&&j_(e[B],e),t=e&&e[Fr]}e=t}}(e)}}function j_(n,e){if(!(128&e[fe])){e[fe]&=-65,e[fe]|=128,function Lq(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ol)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Ir(4,a,u);try{u.call(a)}finally{Ir(5,a,u)}}else{Ir(4,i,s);try{s.call(i)}finally{Ir(5,i,s)}}}}}(n,e),function Fq(n,e){const t=n.cleanup,r=e[Ia];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Ia]=null}}(n,e),1===e[B].type&&e[ge].destroy();const t=e[Nl];if(null!==t&&Lr(e[ct])){t!==e[ct]&&xS(t,e);const r=e[Zr];null!==r&&r.detachView(n)}!function vq(n){R_.delete(n[Rl])}(e)}}function RS(n,e,t){return function kS(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Pi];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Or.None||s===Or.Emulated)return null}return sr(r,t)}}(n,e.parent,t)}function mo(n,e,t,r,i){n.insertBefore(e,t,r,i)}function PS(n,e,t){n.appendChild(e,t)}function OS(n,e,t,r,i){null!==r?mo(n,e,t,r,i):PS(n,e,t)}function hf(n,e){return n.parentNode(e)}let H_,gf,K_,mf,VS=function LS(n,e,t){return 40&n.type?sr(n,t):null};function ff(n,e,t,r){const i=RS(n,r,e),s=e[ge],a=function FS(n,e,t){return VS(n,e,t)}(r.parent||e[mn],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)OS(s,i,t[u],a,!1);else OS(s,i,t,a,!1);void 0!==H_&&H_(s,r,e,t,i)}function pf(n,e){if(null!==e){const t=e.type;if(3&t)return sr(e,n);if(4&t)return z_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return pf(n,r);{const i=n[e.index];return Lr(i)?z_(-1,i):Jt(i)}}if(32&t)return F_(e,n)()||Jt(n[e.index]);{const r=BS(n,e);return null!==r?Array.isArray(r)?r[0]:pf(zl(n[yn]),r):pf(n,e.next)}}return null}function BS(n,e){return null!==e?n[yn][mn].projection[e.projection]:null}function z_(n,e){const t=Rn+n+1;if(t<e.length){const r=e[t],i=r[B].firstChild;if(null!==i)return pf(r,i)}return e[qh]}function q_(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&vn(Jt(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)q_(n,e,t.child,r,i,s,!1),Fa(e,n,i,a,s);else if(32&u){const l=F_(t,r);let c;for(;c=l();)Fa(e,n,i,c,s);Fa(e,n,i,a,s)}else 16&u?$S(n,e,r,t,i,s):Fa(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Gl(n,e,t,r,i,s){q_(t,r,n.firstChild,e,i,s,!1)}function $S(n,e,t,r,i,s){const o=t[yn],u=o[mn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Fa(e,n,i,u[l],s);else q_(n,e,u,o[ct],i,s,!0)}function jS(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function HS(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&__(n,e,r),null!==i&&jS(n,e,i),null!==s&&function Hq(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function La(n){return function W_(){if(void 0===gf&&(gf=null,We.trustedTypes))try{gf=We.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return gf}()?.createHTML(n)||n}function Q_(){if(void 0===mf&&(mf=null,We.trustedTypes))try{mf=We.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return mf}function GS(n){return Q_()?.createHTML(n)||n}function WS(n){return Q_()?.createScriptURL(n)||n}class yo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Oh})`}}class Kq extends yo{getTypeName(){return"HTML"}}class Qq extends yo{getTypeName(){return"Style"}}class Yq extends yo{getTypeName(){return"Script"}}class Xq extends yo{getTypeName(){return"URL"}}class Jq extends yo{getTypeName(){return"ResourceURL"}}function ar(n){return n instanceof yo?n.changingThisBreaksApplicationSecurity:n}function ni(n,e){const t=function Zq(n){return n instanceof yo&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Oh})`)}return t===e}class s5{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(La(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class o5{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=La(e),t}}const u5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yf(n){return(n=String(n)).match(u5)?n:"unsafe:"+n}function Ui(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function ql(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const QS=Ui("area,br,col,hr,img,wbr"),YS=Ui("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),XS=Ui("rp,rt"),Y_=ql(QS,ql(YS,Ui("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ql(XS,Ui("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ql(XS,YS)),X_=Ui("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),JS=ql(X_,Ui("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ui("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),l5=Ui("script,style,template");class c5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Y_.hasOwnProperty(t))return this.sanitizedSomething=!0,!l5.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!JS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;X_[a]&&(u=yf(u)),this.buf.push(" ",o,'="',ZS(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Y_.hasOwnProperty(t)&&!QS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ZS(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const d5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h5=/([^\#-~ |!])/g;function ZS(n){return n.replace(/&/g,"&amp;").replace(d5,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(h5,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _f;function eA(n,e){let t=null;try{_f=_f||function KS(n){const e=new o5(n);return function a5(){try{return!!(new window.DOMParser).parseFromString(La(""),"text/html")}catch{return!1}}()?new s5(e):e}(n);let r=e?String(e):"";t=_f.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=_f.getInertBodyElement(r)}while(r!==s);return La((new c5).sanitizeChildren(J_(t)||t))}finally{if(t){const r=J_(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function J_(n){return"content"in n&&function f5(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ve=(()=>((Ve=Ve||{})[Ve.NONE=0]="NONE",Ve[Ve.HTML=1]="HTML",Ve[Ve.STYLE=2]="STYLE",Ve[Ve.SCRIPT=3]="SCRIPT",Ve[Ve.URL=4]="URL",Ve[Ve.RESOURCE_URL=5]="RESOURCE_URL",Ve))();function Z_(n){const e=Wl();return e?GS(e.sanitize(Ve.HTML,n)||""):ni(n,"HTML")?GS(ar(n)):eA(function zS(){return void 0!==K_?K_:typeof document<"u"?document:void 0}(),ue(n))}function tA(n){const e=Wl();return e?e.sanitize(Ve.URL,n)||"":ni(n,"URL")?ar(n):yf(ue(n))}function nA(n){const e=Wl();if(e)return WS(e.sanitize(Ve.RESOURCE_URL,n)||"");if(ni(n,"ResourceURL"))return WS(ar(n));throw new S(904,!1)}function Wl(){const n=M();return n&&n[i_]}const vf=new z("ENVIRONMENT_INITIALIZER"),iA=new z("INJECTOR",-1),sA=new z("INJECTOR_DEF_TYPES");class oA{get(e,t=Dl){if(t===Dl){const r=new Error(`NullInjectorError: No provider for ${Be(e)}!`);throw r.name="NullInjectorError",r}return t}}function aA(n){return{\u0275providers:n}}function v5(...n){return{\u0275providers:uA(0,n),\u0275fromNgModule:!0}}function uA(n,...e){const t=[],r=new Set;let i;return go(e,s=>{const o=s;ev(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&lA(i,t),t}function lA(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];tv(i,s=>{e.push(s)})}}function ev(n,e,t,r){if(!(n=Z(n)))return!1;let i=null,s=h0(n);const o=!s&&Ne(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=h0(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)ev(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{go(s.imports,c=>{ev(c,e,t,r)&&(l||(l=[]),l.push(c))})}finally{}void 0!==l&&lA(l,e)}if(!a){const l=ho(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:Ae},{provide:sA,useValue:i,multi:!0},{provide:vf,useValue:()=>P(i),multi:!0})}const u=s.providers;null==u||a||tv(u,c=>{e.push(c)})}}return i!==n&&void 0!==n.providers}function tv(n,e){for(let t of n)Xy(t)&&(t=t.\u0275providers),Array.isArray(t)?tv(t,e):e(t)}const w5=Le({provide:String,useValue:Le});function nv(n){return null!==n&&"object"==typeof n&&w5 in n}function _o(n){return"function"==typeof n}const rv=new z("Set Injector scope."),wf={},I5={};let iv;function Ef(){return void 0===iv&&(iv=new oA),iv}class ri{}class hA extends ri{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ov(e,o=>this.processProvider(o)),this.records.set(iA,Va(void 0,this)),i.has("environment")&&this.records.set(ri,Va(void 0,this));const s=this.records.get(rv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(sA.multi,Ae,ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=wa(this),r=wr(void 0);try{return e()}finally{wa(t),wr(r)}}get(e,t=Dl,r=ee.Default){this.assertNotDestroyed(),r=$h(r);const i=wa(this),s=wr(void 0);try{if(!(r&ee.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function S5(n){return"function"==typeof n||"object"==typeof n&&n instanceof z}(e)&&Vh(e);a=u&&this.injectableDefInScope(u)?Va(sv(e),wf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ee.Self?Ef():this.parent).get(e,t=r&ee.Optional&&t===Dl?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Bh]=o[Bh]||[]).unshift(Be(e)),i)throw o;return function Yz(n,e,t,r){const i=n[Bh];throw e[g0]&&i.unshift(e[g0]),n.message=function Xz(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Wz?n.slice(2):n;let i=Be(e);if(Array.isArray(e))i=e.map(Be).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Be(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(qz,"\n  ")}`}("\n"+n.message,i,t,r),n[Gz]=i,n[Bh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{wr(s),wa(i)}}resolveInjectorInitializers(){const e=wa(this),t=wr(void 0);try{const r=this.get(vf.multi,Ae,ee.Self);for(const i of r)i()}finally{wa(e),wr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Be(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let t=_o(e=Z(e))?e:Z(e&&e.provide);const r=function C5(n){return nv(n)?Va(void 0,n.useValue):Va(fA(n),wf)}(e);if(_o(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Va(void 0,wf,!0),i.factory=()=>t_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===wf&&(t.value=I5,t.value=t.factory()),"object"==typeof t.value&&t.value&&function D5(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Z(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function sv(n){const e=Vh(n),t=null!==e?e.factory:ho(n);if(null!==t)return t;if(n instanceof z)throw new S(204,!1);if(n instanceof Function)return function b5(n){const e=n.length;if(e>0)throw function Ul(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new S(204,!1);const t=function jz(n){return n&&(n[Uh]||n[f0])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new S(204,!1)}function fA(n,e,t){let r;if(_o(n)){const i=Z(n);return ho(i)||sv(i)}if(nv(n))r=()=>Z(n.useValue);else if(function dA(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...t_(n.deps||[]));else if(function cA(n){return!(!n||!n.useExisting)}(n))r=()=>P(Z(n.useExisting));else{const i=Z(n&&(n.useClass||n.provide));if(!function T5(n){return!!n.deps}(n))return ho(i)||sv(i);r=()=>new i(...t_(n.deps))}return r}function Va(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ov(n,e){for(const t of n)Array.isArray(t)?ov(t,e):t&&Xy(t)?ov(t.\u0275providers,e):e(t)}class A5{}class pA{}class x5{resolveComponentFactory(e){throw function M5(n){const e=Error(`No component factory found for ${Be(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ua=(()=>{class n{}return n.NULL=new x5,n})();function N5(){return Ba(Zt(),M())}function Ba(n,e){return new ur(sr(n,e))}let ur=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=N5,n})();function R5(n){return n instanceof ur?n.nativeElement:n}class Kl{}let Bi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function k5(){const n=M(),t=Gn(Zt().index,n);return(ir(t)?t:n)[ge]}(),n})(),P5=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>null}),n})();class $a{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const mA=new $a("15.2.9"),av={},uv="ngOriginalError";function lv(n){return n[uv]}class ja{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&lv(e);for(;t&&lv(t);)t=lv(t);return t||null}}function $i(n){return n instanceof Function?n():n}function _A(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const vA="ng-template";function G5(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==_A(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function wA(n){return 4===n.type&&n.value!==vA}function q5(n,e,t){return e===(4!==n.type||t?n.value:vA)}function W5(n,e,t){let r=4;const i=n.attrs||[],s=function Y5(n){for(let e=0;e<n.length;e++)if(q0(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!q5(n,u,t)||""===u&&1===e.length){if(Ur(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!G5(n.attrs,l,t)){if(Ur(r))return!1;o=!0}continue}const d=K5(8&r?"class":u,i,wA(n),t);if(-1===d){if(Ur(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==_A(f,l,0)||2&r&&l!==h){if(Ur(r))return!1;o=!0}}}}else{if(!o&&!Ur(r)&&!Ur(u))return!1;if(o&&Ur(u))continue;o=!1,r=u|1&r}}return Ur(r)||o}function Ur(n){return 0==(1&n)}function K5(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function X5(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function EA(n,e,t=!1){for(let r=0;r<e.length;r++)if(W5(n,e[r],t))return!0;return!1}function IA(n,e){return n?":not("+e.trim()+")":e}function Z5(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ur(o)&&(e+=IA(s,i),i=""),r=o,s=s||!Ur(r);t++}return""!==i&&(e+=IA(s,i)),e}const ce={};function N(n){bA(Ie(),M(),Pn()+n,!1)}function bA(n,e,t,r){if(!r)if(3==(3&e[fe])){const s=n.preOrderCheckHooks;null!==s&&Jh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Zh(e,s,0,t)}fo(t)}function SA(n,e=null,t=null,r){const i=AA(n,e,t,r);return i.resolveInjectorInitializers(),i}function AA(n,e=null,t=null,r,i=new Set){const s=[t||Ae,v5(n)];return r=r||("object"==typeof n?void 0:Be(n)),new hA(s,e||Ef(),r||null,i)}let wn=(()=>{class n{static create(t,r){if(Array.isArray(t))return SA({name:""},r,t,"");{const i=t.name??"";return SA({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Dl,n.NULL=new oA,n.\u0275prov=H({token:n,providedIn:"any",factory:()=>P(iA)}),n.__NG_ELEMENT_ID__=-1,n})();function A(n,e=ee.Default){const t=M();return null===t?P(n,e):tS(Zt(),t,Z(n),e)}function FA(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];f_(t[r]),o.contentQueries(2,e[s],s)}}}function bf(n,e,t,r,i,s,o,a,u,l,c){const d=e.blueprint.slice();return d[Pi]=i,d[fe]=76|r,(null!==c||n&&1024&n[fe])&&(d[fe]|=1024),R0(d),d[ct]=d[ba]=n,d[vt]=t,d[Gh]=o||n&&n[Gh],d[ge]=a||n&&n[ge],d[i_]=u||n&&n[i_]||null,d[zh]=l||n&&n[zh]||null,d[mn]=s,d[Rl]=function yq(){return mq++}(),d[I0]=c,d[yn]=2==e.type?n[yn]:d,d}function Ga(n,e,t,r,i){let s=n.data[e];if(null===s)s=function pv(n,e,t,r,i){const s=O0(),o=l_(),u=n.data[e]=function T6(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function EG(){return le.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Pl(){const n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ei(s,!0),s}function Ql(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function gv(n,e,t){p_(e);try{const r=n.viewQuery;null!==r&&Cv(1,r,t);const i=n.template;null!==i&&LA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&FA(n,e),n.staticViewQueries&&Cv(2,n.viewQuery,t);const s=n.components;null!==s&&function I6(n,e){for(let t=0;t<e.length;t++)G6(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[fe]&=-5,g_()}}function Cf(n,e,t,r){const i=e[fe];if(128!=(128&i)){p_(e);try{R0(e),function L0(n){return le.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&LA(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&Jh(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Zh(e,l,0,null),m_(e,0)}if(function H6(n){for(let e=L_(n);null!==e;e=V_(e)){if(!e[b0])continue;const t=e[Ta];for(let r=0;r<t.length;r++){const i=t[r];512&i[fe]||u_(i[ct],1),i[fe]|=512}}}(e),function j6(n){for(let e=L_(n);null!==e;e=V_(e))for(let t=Rn;t<e.length;t++){const r=e[t],i=r[B];Yh(r)&&Cf(i,r,i.template,r[vt])}}(e),null!==n.contentQueries&&FA(n,e),o){const l=n.contentCheckHooks;null!==l&&Jh(e,l)}else{const l=n.contentHooks;null!==l&&Zh(e,l,1),m_(e,1)}!function w6(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)fo(~i);else{const s=i,o=t[++r],a=t[++r];IG(o,s),a(2,e[s])}}}finally{fo(-1)}}(n,e);const a=n.components;null!==a&&function E6(n,e){for(let t=0;t<e.length;t++)z6(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&Cv(2,u,r),o){const l=n.viewCheckHooks;null!==l&&Jh(e,l)}else{const l=n.viewHooks;null!==l&&Zh(e,l,2),m_(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[fe]&=-41,512&e[fe]&&(e[fe]&=-513,u_(e[ct],-1))}finally{g_()}}}function LA(n,e,t,r,i){const s=Pn(),o=2&r;try{fo(-1),o&&e.length>Ke&&bA(n,e,Ke,!1),Ir(o?2:0,i),t(r,i)}finally{fo(s),Ir(o?3:1,i)}}function mv(n,e,t){if(o_(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function yv(n,e,t){P0()&&(function R6(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;kl(t)&&function U6(n,e,t){const r=sr(e,n),i=VA(t),s=n[Gh],o=Tf(n,bf(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||rf(t,e),vn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=po(e,n,a,t);vn(l,e),null!==o&&B6(0,a-i,l,u,0,o),Vr(u)&&(Gn(t.index,e)[vt]=po(e,n,a,t))}}(n,e,t,sr(t,e)),64==(64&t.flags)&&HA(n,e,t))}function _v(n,e,t=sr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function VA(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=vv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function vv(n,e,t,r,i,s,o,a,u,l){const c=Ke+r,d=c+i,h=function b6(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ce);return t}(c,d),f="function"==typeof l?l():l;return h[B]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function UA(n,e,t,r){const i=GA(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&qA(n).push(r,i.length-1))}function BA(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?$A(t,e,i,s):r.hasOwnProperty(i)&&$A(t,e,r[i],s)}return t}function $A(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function lr(n,e,t,r,i,s,o,a){const u=sr(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Tv(n,t,c,r,i),kl(e)&&function A6(n,e){const t=Gn(e,n);16&t[fe]||(t[fe]|=32)}(t,e.index)):3&e.type&&(r=function S6(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function wv(n,e,t,r){if(P0()){const i=null===r?null:{"":-1},s=function P6(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(EA(e,o.selectors,!1))if(r||(r=[]),Vr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Ev(n,e,a.length)}else r.unshift(o),Ev(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&jA(n,e,t,o,i,a),i&&function O6(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Fl(t.mergedAttrs,t.attrs)}function jA(n,e,t,r,i,s){for(let l=0;l<r.length;l++)I_(rf(t,e),n,r[l].type);!function L6(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const c=r[l];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,u=Ql(n,e,r.length,null);for(let l=0;l<r.length;l++){const c=r[l];t.mergedAttrs=Fl(t.mergedAttrs,c.hostAttrs),V6(n,t,e,u,c),F6(u,c,i),null!==c.contentQueries&&(t.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(t.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function D6(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,l=null;for(let c=e.directiveStart;c<i;c++){const d=s[c],h=t?t.get(d):null,p=h?h.outputs:null;u=BA(d.inputs,c,u,h?h.inputs:null),l=BA(d.outputs,c,l,p);const g=null===u||null===o||wA(e)?null:$6(u,c,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(n,t,s)}function HA(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function bG(){return le.lFrame.currentDirectiveIndex}();try{fo(s);for(let a=r;a<i;a++){const u=n.data[a],l=e[a];d_(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&k6(u,l)}}finally{fo(-1),d_(o)}}function k6(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Ev(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function F6(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Vr(e)&&(t[""]=n)}}function V6(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=ho(i.type)),o=new Ol(s,Vr(i),A);n.blueprint[r]=o,t[r]=o,function x6(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function N6(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Ql(n,t,i.hostVars,ce),i)}function ii(n,e,t,r,i,s){const o=sr(n,e);!function Iv(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?ue(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[ge],o,s,n.value,t,r,i)}function B6(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(t,d,l,c):t[c]=d}}}function $6(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function zA(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function z6(n,e){const t=Gn(e,n);if(Yh(t)){const r=t[B];48&t[fe]?Cf(r,t,r.template,t[vt]):t[co]>0&&bv(t)}}function bv(n){for(let r=L_(n);null!==r;r=V_(r))for(let i=Rn;i<r.length;i++){const s=r[i];if(Yh(s))if(512&s[fe]){const o=s[B];Cf(o,s,o.template,s[vt])}else s[co]>0&&bv(s)}const t=n[B].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Gn(t[r],n);Yh(i)&&i[co]>0&&bv(i)}}function G6(n,e){const t=Gn(e,n),r=t[B];(function q6(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),gv(r,t,t[vt])}function Tf(n,e){return n[xl]?n[E0][Fr]=e:n[xl]=e,n[E0]=e,e}function Df(n){for(;n;){n[fe]|=32;const e=zl(n);if(rG(n)&&!e)return n;n=e}return null}function Sf(n,e,t,r=!0){const i=e[Gh];i.begin&&i.begin();try{Cf(n,e,n.template,t)}catch(o){throw r&&KA(e,o),o}finally{i.end&&i.end()}}function Cv(n,e,t){f_(0),e(n,t)}function GA(n){return n[Ia]||(n[Ia]=[])}function qA(n){return n.cleanup||(n.cleanup=[])}function KA(n,e){const t=n[zh],r=t?t.get(ja,null):null;r&&r.handleError(e)}function Tv(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],l=n.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function ji(n,e,t){const r=Qh(e,n);!function MS(n,e,t){n.setValue(e,t)}(n[ge],r,t)}function Af(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Qy(i,a):2==s&&(r=Qy(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Mf(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Jt(s)),Lr(s))for(let a=Rn;a<s.length;a++){const u=s[a],l=u[B].firstChild;null!==l&&Mf(u[B],u,l,r)}const o=t.type;if(8&o)Mf(n,e,t.child,r);else if(32&o){const a=F_(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=BS(e,t);if(Array.isArray(a))r.push(...a);else{const u=zl(e[yn]);Mf(u[B],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Yl{get rootNodes(){const e=this._lView,t=e[B];return Mf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vt]}set context(e){this._lView[vt]=e}get destroyed(){return 128==(128&this._lView[fe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ct];if(Lr(e)){const t=e[Wh],r=t?t.indexOf(this):-1;r>-1&&($_(e,r),uf(t,r))}this._attachedToViewContainer=!1}NS(this._lView[B],this._lView)}onDestroy(e){UA(this._lView[B],this._lView,null,e)}markForCheck(){Df(this._cdRefInjectingView||this._lView)}detach(){this._lView[fe]&=-65}reattach(){this._lView[fe]|=64}detectChanges(){Sf(this._lView[B],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rq(n,e){Gl(n,e,e[ge],2,null,null)}(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class W6 extends Yl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Sf(e[B],e,e[vt],!1)}checkNoChanges(){}get context(){return null}}class QA extends Ua{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ne(e);return new Xl(t,this.ngModule)}}function YA(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Q6{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=$h(r);const i=this.injector.get(e,av,r);return i!==av||t===av?i:this.parentInjector.get(e,t,r)}}class Xl extends pA{get inputs(){return YA(this.componentDef.inputs)}get outputs(){return YA(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function e6(n){return n.map(Z5).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof ri?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Q6(e,s):e,a=o.get(Kl,null);if(null===a)throw new S(407,!1);const u=o.get(P5,null),l=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function C6(n,e,t){return n.selectRootElement(e,t===Or.ShadowDom)}(l,r,this.componentDef.encapsulation):B_(l,c,function K6(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f=vv(0,null,null,1,0,null,null,null,null,null),p=bf(null,f,null,h,null,null,a,l,u,o,null);let g,y;p_(p);try{const _=this.componentDef;let b,v=null;_.findHostDirectiveDefs?(b=[],v=new Map,_.findHostDirectiveDefs(_,b,v),b.push(_)):b=[_];const D=function X6(n,e){const t=n[B],r=Ke;return n[r]=e,Ga(t,r,2,"#host",null)}(p,d),U=function J6(n,e,t,r,i,s,o,a){const u=i[B];!function Z6(n,e,t,r){for(const i of n)e.mergedAttrs=Fl(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Af(e,e.mergedAttrs,!0),null!==t&&HS(r,t,e))}(r,n,e,o);const l=s.createRenderer(e,t),c=bf(i,VA(t),null,t.onPush?32:16,i[n.index],n,s,l,a||null,null,null);return u.firstCreatePass&&Ev(u,n,r.length-1),Tf(i,c),i[n.index]=c}(D,d,_,b,p,a,l);y=N0(f,Ke),d&&function tW(n,e,t,r){if(r)__(n,t,["ng-version",mA.full]);else{const{attrs:i,classes:s}=function t6(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Ur(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&__(n,t,i),s&&s.length>0&&jS(n,t,s.join(" "))}}(l,_,d,r),void 0!==t&&function nW(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,t),g=function eW(n,e,t,r,i,s){const o=Zt(),a=i[B],u=sr(o,i);jA(a,i,o,t,null,r);for(let c=0;c<t.length;c++)vn(po(i,a,o.directiveStart+c,o),i);HA(a,i,o),u&&vn(u,i);const l=po(i,a,o.directiveStart+o.componentOffset,o);if(n[vt]=i[vt]=l,null!==s)for(const c of s)c(l,e);return mv(a,o,n),l}(U,_,b,v,p,[rW]),gv(f,p,null)}finally{g_()}return new Y6(this.componentType,g,Ba(y,p),p,y)}}class Y6 extends A5{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new W6(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Tv(s[B],s,i,e,t),Df(Gn(this._tNode.index,s))}}get injector(){return new Ma(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function rW(){const n=Zt();Xh(M()[B],n)}function Re(n){let e=function XA(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Vr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Dv(n.inputs),o.declaredInputs=Dv(n.declaredInputs),o.outputs=Dv(n.outputs);const a=i.hostBindings;a&&aW(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&sW(n,u),l&&oW(n,l),Ky(n.inputs,i.inputs),Ky(n.declaredInputs,i.declaredInputs),Ky(n.outputs,i.outputs),Vr(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Re&&(t=!1)}}e=Object.getPrototypeOf(e)}!function iW(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Fl(i.hostAttrs,t=Fl(t,i.hostAttrs))}}(r)}function Dv(n){return n===Ri?{}:n===Ae?[]:n}function sW(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function oW(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function aW(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function xf(n){return!!function Sv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function En(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function vo(n,e,t,r){const i=En(n,e,t);return En(n,e+1,r)||i}function Kn(n,e,t,r){const i=M();return En(i,Sa(),e)&&(Ie(),ii(tt(),i,n,e,t,r)),Kn}function Qa(n,e,t,r,i,s,o,a){const l=function Nf(n,e,t,r,i){const s=vo(n,e,t,r);return En(n,e+2,i)||s}(n,Li(),t,i,o);return Vi(3),l?e+ue(t)+r+ue(i)+s+ue(o)+a:ce}function Y(n,e,t,r,i,s,o,a){const u=M(),l=Ie(),c=n+Ke,d=l.firstCreatePass?function yW(n,e,t,r,i,s,o,a,u){const l=e.consts,c=Ga(e,n,4,o||null,Es(l,a));wv(e,t,c,Es(l,u)),Xh(e,c);const d=c.tView=vv(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,t,r,i,s,o):l.data[c];ei(d,!1);const h=u[ge].createComment("");ff(l,u,h,d),vn(h,u),Tf(u,u[c]=zA(h,u,h,d)),Kh(d)&&yv(l,u,d),null!=o&&_v(u,d,a)}function wo(n){return Da(function wG(){return le.lFrame.contextLView}(),Ke+n)}function $(n,e,t){const r=M();return En(r,Sa(),e)&&lr(Ie(),tt(),r,n,e,r[ge],t,!1),$}function Av(n,e,t,r,i){const o=i?"class":"style";Tv(n,t,e.inputs[o],o,r)}function I(n,e,t,r){const i=M(),s=Ie(),o=Ke+n,a=i[ge],u=s.firstCreatePass?function vW(n,e,t,r,i,s){const o=e.consts,u=Ga(e,n,2,r,Es(o,i));return wv(e,t,u,Es(o,s)),null!==u.attrs&&Af(u,u.attrs,!1),null!==u.mergedAttrs&&Af(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,t,r):s.data[o],l=i[o]=B_(a,e,function NG(){return le.lFrame.currentNamespace}()),c=Kh(u);return ei(u,!0),HS(a,l,u),32!=(32&u.flags)&&ff(s,i,l,u),0===function gG(){return le.lFrame.elementDepthCount}()&&vn(l,i),function mG(){le.lFrame.elementDepthCount++}(),c&&(yv(s,i,u),mv(s,u,i)),null!==r&&_v(i,u),I}function E(){let n=Zt();l_()?c_():(n=n.parent,ei(n,!1));const e=n;!function yG(){le.lFrame.elementDepthCount--}();const t=Ie();return t.firstCreatePass&&(Xh(t,n),o_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function OG(n){return 0!=(8&n.flags)}(e)&&Av(t,e,M(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function FG(n){return 0!=(16&n.flags)}(e)&&Av(t,e,M(),e.stylesWithoutHost,!1),E}function je(n,e,t,r){return I(n,e,t,r),E(),je}function Zl(n,e,t){const r=M(),i=Ie(),s=n+Ke,o=i.firstCreatePass?function wW(n,e,t,r,i){const s=e.consts,o=Es(s,r),a=Ga(e,n,8,"ng-container",o);return null!==o&&Af(a,o,!0),wv(e,t,a,Es(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];ei(o,!0);const a=r[s]=r[ge].createComment("");return ff(i,r,a,o),vn(a,r),Kh(o)&&(yv(i,r,o),mv(i,o,r)),null!=t&&_v(r,o),Zl}function ec(){let n=Zt();const e=Ie();return l_()?c_():(n=n.parent,ei(n,!1)),e.firstCreatePass&&(Xh(e,n),o_(n)&&e.queries.elementEnd(n)),ec}function Hi(){return M()}function tc(n){return!!n&&"function"==typeof n.then}function dM(n){return!!n&&"function"==typeof n.subscribe}const Mv=dM;function Te(n,e,t,r){const i=M(),s=Ie(),o=Zt();return function fM(n,e,t,r,i,s,o){const a=Kh(r),l=n.firstCreatePass&&qA(n),c=e[vt],d=GA(e);let h=!0;if(3&r.type||o){const g=sr(r,e),y=o?o(g):g,_=d.length,b=o?D=>o(Jt(D[r.index])):r.index;let v=null;if(!o&&a&&(v=function EW(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Ia],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=gM(r,e,c,s,!1);const D=t.listen(y,i,s);d.push(s,D),l&&l.push(i,b,_,_+1)}}else s=gM(r,e,c,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const U=e[p[y]][p[y+1]].subscribe(s),q=d.length;d.push(s,U),l&&l.push(i,r.index,q,-(q+1))}}}(s,i,i[ge],o,n,e,r),Te}function pM(n,e,t,r){try{return Ir(6,e,t),!1!==t(r)}catch(i){return KA(n,i),!1}finally{Ir(7,e,t)}}function gM(n,e,t,r,i){return function s(o){if(o===Function)return r;Df(n.componentOffset>-1?Gn(n.index,e):e);let u=pM(e,t,r,o),l=s.__ngNextListenerFn__;for(;l;)u=pM(e,t,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Se(n=1){return function TG(n){return(le.lFrame.contextLView=function DG(n,e){for(;n>0;)e=e[ba],n--;return e}(n,le.lFrame.contextLView))[vt]}(n)}function Rf(n,e){return n<<17|e<<2}function Is(n){return n>>17&32767}function Nv(n){return 2|n}function Eo(n){return(131068&n)>>2}function Rv(n,e){return-131069&n|e<<2}function kv(n){return 1|n}function TM(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Is(s):Eo(s),u=!1;for(;0!==a&&(!1===u||o);){const c=n[a+1];xW(n[a],e)&&(u=!0,n[a+1]=r?kv(c):Nv(c)),a=r?Is(c):Eo(c)}u&&(n[t+1]=r?Nv(s):kv(s))}function xW(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Pa(n,e)>=0}const Ft={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DM(n){return n.substring(Ft.key,Ft.keyEnd)}function SM(n,e){const t=Ft.textEnd;return t===e?-1:(e=Ft.keyEnd=function PW(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ft.key=e,t),tu(n,e,t))}function tu(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function nu(n,e,t){return Br(n,e,t,!1),nu}function kf(n,e){return Br(n,e,null,!0),kf}function zi(n){!function $r(n,e,t,r){const i=Ie(),s=Vi(2);i.firstUpdatePass&&kM(i,null,s,r);const o=M();if(t!==ce&&En(o,s,t)){const a=i.data[Pn()];if(LM(a,r)&&!RM(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=Qy(u,t||"")),Av(i,a,o,t,r)}else!function zW(n,e,t,r,i,s,o,a){i===ce&&(i=Ae);let u=0,l=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=u<i.length?i[u+1]:void 0,f=l<s.length?s[l+1]:void 0;let g,p=null;c===d?(u+=2,l+=2,h!==f&&(p=d,g=f)):null===d||null!==c&&c<d?(u+=2,p=c):(l+=2,p=d,g=f),null!==p&&OM(n,e,t,r,p,g,o,a),c=u<i.length?i[u]:null,d=l<s.length?s[l]:null}}(i,a,o,o[ge],o[s+1],o[s+1]=function jW(n,e,t){if(null==t||""===t)return Ae;const r=[],i=ar(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(HW,ai,n,!0)}function ai(n,e){for(let t=function RW(n){return function MM(n){Ft.key=0,Ft.keyEnd=0,Ft.value=0,Ft.valueEnd=0,Ft.textEnd=n.length}(n),SM(n,tu(n,0,Ft.textEnd))}(e);t>=0;t=SM(e,t))or(n,DM(e),!0)}function Br(n,e,t,r){const i=M(),s=Ie(),o=Vi(2);s.firstUpdatePass&&kM(s,n,o,r),e!==ce&&En(i,o,e)&&OM(s,s.data[Pn()],i,i[ge],n,i[o+1]=function GW(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Be(ar(n)))),n}(e,t),r,o)}function RM(n,e){return e>=n.expandoStartIndex}function kM(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Pn()],o=RM(n,t);LM(s,r)&&null===e&&!o&&(e=!1),e=function VW(n,e,t,r){const i=h_(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=nc(t=Pv(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Pv(i,n,e,t,r),null===s){let u=function UW(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Eo(r))return n[Is(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Pv(null,n,e,u[1],r),u=nc(u,e.attrs,r),function BW(n,e,t,r){n[Is(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function $W(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=nc(r,n[s].hostAttrs,t);return nc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function AW(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Is(o),u=Eo(o);n[r]=t;let c,l=!1;if(Array.isArray(t)?(c=t[1],(null===c||Pa(t,c)>0)&&(l=!0)):c=t,i)if(0!==u){const h=Is(n[a+1]);n[r+1]=Rf(h,a),0!==h&&(n[h+1]=Rv(n[h+1],r)),n[a+1]=function DW(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Rf(a,0),0!==a&&(n[a+1]=Rv(n[a+1],r)),a=r;else n[r+1]=Rf(u,0),0===a?a=r:n[u+1]=Rv(n[u+1],r),u=r;l&&(n[r+1]=Nv(n[r+1])),TM(n,c,r,!0),TM(n,c,r,!1),function MW(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Pa(s,e)>=0&&(t[r+1]=kv(t[r+1]))}(e,c,n,r,s),o=Rf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function Pv(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=nc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function nc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),or(n,o,!!t||e[++s]))}return void 0===n?null:n}function HW(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&or(n,r,t)}function OM(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1],c=function SW(n){return 1==(1&n)}(l)?FM(u,e,t,i,Eo(l),o):void 0;Pf(c)||(Pf(s)||function TW(n){return 2==(2&n)}(l)&&(s=FM(u,null,t,i,a,o)),function jq(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:qn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=qn.Important),n.setStyle(t,r,i,s))}}(r,o,Qh(Pn(),t),i,s))}function FM(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=t[i+1];h===ce&&(h=d?Ae:void 0);let f=d?D_(h,r):c===r?h:void 0;if(l&&!Pf(f)&&(f=D_(u,r)),Pf(f)&&(a=f,o))return a;const p=n[i+1];i=o?Is(p):Eo(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=D_(u,r))}return a}function Pf(n){return void 0!==n}function LM(n,e){return 0!=(n.flags&(e?8:16))}function T(n,e=""){const t=M(),r=Ie(),i=n+Ke,s=r.firstCreatePass?Ga(r,i,1,e,null):r.data[i],o=t[i]=function U_(n,e){return n.createText(e)}(t[ge],e);ff(r,t,o,s),ei(s,!1)}function nt(n){return In("",n,""),nt}function In(n,e,t){const r=M(),i=function Wa(n,e,t,r){return En(n,Sa(),t)?e+ue(t)+r:ce}(r,n,e,t);return i!==ce&&ji(r,Pn(),i),In}function ru(n,e,t,r,i){const s=M(),o=function Ka(n,e,t,r,i,s){const a=vo(n,Li(),t,i);return Vi(2),a?e+ue(t)+r+ue(i)+s:ce}(s,n,e,t,r,i);return o!==ce&&ji(s,Pn(),o),ru}function Of(n,e,t,r,i,s,o){const a=M(),u=Qa(a,n,e,t,r,i,s,o);return u!==ce&&ji(a,Pn(),u),Of}function Ov(n,e,t){const r=M();if(En(r,Sa(),e)){const s=Ie(),o=tt();lr(s,o,r,n,e,function WA(n,e,t){return(null===n||Vr(n))&&(t=function dG(n){for(;Array.isArray(n);){if("object"==typeof n[s_])return n;n=n[Pi]}return null}(t[e.index])),t[ge]}(h_(s.data),o,r),t,!0)}return Ov}const su="en-US";let n1=su;function Vv(n,e,t,r,i){if(n=Z(n),Array.isArray(n))for(let s=0;s<n.length;s++)Vv(n[s],e,t,r,i);else{const s=Ie(),o=M();let a=_o(n)?n:Z(n.provide),u=fA(n);const l=Zt(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(_o(n)||!n.multi){const f=new Ol(u,i,A),p=Bv(a,e,i?c:c+h,d);-1===p?(I_(rf(l,o),s,a),Uv(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Bv(a,e,c+h,d),p=Bv(a,e,c,c+h),y=p>=0&&t[p];if(i&&!y||!i&&!(f>=0&&t[f])){I_(rf(l,o),s,a);const _=function l7(n,e,t,r,i){const s=new Ol(n,t,A);return s.multi=[],s.index=e,s.componentProviders=0,S1(s,i,r&&!t),s}(i?u7:a7,t.length,i,r,u);!i&&y&&(t[p].providerFactory=_),Uv(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(_),o.push(_)}else Uv(s,n,f>-1?f:p,S1(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function Uv(n,e,t,r){const i=_o(e),s=function E5(n){return!!n.useClass}(e);if(i||s){const u=(s?Z(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function S1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Bv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function a7(n,e,t,r){return $v(this.multi,[])}function u7(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=po(t,t[B],this.providerFactory.index,r);s=a.slice(0,o),$v(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],$v(i,s);return s}function $v(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ze(n,e=[]){return t=>{t.providersResolver=(r,i)=>function o7(n,e,t){const r=Ie();if(r.firstCreatePass){const i=Vr(n);Vv(t,r.data,r.blueprint,i,!0),Vv(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ou{}class A1{}class M1 extends ou{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new QA(this);const r=rr(e);this._bootstrapComponents=$i(r.bootstrap),this._r3Injector=AA(e,t,[{provide:ou,useValue:this},{provide:Ua,useValue:this.componentFactoryResolver}],Be(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class jv extends A1{constructor(e){super(),this.moduleType=e}create(e){return new M1(this.moduleType,e)}}class d7 extends ou{constructor(e,t,r){super(),this.componentFactoryResolver=new QA(this),this.instance=null;const i=new hA([...e,{provide:ou,useValue:this},{provide:Ua,useValue:this.componentFactoryResolver}],t||Ef(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Bf(n,e,t=null){return new d7(n,e,t).injector}let h7=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=uA(0,t.type),i=r.length>0?Bf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(P(ri))}),n})();function $f(n){n.getStandaloneInjector=e=>e.get(h7).getOrCreateStandaloneInjector(n)}function F1(n,e,t,r,i,s){const o=e+t;return En(n,o,i)?function si(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function uc(n,e){const t=n[e];return t===ce?void 0:t}(n,o+1)}function jr(n,e){const t=Ie();let r;const i=n+Ke;t.firstCreatePass?(r=function N7(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=ho(r.type)),o=wr(A);try{const a=nf(!1),u=s();return nf(a),function _W(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,M(),i,u),u}finally{wr(o)}}function Hr(n,e,t){const r=n+Ke,i=M(),s=Da(i,r);return function lc(n,e){return n[B].data[e].pure}(i,r)?F1(i,function kn(){const n=le.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,s.transform,t,s):s.transform(t)}function zv(n){return e=>{setTimeout(n,void 0,e)}}const ht=class F7 extends fn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=zv(s),i&&(i=zv(i)),o&&(o=zv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof tr&&e.add(a),a}};function L7(){return this._results[Symbol.iterator]()}class Gv{get changes(){return this._changes||(this._changes=new ht)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Gv.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=L7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function br(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function qG(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gi=(()=>{class n{}return n.__NG_ELEMENT_ID__=B7,n})();const V7=Gi,U7=class extends V7{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=bf(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Nl]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Zr];return null!==o&&(i[Zr]=o.createEmbeddedView(r)),gv(r,i,e),new Yl(i)}};function B7(){return jf(Zt(),M())}function jf(n,e){return 4&n.type?new U7(e,n,Ba(n,e)):null}let zr=(()=>{class n{}return n.__NG_ELEMENT_ID__=$7,n})();function $7(){return H1(Zt(),M())}const j7=zr,$1=class extends j7{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new Ma(this._hostTNode,this._hostLView)}get parentInjector(){const e=E_(this._hostTNode,this._hostLView);if(Q0(e)){const t=tf(e,this._hostLView),r=ef(e);return new Ma(t[B].data[r+8],t)}return new Ma(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=j1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Rn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Vl(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Xl(Ne(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?l:this.parentInjector).get(ri,null);h&&(s=h)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[B];if(function pG(n){return Lr(n[ct])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[ct],h=new $1(d,d[mn],d[ct]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function Pq(n,e,t,r){const i=Rn+r,s=t.length;r>0&&(t[i-1][Fr]=e),r<s-Rn?(e[Fr]=t[i],aS(t,Rn+r,e)):(t.push(e),e[Fr]=null),e[ct]=t;const o=e[Nl];null!==o&&t!==o&&function Oq(n,e){const t=n[Ta];e[yn]!==e[ct][ct][yn]&&(n[b0]=!0),null===t?n[Ta]=[e]:t.push(e)}(o,e);const a=e[Zr];null!==a&&a.insertView(n),e[fe]|=64}(i,r,o,s);const a=z_(s,o),u=r[ge],l=hf(u,o[qh]);return null!==l&&function Nq(n,e,t,r,i,s){r[Pi]=i,r[mn]=e,Gl(n,r,t,1,i,s)}(i,o[mn],u,r,l,a),e.attachToViewContainerRef(),aS(qv(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=j1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=$_(this._lContainer,t);r&&(uf(qv(this._lContainer),t),NS(r[B],r))}detach(e){const t=this._adjustIndex(e,-1),r=$_(this._lContainer,t);return r&&null!=uf(qv(this._lContainer),t)?new Yl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function j1(n){return n[Wh]}function qv(n){return n[Wh]||(n[Wh]=[])}function H1(n,e){let t;const r=e[n.index];if(Lr(r))t=r;else{let i;if(8&n.type)i=Jt(r);else{const s=e[ge];i=s.createComment("");const o=sr(n,e);mo(s,hf(s,o),i,function Uq(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=zA(r,e,i,n),Tf(e,t)}return new $1(t,n,e)}class Wv{constructor(e){this.queryList=e,this.matches=null}clone(){return new Wv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Kv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Q1(e,t).matches&&this.queries[t].setDirty()}}class z1{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Qv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Qv(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Yv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Yv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,H7(t,s)),this.matchTNodeWithReadOption(e,t,sf(t,e,s,!1,!1))}else r===Gi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,sf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ur||i===zr||i===Gi&&4&t.type)this.addMatch(t.index,-2);else{const s=sf(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function H7(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function G7(n,e,t,r){return-1===t?function z7(n,e){return 11&n.type?Ba(n,e):4&n.type?jf(n,e):null}(e,n):-2===t?function q7(n,e,t){return t===ur?Ba(e,n):t===Gi?jf(e,n):t===zr?H1(e,n):void 0}(n,e,r):po(n,n[B],t,e)}function G1(n,e,t,r){const i=e[Zr].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const l=o[u];a.push(l<0?null:G7(e,s[l],o[u+1],t.metadata.read))}i.matches=a}return i.matches}function Xv(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=G1(n,e,i,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const l=s[a+1],c=e[-u];for(let d=Rn;d<c.length;d++){const h=c[d];h[Nl]===h[ct]&&Xv(h[B],h,l,r)}if(null!==c[Ta]){const d=c[Ta];for(let h=0;h<d.length;h++){const f=d[h];Xv(f[B],f,l,r)}}}}}return r}function cc(n){const e=M(),t=Ie(),r=U0();f_(r+1);const i=Q1(t,r);if(n.dirty&&function fG(n){return 4==(4&n[fe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Xv(t,e,r,[]):G1(t,e,i,r);n.reset(s,R5),n.notifyOnChanges()}return!0}return!1}function Hf(n,e,t){const r=Ie();r.firstCreatePass&&(function K1(n,e,t){null===n.queries&&(n.queries=new Qv),n.queries.track(new Yv(e,t))}(r,new z1(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function W1(n,e,t){const r=new Gv(4==(4&t));UA(n,e,r,r.destroy),null===e[Zr]&&(e[Zr]=new Kv),e[Zr].queries.push(new Wv(r))}(r,M(),e)}function dc(){return function W7(n,e){return n[Zr].queries[e].queryList}(M(),U0())}function Q1(n,e){return n.queries.getByIndex(e)}function Gf(...n){}const qf=new z("Application Initializer");let Wf=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Gf,this.reject=Gf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(tc(s))t.push(s);else if(Mv(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(P(qf,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fc=new z("AppId",{providedIn:"root",factory:function fx(){return`${rw()}${rw()}${rw()}`}});function rw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const px=new z("Platform Initializer"),pc=new z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gx=new z("AnimationModuleType");let g8=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const qi=new z("LocaleId",{providedIn:"root",factory:()=>oe(qi,ee.Optional|ee.SkipSelf)||function m8(){return typeof $localize<"u"&&$localize.locale||su}()});class _8{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let mx=(()=>{class n{compileModuleSync(t){return new jv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=$i(rr(t).declarations).reduce((o,a)=>{const u=Ne(a);return u&&o.push(new Xl(u)),o},[]);return new _8(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const E8=(()=>Promise.resolve(0))();function iw(n){typeof Zone>"u"?E8.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ke{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ht(!1),this.onMicrotaskEmpty=new ht(!1),this.onStable=new ht(!1),this.onError=new ht(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function I8(){let n=We.requestAnimationFrame,e=We.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function T8(n){const e=()=>{!function C8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(We,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ow(n),n.isCheckStableRunning=!0,sw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ow(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return vx(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),wx(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return vx(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),wx(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,ow(n),sw(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ke.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(ke.isInAngularZone())throw new S(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,b8,Gf,Gf);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const b8={};function sw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ow(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function vx(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wx(n){n._nesting--,sw(n)}class D8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ht,this.onMicrotaskEmpty=new ht,this.onStable=new ht,this.onError=new ht}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const Ex=new z(""),Kf=new z("");let lw,aw=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lw||(function S8(n){lw=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ke.assertNotInAngularZone(),iw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())iw(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(P(ke),P(uw),P(Kf))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),uw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return lw?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Wi=!1;let bs=null;const Ix=new z("AllowMultipleToken"),cw=new z("PlatformDestroyListeners"),bx=new z("appBootstrapListener");class Cx{constructor(e,t){this.name=e,this.token=t}}function Dx(n,e,t=[]){const r=`Platform: ${e}`,i=new z(r);return(s=[])=>{let o=dw();if(!o||o.injector.get(Ix,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function x8(n){if(bs&&!bs.get(Ix,!1))throw new S(400,!1);bs=n;const e=n.get(Ax);(function Tx(n){const e=n.get(px,null);e&&e.forEach(t=>t())})(n)}(function Sx(n=[],e){return wn.create({name:e,providers:[{provide:rv,useValue:"platform"},{provide:cw,useValue:new Set([()=>bs=null])},...n]})}(a,r))}return function R8(n){const e=dw();if(!e)throw new S(401,!1);return e}()}}function dw(){return bs?.get(Ax)??null}let Ax=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function xx(n,e){let t;return t="noop"===n?new D8:("zone.js"===n?void 0:n)||new ke(e),t}(r?.ngZone,function Mx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:ke,useValue:i}];return i.run(()=>{const o=wn.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(ja,null);if(!u)throw new S(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{u.handleError(c)}});a.onDestroy(()=>{Qf(this._modules,a),l.unsubscribe()})}),function Nx(n,e,t){try{const r=t();return tc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const l=a.injector.get(Wf);return l.runInitializers(),l.donePromise.then(()=>(function r1(n){vr(n,"Expected localeId to be defined"),"string"==typeof n&&(n1=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(qi,su)||su),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=Rx({},r);return function A8(n,e,t){const r=new jv(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(bo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new S(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(cw,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(P(wn))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Rx(n,e){return Array.isArray(e)?e.reduce(Rx,n):{...n,...e}}let bo=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new qe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new qe(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),iw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),l.unsubscribe()}});this.isStable=function kz(...n){const e=Tl(n),t=function Dz(n,e){return"number"==typeof Gy(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?jn(r[0]):va(t)(Fe(r,e)):Pr}(s,o.pipe(function Pz(n={}){const{connector:e=(()=>new fn),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,l=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return _t((g,y)=>{l++,!d&&!c&&h();const _=u=u??e();y.add(()=>{l--,0===l&&!d&&!c&&(a=Wy(p,i))}),_.subscribe(y),!o&&l>0&&(o=new Cl({next:b=>_.next(b),error:b=>{d=!0,h(),a=Wy(f,t,b),_.error(b)},complete:()=>{c=!0,h(),a=Wy(f,r),_.complete()}}),jn(g).subscribe(o))})(s)}}()))}bootstrap(t,r){const i=t instanceof pA;if(!this._injector.get(Wf).done){!i&&function Ea(n){const e=Ne(n)||gn(n)||zn(n);return null!==e&&e.standalone}(t);throw new S(405,Wi)}let o;o=i?t:this._injector.get(Ua).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function M8(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ou),l=o.create(wn.NULL,[],r||o.selector,a),c=l.location.nativeElement,d=l.injector.get(Ex,null);return d?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),Qf(this.components,l),d?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Qf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(bx,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Qf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new S(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(P(ke),P(ri),P(ja))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Yf=(()=>{class n{}return n.__NG_ELEMENT_ID__=P8,n})();function P8(n){return function O8(n,e,t){if(kl(n)&&!t){const r=Gn(n.index,e);return new Yl(r,r)}return 47&n.type?new Yl(e[yn],e):null}(Zt(),M(),16==(16&n))}class Lx{constructor(){}supports(e){return xf(e)}create(e){return new $8(e)}}const B8=(n,e)=>e;class $8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||B8}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<Ux(r,i,s)?t:r,a=Ux(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!xf(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function pW(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new j8(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Vx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class j8{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class H8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Vx{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new H8,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ux(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function $x(){return new Zf([new Lx])}let Zf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||$x()),deps:[[n,new Bl,new _n]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new S(901,!1)}}return n.\u0275prov=H({token:n,providedIn:"root",factory:$x}),n})();const K8=Dx(null,"core",[]);let Q8=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(P(bo))},n.\u0275mod=Xt({type:n}),n.\u0275inj=$t({}),n})();function lu(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let mw=null;function Ki(){return mw}class J8{}const wt=new z("DocumentToken");let yw=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return function Z8(){return P(Hx)}()},providedIn:"platform"}),n})();const eK=new z("Location Initialized");let Hx=(()=>{class n extends yw{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ki().getBaseHref(this._doc)}onPopState(t){const r=Ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){zx()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){zx()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(P(wt))},n.\u0275prov=H({token:n,factory:function(){return function tK(){return new Hx(P(wt))}()},providedIn:"platform"}),n})();function zx(){return!!window.history.pushState}function _w(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Gx(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Qi(n){return n&&"?"!==n[0]?"?"+n:n}let To=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return oe(Wx)},providedIn:"root"}),n})();const qx=new z("appBaseHref");let Wx=(()=>{class n extends To{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??oe(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _w(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Qi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Qi(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Qi(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(P(yw),P(qx,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nK=(()=>{class n extends To{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=_w(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Qi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Qi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(P(yw),P(qx,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),vw=(()=>{class n{constructor(t){this._subject=new ht,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function sK(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Gx(Kx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qi(r))}normalize(t){return n.stripTrailingSlash(function iK(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Kx(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Qi,n.joinWithSlash=_w,n.stripTrailingSlash=Gx,n.\u0275fac=function(t){return new(t||n)(P(To))},n.\u0275prov=H({token:n,factory:function(){return function rK(){return new vw(P(To))}()},providedIn:"root"}),n})();function Kx(n){return n.replace(/\/index.html$/,"")}function rN(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class zK{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cu=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new zK(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),aN(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{aN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(A(zr),A(Gi),A(Zf))},n.\u0275dir=ie({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function aN(n,e){n.context.$implicit=e.item}let ui=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new qK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){uN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){uN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(A(zr),A(Gi))},n.\u0275dir=ie({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qK{constructor(){this.$implicit=null,this.ngIf=null}}function uN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Be(e)}'.`)}function Wr(n,e){return new S(2100,!1)}class QK{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class YK{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const XK=new YK,JK=new QK;let lp=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(tc(t))return XK;if(dM(t))return JK;throw Wr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(A(Yf,16))},n.\u0275pipe=Hn({name:"async",type:n,pure:!1,standalone:!0}),n})();const eQ=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let cN=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Wr();return t.replace(eQ,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=Hn({name:"titlecase",type:n,pure:!0,standalone:!0}),n})(),gQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=$t({}),n})();let vQ=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>new wQ(P(wt),window)}),n})();class wQ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function EQ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fN(this.window.history)||fN(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fN(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class pN{}class KQ extends J8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fw extends KQ{static makeCurrent(){!function X8(n){mw||(mw=n)}(new Fw)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function QQ(){return vc=vc||document.querySelector("base"),vc?vc.getAttribute("href"):null}();return null==t?null:function YQ(n){hp=hp||document.createElement("a"),hp.setAttribute("href",n);const e=hp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return rN(document.cookie,e)}}let hp,vc=null;const vN=new z("TRANSITION_ID"),JQ=[{provide:qf,useFactory:function XQ(n,e,t){return()=>{t.get(Wf).donePromise.then(()=>{const r=Ki(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[vN,wt,wn],multi:!0}];let eY=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const fp=new z("EventManagerPlugins");let pp=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(P(fp),P(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class wN{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Ki().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let EN=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),wc=(()=>{class n extends EN{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(P(wt))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const Lw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vw=/%COMP%/g,CN=new z("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function TN(n,e){return e.flat(100).map(t=>t.replace(Vw,n))}function DN(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let gp=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Uw(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof MN?i.applyToHost(t):i instanceof Bw&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case Or.Emulated:s=new MN(o,a,r,this.appId,u);break;case Or.ShadowDom:return new aY(o,a,t,r);default:s=new Bw(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(P(pp),P(wc),P(fc),P(CN))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class Uw{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Lw[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(AN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(AN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Lw[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Lw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(qn.DashCase|qn.Important)?e.style.setProperty(t,r,i&qn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&qn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,DN(r)):this.eventManager.addEventListener(e,t,DN(r))}}function AN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class aY extends Uw{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=TN(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Bw extends Uw{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=TN(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class MN extends Bw{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function iY(n){return"_ngcontent-%COMP%".replace(Vw,n)}(o),this.hostAttr=function sY(n){return"_nghost-%COMP%".replace(Vw,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let uY=(()=>{class n extends wN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(P(wt))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const xN=["alt","control","meta","shift"],lY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cY={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dY=(()=>{class n extends wN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ki().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),xN.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=lY[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),xN.forEach(o=>{o!==i&&(0,cY[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(P(wt))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const RN=[{provide:pc,useValue:"browser"},{provide:px,useValue:function hY(){Fw.makeCurrent()},multi:!0},{provide:wt,useFactory:function pY(){return function Wq(n){K_=n}(document),document},deps:[]}],gY=Dx(K8,"browser",RN),kN=new z(""),PN=[{provide:Kf,useClass:class ZQ{addToWindow(e){We.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},We.getAllAngularTestabilities=()=>e.getAllTestabilities(),We.getAllAngularRootElements=()=>e.getAllRootElements(),We.frameworkStabilizers||(We.frameworkStabilizers=[]),We.frameworkStabilizers.push(r=>{const i=We.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ki().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Ex,useClass:aw,deps:[ke,uw,Kf]},{provide:aw,useClass:aw,deps:[ke,uw,Kf]}],ON=[{provide:rv,useValue:"root"},{provide:ja,useFactory:function fY(){return new ja},deps:[]},{provide:fp,useClass:uY,multi:!0,deps:[wt,ke,pc]},{provide:fp,useClass:dY,multi:!0,deps:[wt]},{provide:gp,useClass:gp,deps:[pp,wc,fc,CN]},{provide:Kl,useExisting:gp},{provide:EN,useExisting:wc},{provide:wc,useClass:wc,deps:[wt]},{provide:pp,useClass:pp,deps:[fp,ke]},{provide:pN,useClass:eY,deps:[]},[]];let FN=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:fc,useValue:t.appId},{provide:vN,useExisting:fc},JQ]}}}return n.\u0275fac=function(t){return new(t||n)(P(kN,12))},n.\u0275mod=Xt({type:n}),n.\u0275inj=$t({providers:[...ON,...PN],imports:[gQ,Q8]}),n})(),LN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(P(wt))},n.\u0275prov=H({token:n,factory:function(t){let r=null;return r=t?new t:function yY(){return new LN(P(wt))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let BN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(t){let r=null;return r=t?new(t||n):P($N),r},providedIn:"root"}),n})(),$N=(()=>{class n extends BN{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Ve.NONE:return r;case Ve.HTML:return ni(r,"HTML")?ar(r):eA(this._doc,String(r)).toString();case Ve.STYLE:return ni(r,"Style")?ar(r):r;case Ve.SCRIPT:if(ni(r,"Script"))return ar(r);throw new Error("unsafe value used in a script context");case Ve.URL:return ni(r,"URL")?ar(r):yf(String(r));case Ve.RESOURCE_URL:if(ni(r,"ResourceURL"))return ar(r);throw new Error(`unsafe value used in a resource URL context (see ${Oh})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${Oh})`)}}bypassSecurityTrustHtml(t){return function e5(n){return new Kq(n)}(t)}bypassSecurityTrustStyle(t){return function t5(n){return new Qq(n)}(t)}bypassSecurityTrustScript(t){return function n5(n){return new Yq(n)}(t)}bypassSecurityTrustUrl(t){return function r5(n){return new Xq(n)}(t)}bypassSecurityTrustResourceUrl(t){return function i5(n){return new Jq(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(P(wt))},n.\u0275prov=H({token:n,factory:function(t){let r=null;return r=t?new t:function IY(n){return new $N(n.get(wt))}(P(wn)),r},providedIn:"root"}),n})();function Q(...n){return Fe(n,Tl(n))}class Yn extends fn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const mp=bl(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:bY}=Array,{getPrototypeOf:CY,prototype:TY,keys:DY}=Object;function jN(n){if(1===n.length){const e=n[0];if(bY(e))return{args:e,keys:null};if(function SY(n){return n&&"object"==typeof n&&CY(n)===TY}(e)){const t=DY(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:AY}=Array;function HN(n){return re(e=>function MY(n,e){return AY(e)?n(...e):n(e)}(n,e))}function zN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Hw(...n){const e=Tl(n),t=qy(n),{args:r,keys:i}=jN(n);if(0===r.length)return Fe([],e);const s=new qe(function xY(n,e,t=lo){return r=>{GN(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)GN(e,()=>{const l=Fe(n[u],e);let c=!1;l.subscribe(lt(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>zN(i,o):lo));return t?s.pipe(HN(t)):s}function GN(n,e,t){n?xi(t,n,e):e()}function zw(...n){return function NY(){return va(1)}()(Fe(n,Tl(n)))}function qN(n){return new qe(e=>{jn(n()).subscribe(e)})}function Ec(n,e){const t=Ue(n)?n:()=>n,r=i=>i.error(t());return new qe(e?i=>e.schedule(r,0,i):r)}function Gw(){return _t((n,e)=>{let t=null;n._refCount++;const r=lt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class WN extends qe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,KD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tr;const t=this.getSubject();e.add(this.source.subscribe(lt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tr.EMPTY)}return e}refCount(){return Gw()(this)}}function li(n,e){return _t((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(lt(r,u=>{i?.unsubscribe();let l=0;const c=s++;jn(n(u,c)).subscribe(i=lt(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function du(n){return n<=0?()=>Pr:_t((e,t)=>{let r=0;e.subscribe(lt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Xi(n,e){return _t((t,r)=>{let i=0;t.subscribe(lt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function yp(n){return _t((e,t)=>{let r=!1;e.subscribe(lt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function KN(n=kY){return _t((e,t)=>{let r=!1;e.subscribe(lt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function kY(){return new mp}function Ts(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xi((i,s)=>n(i,s,r)):lo,du(1),t?yp(e):KN(()=>new mp))}function Ds(n,e){return Ue(e)?Bt(n,e,1):Bt(n,1)}function xt(n,e,t){const r=Ue(n)||e||t?{next:n,error:e,complete:t}:n;return r?_t((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(lt(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):lo}function ci(n){return _t((e,t)=>{let s,r=null,i=!1;r=e.subscribe(lt(t,void 0,void 0,o=>{s=jn(n(o,ci(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function QN(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(lt(o,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function YN(n,e){return _t(QN(n,e,arguments.length>=2,!0))}function qw(n){return n<=0?()=>Pr:_t((e,t)=>{let r=[];e.subscribe(lt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function XN(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xi((i,s)=>n(i,s,r)):lo,qw(1),t?yp(e):KN(()=>new mp))}function Ww(n){return _t((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const de="primary",Ic=Symbol("RouteTitle");class FY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function hu(n){return new FY(n)}function LY(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function di(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!JN(n[i],e[i]))return!1;return!0}function JN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function ZN(n){return Array.prototype.concat.apply([],n)}function eR(n){return n.length>0?n[n.length-1]:null}function tn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ss(n){return Mv(n)?n:tc(n)?Fe(Promise.resolve(n)):Q(n)}const _p=!1,UY={exact:function rR(n,e,t){if(!Do(n.segments,e.segments)||!vp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!rR(n.children[r],e.children[r],t))return!1;return!0},subset:iR},tR={exact:function BY(n,e){return di(n,e)},subset:function $Y(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>JN(n[t],e[t]))},ignored:()=>!0};function nR(n,e,t){return UY[t.paths](n.root,e.root,t.matrixParams)&&tR[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function iR(n,e,t){return sR(n,e,e.segments,t)}function sR(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Do(i,t)||e.hasChildren()||!vp(i,t,r))}if(n.segments.length===t.length){if(!Do(n.segments,t)||!vp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!iR(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Do(n.segments,i)&&vp(n.segments,i,r)&&n.children[de])&&sR(n.children[de],e,s,r)}}function vp(n,e,t){return e.every((r,i)=>tR[t](n[i].parameters,r.parameters))}class As{constructor(e=new me([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hu(this.queryParams)),this._queryParamMap}toString(){return zY.serialize(this)}}class me{constructor(e,t){this.segments=e,this.children=t,this.parent=null,tn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wp(this)}}class bc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=hu(this.parameters)),this._parameterMap}toString(){return uR(this)}}function Do(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Cc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return new Kw},providedIn:"root"}),n})();class Kw{parse(e){const t=new ZY(e);return new As(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Tc(e.root,!0)}`,r=function WY(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ep(t)}=${Ep(i)}`).join("&"):`${Ep(t)}=${Ep(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function GY(n){return encodeURI(n)}(e.fragment)}`:""}`}}const zY=new Kw;function wp(n){return n.segments.map(e=>uR(e)).join("/")}function Tc(n,e){if(!n.hasChildren())return wp(n);if(e){const t=n.children[de]?Tc(n.children[de],!1):"",r=[];return tn(n.children,(i,s)=>{s!==de&&r.push(`${s}:${Tc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function HY(n,e){let t=[];return tn(n.children,(r,i)=>{i===de&&(t=t.concat(e(r,i)))}),tn(n.children,(r,i)=>{i!==de&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===de?[Tc(n.children[de],!1)]:[`${i}:${Tc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[de]?`${wp(n)}/${t[0]}`:`${wp(n)}/(${t.join("//")})`}}function oR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ep(n){return oR(n).replace(/%3B/gi,";")}function Qw(n){return oR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ip(n){return decodeURIComponent(n)}function aR(n){return Ip(n.replace(/\+/g,"%20"))}function uR(n){return`${Qw(n.path)}${function qY(n){return Object.keys(n).map(e=>`;${Qw(e)}=${Qw(n[e])}`).join("")}(n.parameters)}`}const KY=/^[^\/()?;=#]+/;function bp(n){const e=n.match(KY);return e?e[0]:""}const QY=/^[^=?&#]+/,XY=/^[^&#]+/;class ZY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[de]=new me(e,t)),r}parseSegment(){const e=bp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,_p);return this.capture(e),new bc(Ip(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=bp(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=bp(this.remaining);i&&(r=i,this.capture(r))}e[Ip(t)]=Ip(r)}parseQueryParam(e){const t=function YY(n){const e=n.match(QY);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function JY(n){const e=n.match(XY);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=aR(t),s=aR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,_p);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=de);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[de]:new me([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,_p)}}function Yw(n){return n.segments.length>0?new me([],{[de]:n}):n}function Cp(n){const e={};for(const r of Object.keys(n.children)){const s=Cp(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function eX(n){if(1===n.numberOfChildren&&n.children[de]){const e=n.children[de];return new me(n.segments.concat(e.segments),e.children)}return n}(new me(n.segments,e))}function So(n){return n instanceof As}const Xw=!1;function tX(n,e,t,r,i){if(0===t.length)return fu(e.root,e.root,e.root,r,i);const s=function fR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hR(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return tn(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new hR(t,e,r)}(t);return s.toRoot()?fu(e.root,e.root,new me([],{}),r,i):function o(u){const l=function rX(n,e,t,r){if(n.isAbsolute)return new pu(e.root,!0,0);if(-1===r)return new pu(t,t===e.root,0);return function pR(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,Xw&&"Invalid number of '../'");i=r.segments.length}return new pu(r,!1,i-s)}(t,r+(Dc(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),c=l.processChildren?gu(l.segmentGroup,l.index,s.commands):Jw(l.segmentGroup,l.index,s.commands);return fu(e.root,l.segmentGroup,c,r,i)}(n.snapshot?._lastPathIndex)}function Dc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Sc(n){return"object"==typeof n&&null!=n&&n.outlets}function fu(n,e,t,r,i){let o,s={};r&&tn(r,(u,l)=>{s[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),o=n===e?t:dR(n,e,t);const a=Yw(Cp(o));return new As(a,s,i)}function dR(n,e,t){const r={};return tn(n.children,(i,s)=>{r[s]=i===e?t:dR(i,e,t)}),new me(n.segments,r)}class hR{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Dc(r[0]))throw new S(4003,Xw&&"Root segment cannot have matrix parameters");const i=r.find(Sc);if(i&&i!==eR(r))throw new S(4004,Xw&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Jw(n,e,t){if(n||(n=new me([],{})),0===n.segments.length&&n.hasChildren())return gu(n,e,t);const r=function sX(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Sc(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!mR(u,l,o))return s;r+=2}else{if(!mR(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new me(n.segments.slice(0,r.pathIndex),{});return s.children[de]=new me(n.segments.slice(r.pathIndex),n.children),gu(s,0,i)}return r.match&&0===i.length?new me(n.segments,{}):r.match&&!n.hasChildren()?Zw(n,e,t):r.match?gu(n,0,i):Zw(n,e,t)}function gu(n,e,t){if(0===t.length)return new me(n.segments,{});{const r=function iX(n){return Sc(n[0])?n[0].outlets:{[de]:n}}(t),i={};if(!r[de]&&n.children[de]&&1===n.numberOfChildren&&0===n.children[de].segments.length){const s=gu(n.children[de],e,t);return new me(n.segments,s.children)}return tn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Jw(n.children[o],e,s))}),tn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new me(n.segments,i)}}function Zw(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Sc(s)){const u=oX(s.outlets);return new me(r,u)}if(0===i&&Dc(t[0])){r.push(new bc(n.segments[e].path,gR(t[0]))),i++;continue}const o=Sc(s)?s.outlets[de]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Dc(a)?(r.push(new bc(o,gR(a))),i+=2):(r.push(new bc(o,{})),i++)}return new me(r,{})}function oX(n){const e={};return tn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Zw(new me([],{}),0,t))}),e}function gR(n){const e={};return tn(n,(t,r)=>e[r]=`${t}`),e}function mR(n,e,t){return n==t.path&&di(e,t.parameters)}const Ac="imperative";class hi{constructor(e,t){this.id=e,this.url=t}}class eE extends hi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ao extends hi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Tp extends hi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dp extends hi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class tE extends hi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aX extends hi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uX extends hi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lX extends hi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cX extends hi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dX extends hi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yR{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let wX=(()=>{class n{createUrlTree(t,r,i,s,o,a){return tX(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),IX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(e){return wX.\u0275fac(e)},providedIn:"root"}),n})();class _R{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=nE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=nE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=rE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return rE(e,this._root).map(t=>t.value)}}function nE(n,e){if(n===e.value)return e;for(const t of e.children){const r=nE(n,t);if(r)return r}return null}function rE(n,e){if(n===e.value)return[e];for(const t of e.children){const r=rE(n,t);if(r.length)return r.unshift(e),r}return[]}class Ji{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function mu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vR extends _R{constructor(e,t){super(e),this.snapshot=t,iE(this,e)}toString(){return this.snapshot.toString()}}function wR(n,e){const t=function bX(n,e){const o=new Sp([],{},{},"",{},de,e,null,n.root,-1,{});return new IR("",new Ji(o,[]))}(n,e),r=new Yn([new bc("",{})]),i=new Yn({}),s=new Yn({}),o=new Yn({}),a=new Yn(""),u=new Ms(r,i,o,a,s,de,e,t.root);return u.snapshot=t.root,new vR(new Ji(u,[]),t)}class Ms{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(re(l=>l[Ic]))??Q(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(e=>hu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(e=>hu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ER(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function CX(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Sp{get title(){return this.data?.[Ic]}constructor(e,t,r,i,s,o,a,u,l,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class IR extends _R{constructor(e,t){super(t),this.url=e,iE(this,t)}toString(){return bR(this._root)}}function iE(n,e){e.value._routerState=n,e.children.forEach(t=>iE(n,t))}function bR(n){const e=n.children.length>0?` { ${n.children.map(bR).join(", ")} } `:"";return`${n.value}${e}`}function sE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,di(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),di(e.params,t.params)||n.params.next(t.params),function VY(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!di(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),di(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function oE(n,e){const t=di(n.params,e.params)&&function jY(n,e){return Do(n,e)&&n.every((t,r)=>di(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||oE(n.parent,e.parent))}function Mc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function DX(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Mc(n,r,i);return Mc(n,r)})}(n,e,t);return new Ji(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Mc(n,a)),o}}const r=function SX(n){return new Ms(new Yn(n.url),new Yn(n.params),new Yn(n.queryParams),new Yn(n.fragment),new Yn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Mc(n,s));return new Ji(r,i)}}const aE="ngNavigationCancelingError";function CR(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=So(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=TR(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function TR(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[aE]=!0,r.cancellationCode=e,t&&(r.url=t),r}function DR(n){return SR(n)&&So(n.url)}function SR(n){return n&&n[aE]}class AX{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new xc,this.attachRef=null}}let xc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new AX,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ap=!1;let Mp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new ht,this.deactivateEvents=new ht,this.attachEvents=new ht,this.detachEvents=new ht,this.parentContexts=oe(xc),this.location=oe(zr),this.changeDetector=oe(Yf),this.environmentInjector=oe(ri)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,Ap);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,Ap);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,Ap);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new S(4013,Ap);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new MX(t,a,i.injector);if(r&&function xX(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(o);this.activated=i.createComponent(l,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ie({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Er]}),n})();class MX{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ms?this.route:e===xc?this.childContexts:this.parent.get(e,t)}}let uE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pn({type:n,selectors:[["ng-component"]],standalone:!0,features:[$f],decls:1,vars:0,template:function(t,r){1&t&&je(0,"router-outlet")},dependencies:[Mp],encapsulation:2}),n})();function AR(n,e){return n.providers&&!n._injector&&(n._injector=Bf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function cE(n){const e=n.children&&n.children.map(cE),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==de&&(t.component=uE),t}function Sr(n){return n.outlet||de}function MR(n,e){const t=n.filter(r=>Sr(r)===e);return t.push(...n.filter(r=>Sr(r)!==e)),t}function Nc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class OX{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),sE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=mu(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),tn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=mu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=mu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=mu(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new yX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new gX(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(sE(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),sE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Nc(i.snapshot),u=a?.get(Ua)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class xR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xp{constructor(e,t){this.component=e,this.route=t}}function FX(n,e,t){const r=n._root;return Rc(r,e?e._root:null,t,[r.value])}function yu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function $z(n){return null!==Vh(n)}(n)?e.get(n):n:r}function Rc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=mu(e);return n.children.forEach(o=>{(function VX(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function UX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Do(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Do(n.url,e.url)||!di(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oE(n,e)||!di(n.queryParams,e.queryParams);default:return!oE(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Rc(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xp(a.outlet.component,o))}else o&&kc(e,a,i),i.canActivateChecks.push(new xR(r)),Rc(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),tn(s,(o,a)=>kc(o,t.getContext(a),i)),i}function kc(n,e,t){const r=mu(n),i=n.value;tn(r,(s,o)=>{kc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new xp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Pc(n){return"function"==typeof n}function dE(n){return n instanceof mp||"EmptyError"===n?.name}const Np=Symbol("INITIAL_VALUE");function _u(){return li(n=>Hw(n.map(e=>e.pipe(du(1),function RY(...n){const e=Tl(n);return _t((t,r)=>{(e?zw(n,t,e):zw(n,t)).subscribe(r)})}(Np)))).pipe(re(e=>{for(const t of e)if(!0!==t){if(t===Np)return Np;if(!1===t||t instanceof As)return t}return!0}),Xi(e=>e!==Np),du(1)))}function NR(n){return function G3(...n){return GD(n)}(xt(e=>{if(So(e))throw CR(0,e)}),re(e=>!0===e))}const hE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RR(n,e,t,r,i){const s=fE(n,e,t);return s.matched?function nJ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Q(i.map(o=>{const a=yu(o,n);return Ss(function GX(n){return n&&Pc(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(_u(),NR()):Q(!0)}(r=AR(e,r),e,t).pipe(re(o=>!0===o?s:{...hE})):Q(s)}function fE(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...hE}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||LY)(t,n,e);if(!i)return{...hE};const s={};tn(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Rp(n,e,t,r){if(t.length>0&&function sJ(n,e,t){return t.some(r=>kp(n,e,r)&&Sr(r)!==de)}(n,t,r)){const s=new me(e,function iJ(n,e,t,r){const i={};i[de]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Sr(s)!==de){const o=new me([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Sr(s)]=o}return i}(n,e,r,new me(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function oJ(n,e,t){return t.some(r=>kp(n,e,r))}(n,t,r)){const s=new me(n.segments,function rJ(n,e,t,r,i){const s={};for(const o of r)if(kp(n,t,o)&&!i[Sr(o)]){const a=new me([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[Sr(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new me(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function kp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function kR(n,e,t,r){return!!(Sr(n)===r||r!==de&&kp(e,t,n))&&("**"===n.path||fE(e,n,t).matched)}function PR(n,e,t){return 0===e.length&&!n.children[t]}const Pp=!1;class Op{constructor(e){this.segmentGroup=e||null}}class OR{constructor(e){this.urlTree=e}}function Oc(n){return Ec(new Op(n))}function FR(n){return Ec(new OR(n))}class cJ{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Rp(this.urlTree.root,[],[],this.config).segmentGroup,t=new me(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,de).pipe(re(s=>this.createUrlTree(Cp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ci(s=>{if(s instanceof OR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Op?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,de).pipe(re(i=>this.createUrlTree(Cp(i),e.queryParams,e.fragment))).pipe(ci(i=>{throw i instanceof Op?this.noMatchError(i):i}))}noMatchError(e){return new S(4002,Pp)}createUrlTree(e,t,r){const i=Yw(e);return new As(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(re(s=>new me([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Fe(i).pipe(Ds(s=>{const o=r.children[s],a=MR(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(re(u=>({segment:u,outlet:s})))}),YN((s,o)=>(s[o.outlet]=o.segment,s),{}),XN())}expandSegment(e,t,r,i,s,o){return Fe(r).pipe(Ds(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ci(l=>{if(l instanceof Op)return Q(null);throw l}))),Ts(a=>!!a),ci((a,u)=>{if(dE(a))return PR(t,i,s)?Q(new me([],{})):Oc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return kR(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Oc(t):Oc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?FR(s):this.lineralizeSegments(r,s).pipe(Bt(o=>{const a=new me(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=fE(t,i,s);if(!a)return Oc(t);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?FR(d):this.lineralizeSegments(i,d).pipe(Bt(h=>this.expandSegment(e,t,r,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=AR(r,e),r.loadChildren?(r._loadedRoutes?Q({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(re(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new me(i,{})))):Q(new me(i,{}))):RR(t,r,i,e).pipe(li(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Bt(c=>{const d=c.injector??e,h=c.routes,{segmentGroup:f,slicedSegments:p}=Rp(t,a,u,h),g=new me(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(re(v=>new me(a,v)));if(0===h.length&&0===p.length)return Q(new me(a,{}));const y=Sr(r)===s;return this.expandSegment(d,g,h,p,y?de:s,!0).pipe(re(b=>new me(a.concat(b.segments),b.children)))})):Oc(t)))}getChildConfig(e,t,r){return t.children?Q({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):function tJ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Q(!0):Q(i.map(o=>{const a=yu(o,n);return Ss(function $X(n){return n&&Pc(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(_u(),NR())}(e,t,r).pipe(Bt(i=>i?this.configLoader.loadChildren(e,t).pipe(xt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function uJ(n){return Ec(TR(Pp,3))}())):Q({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Q(r);if(i.numberOfChildren>1||!i.children[de])return e.redirectTo,Ec(new S(4e3,Pp));i=i.children[de]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new As(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return tn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return tn(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new me(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new S(4001,Pp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class hJ{}class gJ{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Rp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,de).pipe(re(t=>{if(null===t)return null;const r=new Sp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},de,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ji(r,t),s=new IR(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=ER(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Fe(Object.keys(r.children)).pipe(Ds(i=>{const s=r.children[i],o=MR(t,i);return this.processSegmentGroup(e,o,s,i)}),YN((i,s)=>i&&s?(i.push(...s),i):null),function PY(n,e=!1){return _t((t,r)=>{let i=0;t.subscribe(lt(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),yp(null),XN(),re(i=>{if(null===i)return null;const s=VR(i);return function mJ(n){n.sort((e,t)=>e.value.outlet===de?-1:t.value.outlet===de?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return Fe(t).pipe(Ds(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Ts(o=>!!o),ci(o=>{if(dE(o))return PR(r,i,s)?Q([]):Q(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!kR(t,r,i,s))return Q(null);let o;if("**"===t.path){const a=i.length>0?eR(i).parameters:{},u=BR(r)+i.length;o=Q({snapshot:new Sp(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$R(t),Sr(t),t.component??t._loadedComponent??null,t,UR(r),u,jR(t)),consumedSegments:[],remainingSegments:[]})}else o=RR(r,t,i,e).pipe(re(({matched:a,consumedSegments:u,remainingSegments:l,parameters:c})=>{if(!a)return null;const d=BR(r)+u.length;return{snapshot:new Sp(u,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$R(t),Sr(t),t.component??t._loadedComponent??null,t,UR(r),d,jR(t)),consumedSegments:u,remainingSegments:l}}));return o.pipe(li(a=>{if(null===a)return Q(null);const{snapshot:u,consumedSegments:l,remainingSegments:c}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function yJ(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=Rp(r,l,c,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(re(y=>null===y?null:[new Ji(u,y)]));if(0===h.length&&0===p.length)return Q([new Ji(u,[])]);const g=Sr(t)===s;return this.processSegment(d,h,f,p,g?de:s).pipe(re(y=>null===y?null:[new Ji(u,y)]))}))}}function _J(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function VR(n){const e=[],t=new Set;for(const r of n){if(!_J(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=VR(r.children);e.push(new Ji(r.value,i))}return e.filter(r=>!t.has(r))}function UR(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function BR(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function $R(n){return n.data||{}}function jR(n){return n.resolve||{}}function HR(n){return"string"==typeof n.title||null===n.title}function pE(n){return li(e=>{const t=n(e);return t?Fe(t).pipe(re(()=>e)):Q(e)})}const vu=new z("ROUTES");let gE=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=oe(mx)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ss(t.loadComponent()).pipe(re(GR),xt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Ww(()=>{this.componentLoaders.delete(t)})),i=new WN(r,()=>new fn).pipe(Gw());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(re(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,l,c=!1;Array.isArray(a)?l=a:(u=a.create(t).injector,l=ZN(u.get(vu,[],ee.Self|ee.Optional)));return{routes:l.map(cE),injector:u}}),Ww(()=>{this.childrenLoaders.delete(r)})),o=new WN(s,()=>new fn).pipe(Gw());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Ss(t()).pipe(re(GR),Bt(r=>r instanceof A1||Array.isArray(r)?Q(r):Fe(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GR(n){return function DJ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Lp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new fn,this.configLoader=oe(gE),this.environmentInjector=oe(ri),this.urlSerializer=oe(Cc),this.rootContexts=oe(xc),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new fX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new hX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Yn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ac,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xi(r=>0!==r.id),re(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),li(r=>{let i=!1,s=!1;return Q(r).pipe(xt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),li(o=>{const a=t.browserUrlTree.toString(),u=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const c="";return this.events.next(new Dp(o.id,t.serializeUrl(r.rawUrl),c,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Pr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return qR(o.source)&&(t.browserUrlTree=o.extractedUrl),Q(o).pipe(li(c=>{const d=this.transitions?.getValue();return this.events.next(new eE(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),d!==this.transitions?.getValue()?Pr:Promise.resolve(c)}),function dJ(n,e,t,r){return li(i=>function lJ(n,e,t,r,i){return new cJ(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(re(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),xt(c=>{this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},r.urlAfterRedirects=c.urlAfterRedirects}),function wJ(n,e,t,r,i){return Bt(s=>function pJ(n,e,t,r,i,s,o="emptyOnly"){return new gJ(n,e,t,r,i,o,s).recognize().pipe(li(a=>null===a?function fJ(n){return new qe(e=>e.error(n))}(new hJ):Q(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(re(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),xt(c=>{if(r.targetSnapshot=c.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!c.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);t.setBrowserUrl(h,c)}t.browserUrlTree=c.urlAfterRedirects}const d=new aX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:c,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new eE(c,this.urlSerializer.serialize(d),h,f);this.events.next(g);const y=wR(d,this.rootComponentType).snapshot;return Q(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const c="";return this.events.next(new Dp(o.id,t.serializeUrl(r.extractedUrl),c,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Pr}}),xt(o=>{const a=new uX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),re(o=>r={...o,guards:FX(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function WX(n,e){return Bt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Q({...t,guardsResult:!0}):function KX(n,e,t,r){return Fe(n).pipe(Bt(i=>function eJ(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Q(s.map(a=>{const u=Nc(e)??i,l=yu(a,u);return Ss(function zX(n){return n&&Pc(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):u.runInContext(()=>l(n,e,t,r))).pipe(Ts())})).pipe(_u()):Q(!0)}(i.component,i.route,t,e,r)),Ts(i=>!0!==i,!0))}(o,r,i,n).pipe(Bt(a=>a&&function BX(n){return"boolean"==typeof n}(a)?function QX(n,e,t,r){return Fe(e).pipe(Ds(i=>zw(function XX(n,e){return null!==n&&e&&e(new pX(n)),Q(!0)}(i.route.parent,r),function YX(n,e){return null!==n&&e&&e(new mX(n)),Q(!0)}(i.route,r),function ZX(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function LX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>qN(()=>Q(o.guards.map(u=>{const l=Nc(o.node)??t,c=yu(u,l);return Ss(function HX(n){return n&&Pc(n.canActivateChild)}(c)?c.canActivateChild(r,n):l.runInContext(()=>c(r,n))).pipe(Ts())})).pipe(_u())));return Q(s).pipe(_u())}(n,i.path,t),function JX(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Q(!0);const i=r.map(s=>qN(()=>{const o=Nc(e)??t,a=yu(s,o);return Ss(function jX(n){return n&&Pc(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Ts())}));return Q(i).pipe(_u())}(n,i.route,t))),Ts(i=>!0!==i,!0))}(r,s,n,e):Q(a)),re(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),xt(o=>{if(r.guardsResult=o.guardsResult,So(o.guardsResult))throw CR(0,o.guardsResult);const a=new lX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Xi(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),pE(o=>{if(o.guards.canActivateChecks.length)return Q(o).pipe(xt(a=>{const u=new cX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),li(a=>{let u=!1;return Q(a).pipe(function EJ(n,e){return Bt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let s=0;return Fe(i).pipe(Ds(o=>function IJ(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!HR(i)&&(s[Ic]=i.title),function bJ(n,e,t,r){const i=function CJ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Q({});const s={};return Fe(i).pipe(Bt(o=>function TJ(n,e,t,r){const i=Nc(e)??r,s=yu(n,i);return Ss(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Ts(),xt(a=>{s[o]=a}))),qw(1),function OY(n){return re(()=>n)}(s),ci(o=>dE(o)?Pr:Ec(o)))}(s,n,e,r).pipe(re(o=>(n._resolvedData=o,n.data=ER(n,t).resolve,i&&HR(i)&&(n.data[Ic]=i.title),null)))}(o.route,r,n,e)),xt(()=>s++),qw(1),Bt(o=>s===i.length?Q(t):Pr))})}(t.paramsInheritanceStrategy,this.environmentInjector),xt({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),xt(a=>{const u=new dX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),pE(o=>{const a=u=>{const l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(xt(c=>{u.component=c}),re(()=>{})));for(const c of u.children)l.push(...a(c));return l};return Hw(a(o.targetSnapshot.root)).pipe(yp(),du(1))}),pE(()=>this.afterPreactivation()),re(o=>{const a=function TX(n,e,t){const r=Mc(n,e._root,t?t._root:void 0);return new vR(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),xt(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>re(r=>(new OX(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),du(1),xt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ao(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ww(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ci(o=>{if(s=!0,SR(o)){DR(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Tp(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),DR(o)){const u=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||qR(r.source)};t.scheduleNavigation(u,Ac,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new tE(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(u){r.reject(u)}}return Pr}))}))}cancelNavigationTransition(t,r,i){const s=new Tp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qR(n){return n!==Ac}let WR=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===de);return r}getResolvedTitleForRoute(t){return t.data[Ic]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return oe(SJ)},providedIn:"root"}),n})(),SJ=(()=>{class n extends WR{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(P(LN))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return oe(xJ)},providedIn:"root"}),n})();class MJ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let xJ=(()=>{class n extends MJ{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=en(n)))(r||n)}}(),n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vp=new z("",{providedIn:"root",factory:()=>({})});let RJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return oe(kJ)},providedIn:"root"}),n})(),kJ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PJ(n){throw n}function OJ(n,e,t){return e.parse("/")}const FJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},LJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=oe(g8),this.isNgZoneEnabled=!1,this.options=oe(Vp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||PJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||OJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=oe(RJ),this.routeReuseStrategy=oe(AJ),this.urlCreationStrategy=oe(IX),this.titleStrategy=oe(WR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ZN(oe(vu,{optional:!0})??[]),this.navigationTransitions=oe(Lp),this.urlSerializer=oe(Cc),this.location=oe(vw),this.isNgZoneEnabled=oe(ke)instanceof ke&&ke.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new As,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wR(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ac,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(cE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o;let c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}return null!==c&&(c=this.removeEmptyProps(c)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,c,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=So(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ac,null,r)}navigate(t,r={skipLocationChange:!1}){return function VJ(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new S(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...FJ}:!1===r?{...LJ}:r,So(t))return nR(this.currentUrlTree,t,i);const s=this.parseUrl(t);return nR(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l,c;return o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((d,h)=>{a=d,u=h}),c="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:c,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Up=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new fn;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Ao&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=lu(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=lu(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=lu(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function rA(n,e,t){return function _5(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?nA:tA}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(A(nn),A(Ms),function af(n){return function BG(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(q0(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Zt(),n)}("tabindex"),A(Bi),A(ur),A(To))},n.\u0275dir=ie({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&Te("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Kn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Er]}),n})();class KR{}let $J=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Xi(t=>t instanceof Ao),Ds(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Bf(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Fe(i).pipe(va())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Q(null);const s=i.pipe(Bt(o=>null===o?Q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Fe([s,this.loader.loadComponent(r)]).pipe(va()):s})}}return n.\u0275fac=function(t){return new(t||n)(P(nn),P(mx),P(ri),P(KR),P(gE))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yE=new z("");let QR=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof eE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ao&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yR&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yR(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function OA(){throw new Error("invalid")}()},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();var cr=(()=>((cr=cr||{})[cr.COMPLETE=0]="COMPLETE",cr[cr.FAILED=1]="FAILED",cr[cr.REDIRECTING=2]="REDIRECTING",cr))();const wu=!1;function xs(n,e){return{\u0275kind:n,\u0275providers:e}}const _E=new z("",{providedIn:"root",factory:()=>!1});function XR(){const n=oe(wn);return e=>{const t=n.get(bo);if(e!==t.components[0])return;const r=n.get(nn),i=n.get(JR);1===n.get(vE)&&r.initialNavigation(),n.get(ZR,null,ee.Optional)?.setUpPreloading(),n.get(yE,null,ee.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const JR=new z(wu?"bootstrap done indicator":"",{factory:()=>new fn}),vE=new z(wu?"initial navigation":"",{providedIn:"root",factory:()=>1});function qJ(){let n=[];return n=wu?[{provide:vf,multi:!0,useFactory:()=>{const e=oe(nn);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function _X(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],xs(1,n)}const ZR=new z(wu?"router preloader":"");function WJ(n){return xs(0,[{provide:ZR,useExisting:$J},{provide:KR,useExisting:n}])}const Fc=!1,ek=new z(Fc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),KJ=[vw,{provide:Cc,useClass:Kw},nn,xc,{provide:Ms,useFactory:function YR(n){return n.routerState.root},deps:[nn]},gE,Fc?{provide:_E,useValue:!0}:[]];function QJ(){return new Cx("Router",nn)}let tk=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[KJ,Fc&&r?.enableTracing?qJ().\u0275providers:[],{provide:vu,multi:!0,useValue:t},{provide:ek,useFactory:ZJ,deps:[[nn,new _n,new Bl]]},{provide:Vp,useValue:r||{}},r?.useHash?{provide:To,useClass:nK}:{provide:To,useClass:Wx},{provide:yE,useFactory:()=>{const n=oe(vQ),e=oe(ke),t=oe(Vp),r=oe(Lp),i=oe(Cc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new QR(i,r,n,e,t)}},r?.preloadingStrategy?WJ(r.preloadingStrategy).\u0275providers:[],{provide:Cx,multi:!0,useFactory:QJ},r?.initialNavigation?eZ(r):[],[{provide:nk,useFactory:XR},{provide:bx,multi:!0,useExisting:nk}]]}}static forChild(t){return{ngModule:n,providers:[{provide:vu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(P(ek,8))},n.\u0275mod=Xt({type:n}),n.\u0275inj=$t({imports:[uE]}),n})();function ZJ(n){if(Fc&&n)throw new S(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function eZ(n){return["disabled"===n.initialNavigation?xs(3,[{provide:qf,multi:!0,useFactory:()=>{const e=oe(nn);return()=>{e.setUpLocationChangeListener()}}},{provide:vE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?xs(2,[{provide:vE,useValue:0},{provide:qf,multi:!0,deps:[wn],useFactory:e=>{const t=e.get(eK,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(nn),s=e.get(JR);(function jJ(n,e){n.events.pipe(Xi(t=>t instanceof Ao||t instanceof Tp||t instanceof tE||t instanceof Dp),re(t=>t instanceof Ao||t instanceof Dp?cr.COMPLETE:t instanceof Tp&&(0===t.code||1===t.code)?cr.REDIRECTING:cr.FAILED),Xi(t=>t!==cr.REDIRECTING),du(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Lp).afterPreactivation=()=>(r(!0),s.closed?Q(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const nk=new z(Fc?"Router Initializer":"");function nZ(n,e){if(1&n){const t=Hi();I(0,"li",3),T(1),I(2,"button",4),Te("click",function(){const s=Oi(t).$implicit;return Fi(Se().selectUser(s))}),T(3," select "),E()()}if(2&n){const t=e.$implicit;N(1),ru(" ",t.firstName," ",t.lastName," ")}}let rZ=(()=>{var n;class e{constructor(){this.usersList=[{firstName:"Andy",lastName:"Schmitt"},{firstName:"Lorem",lastName:"Ipsum"},{firstName:"Joe",lastName:"Uncle"}]}ngOnInit(){}addUser(r,i){this.usersList.push({firstName:r,lastName:i})}selectUser(r){this.selectedUser=r}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pn({type:n,selectors:[["app-name-list"]],decls:5,vars:1,consts:[[1,"contaier","m-5"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"btn","btn-success","btn-sm","float-end",3,"click"]],template:function(r,i){1&r&&(I(0,"section",0)(1,"h2"),T(2,"Username List"),E(),I(3,"ul",1),Y(4,nZ,4,2,"li",2),E()()),2&r&&(N(4),$("ngForOf",i.usersList))},dependencies:[cu]}),e})();const iZ=["saveBtn"],sZ=["nameList"];let oZ=(()=>{var n;class e{constructor(){}ngOnInit(){}viewChildExample(){console.log(this.saveBtn.nativeElement),this.saveBtn.nativeElement.setAttribute("style","color:red;font-size: 3rem")}add(){this.nameListChild.addUser("Test","FromParent")}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pn({type:n,selectors:[["app-main"]],viewQuery:function(r,i){if(1&r&&(Hf(iZ,5),Hf(sZ,5)),2&r){let s;cc(s=dc())&&(i.saveBtn=s.first),cc(s=dc())&&(i.nameListChild=s.first)}},decls:22,vars:4,consts:[[1,"container","my-3"],["for","firstName",1,"form-label"],["type","text","id","firstName",1,"form-control",3,"keyup"],["firstName",""],["for","lastName",1,"form-label"],["type","text","id","lastName",1,"form-control",3,"keyup"],["lastName",""],[1,"btn","btn-primary",3,"click"],["saveBtn",""],[1,"ms-2","btn","btn-success",3,"click"],["nameList",""]],template:function(r,i){if(1&r){const s=Hi();I(0,"div",0)(1,"h1"),T(2),E(),I(3,"p")(4,"label",1),T(5,"First Name"),E(),I(6,"input",2,3),Te("keyup",function(){return 0}),E()(),I(8,"p")(9,"label",4),T(10,"Last Name"),E(),I(11,"input",5,6),Te("keyup",function(){return 0}),E()(),I(13,"button",7,8),Te("click",function(){Oi(s);const a=wo(7),u=wo(12);return Fi(wo(19).addUser(a.value,u.value))})("click",function(){return i.viewChildExample()}),T(15," Save User "),E(),I(16,"button",9),Te("click",function(){return i.add()}),T(17," Add from parent "),E(),je(18,"app-name-list",null,10),I(20,"p"),T(21),E()()}if(2&r){const s=wo(7),o=wo(12),a=wo(19);N(2),ru("Welcome ",s.value," ",o.value,""),N(19),ru(" You have selected ",null==a.selectedUser?null:a.selectedUser.firstName," ",null==a.selectedUser?null:a.selectedUser.lastName," ")}},dependencies:[rZ]}),e})(),rk=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(A(Bi),A(ur))},n.\u0275dir=ie({type:n}),n})(),Mo=(()=>{class n extends rk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=en(n)))(r||n)}}(),n.\u0275dir=ie({type:n,features:[Re]}),n})();const fi=new z("NgValueAccessor"),lZ={provide:fi,useExisting:$e(()=>Eu),multi:!0},dZ=new z("CompositionEventMode");let Eu=(()=>{class n extends rk{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cZ(){const n=Ki()?Ki().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(A(Bi),A(ur),A(dZ,8))},n.\u0275dir=ie({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Te("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ze([lZ]),Re]}),n})();const hZ=!1;function Ns(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function sk(n){return null!=n&&"number"==typeof n.length}const bn=new z("NgValidators"),Rs=new z("NgAsyncValidators"),fZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ze{static min(e){return ok(e)}static max(e){return ak(e)}static required(e){return function uk(n){return Ns(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function lk(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function ck(n){return Ns(n.value)||fZ.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function dk(n){return e=>Ns(e.value)||!sk(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function hk(n){return e=>sk(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function fk(n){if(!n)return Bp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ns(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return vk(e)}static composeAsync(e){return wk(e)}}function ok(n){return e=>{if(Ns(e.value)||Ns(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function ak(n){return e=>{if(Ns(e.value)||Ns(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Bp(n){return null}function pk(n){return null!=n}function gk(n){const e=tc(n)?Fe(n):n;if(hZ&&!Mv(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new S(-1101,t)}return e}function mk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function yk(n,e){return e.map(t=>t(n))}function _k(n){return n.map(e=>function pZ(n){return!n.validate}(e)?e:t=>e.validate(t))}function vk(n){if(!n)return null;const e=n.filter(pk);return 0==e.length?null:function(t){return mk(yk(t,e))}}function wE(n){return null!=n?vk(_k(n)):null}function wk(n){if(!n)return null;const e=n.filter(pk);return 0==e.length?null:function(t){return function aZ(...n){const e=qy(n),{args:t,keys:r}=jN(n),i=new qe(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;jn(t[c]).subscribe(lt(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?zN(r,a):a),s.complete())}))}});return e?i.pipe(HN(e)):i}(yk(t,e).map(gk)).pipe(re(mk))}}function EE(n){return null!=n?wk(_k(n)):null}function Ek(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ik(n){return n._rawValidators}function bk(n){return n._rawAsyncValidators}function IE(n){return n?Array.isArray(n)?n:[n]:[]}function $p(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ck(n,e){const t=IE(e);return IE(n).forEach(i=>{$p(t,i)||t.push(i)}),t}function Tk(n,e){return IE(e).filter(t=>!$p(n,t))}class Dk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=EE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ln extends Dk{get formDirective(){return null}get path(){return null}}class ks extends Dk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sk{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let jp=(()=>{class n extends Sk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(A(ks,2))},n.\u0275dir=ie({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&kf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Re]}),n})(),Hp=(()=>{class n extends Sk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(A(Ln,10))},n.\u0275dir=ie({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&kf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Re]}),n})();function Ak(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const TE=!1,Lc="VALID",Gp="INVALID",Iu="PENDING",Vc="DISABLED";function DE(n){return(qp(n)?n.validators:n)||null}function SE(n,e){return(qp(e)?e.asyncValidators:n)||null}function qp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Nk{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Lc}get invalid(){return this.status===Gp}get pending(){return this.status==Iu}get disabled(){return this.status===Vc}get enabled(){return this.status!==Vc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ck(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ck(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Tk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Tk(e,this._rawAsyncValidators))}hasValidator(e){return $p(this._rawValidators,e)}hasAsyncValidator(e){return $p(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Iu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Lc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lc||this.status===Iu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vc:Lc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Iu,this._hasOwnPendingAsyncValidator=!0;const t=gk(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ht,this.statusChanges=new ht}_calculateStatus(){return this._allControlsDisabled()?Vc:this.errors?Gp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Iu)?Iu:this._anyControlsHaveStatus(Gp)?Gp:Lc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function EZ(n){return Array.isArray(n)?wE(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function IZ(n){return Array.isArray(n)?EE(n):n||null}(this._rawAsyncValidators)}}class bu extends Nk{constructor(e,t,r){super(DE(t),SE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function xk(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new S(1002,TE?function wZ(n,e){return`Must supply a value for form control ${Ak(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function Mk(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,TE?function _Z(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new S(1001,TE?function vZ(n,e){return`Cannot find form control ${Ak(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const xo=new z("CallSetDisabledState",{providedIn:"root",factory:()=>Uc}),Uc="always";function Bc(n,e,t=Uc){AE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function TZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Rk(n,e)})}(n,e),function SZ(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function DZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Rk(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function CZ(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Kp(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Yp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Qp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function AE(n,e){const t=Ik(n);null!==e.validator?n.setValidators(Ek(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=bk(n);null!==e.asyncValidator?n.setAsyncValidators(Ek(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Qp(e._rawValidators,i),Qp(e._rawAsyncValidators,i)}function Yp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Ik(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=bk(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Qp(e._rawValidators,r),Qp(e._rawAsyncValidators,r),t}function Rk(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ok(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Fk(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const rn=class extends Nk{constructor(e=null,t,r){super(DE(t),SE(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Fk(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ok(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ok(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Fk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Xp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ie({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const FZ={provide:fi,useExisting:$e(()=>kE),multi:!0};let kE=(()=>{class n extends Mo{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=en(n)))(r||n)}}(),n.\u0275dir=ie({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&Te("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Ze([FZ]),Re]}),n})(),$k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=$t({}),n})();const PE=new z("NgModelWithFormControlWarning"),$Z={provide:Ln,useExisting:$e(()=>Cu)};let Cu=(()=>{class n extends Ln{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ht,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Bc(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Kp(t.control||null,t,!1),function NZ(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Pk(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Kp(r||null,t),(n=>n instanceof rn)(i)&&(Bc(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function kk(n,e){AE(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function AZ(n,e){return Yp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){AE(this.form,this),this._oldForm&&Yp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(A(bn,10),A(Rs,10),A(xo,8))},n.\u0275dir=ie({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Te("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ze([$Z]),Re,Er]}),n})();const zZ={provide:ks,useExisting:$e(()=>jc)};let jc=(()=>{class n extends ks{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new ht,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function NE(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Eu?t=s:function xZ(n){return Object.getPrototypeOf(n.constructor)===Mo}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function xE(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Wp(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(A(Ln,13),A(bn,10),A(Rs,10),A(fi,10),A(PE,8))},n.\u0275dir=ie({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ze([zZ]),Re,Er]}),n})();const GZ={provide:fi,useExisting:$e(()=>Jp),multi:!0};function qk(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Jp=(()=>{class n extends Mo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=qk(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function qZ(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=en(n)))(r||n)}}(),n.\u0275dir=ie({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&Te("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ze([GZ]),Re]}),n})(),LE=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(qk(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(A(ur),A(Bi),A(Jp,9))},n.\u0275dir=ie({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const WZ={provide:fi,useExisting:$e(()=>VE),multi:!0};function Wk(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let VE=(()=>{class n extends Mo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const l=this._getOptionValue(o[a].value);i.push(l)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function KZ(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=en(n)))(r||n)}}(),n.\u0275dir=ie({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&Te("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ze([WZ]),Re]}),n})(),UE=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Wk(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Wk(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(A(ur),A(Bi),A(VE,9))},n.\u0275dir=ie({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();function Qk(n){return"number"==typeof n?n:parseFloat(n)}let No=(()=>{class n{constructor(){this._validator=Bp}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Bp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ie({type:n,features:[Er]}),n})();const QZ={provide:bn,useExisting:$e(()=>BE),multi:!0};let BE=(()=>{class n extends No{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>Qk(t),this.createValidator=t=>ak(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=en(n)))(r||n)}}(),n.\u0275dir=ie({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Kn("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Ze([QZ]),Re]}),n})();const YZ={provide:bn,useExisting:$e(()=>$E),multi:!0};let $E=(()=>{class n extends No{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>Qk(t),this.createValidator=t=>ok(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=en(n)))(r||n)}}(),n.\u0275dir=ie({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Kn("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Ze([YZ]),Re]}),n})(),tP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=$t({imports:[$k]}),n})(),iee=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:xo,useValue:t.callSetDisabledState??Uc}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=$t({imports:[tP]}),n})(),see=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:PE,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:xo,useValue:t.callSetDisabledState??Uc}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=$t({imports:[tP]}),n})();function nP(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){nP(s,r,i,o,a,"next",u)}function a(u){nP(s,r,i,o,a,"throw",u)}o(void 0)})}}const rP=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},zE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(rP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new lee;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zp=function(n){return function(n){const e=rP(n);return zE.encodeByteArray(e,!0)}(n).replace(/\./g,"")},eg=function(n){try{return zE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},tg=()=>{try{return function hee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&eg(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},sP=n=>{var e,t;return null===(t=null===(e=tg())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},mee=n=>{const e=sP(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},oP=()=>{var n;return null===(n=tg())||void 0===n?void 0:n.config},aP=n=>{var e;return null===(e=tg())||void 0===e?void 0:e[`_${n}`]};class ng{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function jt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function GE(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Ro(){try{return"object"==typeof indexedDB}catch{return!1}}function Hc(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function qE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ar extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pi.prototype.create)}}class pi{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function bee(n,e){return n.replace(Cee,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ar(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Cee=/\{\$([^}]+)}/g;function ig(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(lP(s)&&lP(o)){if(!ig(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function lP(n){return null!==n&&"object"==typeof n}function zc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function qc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class See{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Aee(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=WE),void 0===i.error&&(i.error=WE),void 0===i.complete&&(i.complete=WE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WE(){}const Mee=1e3,xee=2,Nee=144e5,Ree=.5;function QE(n,e=Mee,t=xee){const r=e*Math.pow(t,n),i=Math.round(Ree*r*(Math.random()-.5)*2);return Math.min(Nee,r+i)}function Cn(n){return n&&n._delegate?n._delegate:n}class Tn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ko="[DEFAULT]";class Pee{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ng;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Fee(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ko){return this.instances.has(e)}getOptions(e=ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ko?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=ko){return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Lee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Pee(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const YE=[];var ve=(()=>{return(n=ve||(ve={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",ve;var n})();const cP={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},Vee=ve.INFO,Uee={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},Bee=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Uee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Tu{constructor(e){this.name=e,this._logLevel=Vee,this._logHandler=Bee,this._userLogHandler=null,YE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?cP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const $ee=(n,e)=>e.some(t=>n instanceof t);let dP,hP;const fP=new WeakMap,XE=new WeakMap,pP=new WeakMap,JE=new WeakMap,ZE=new WeakMap;let eI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return XE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||pP.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ps(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Kee(n){return"function"==typeof n?function Wee(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Hee(){return hP||(hP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(tI(this),e),Ps(fP.get(this))}:function(...e){return Ps(n.apply(tI(this),e))}:function(e,...t){const r=n.call(tI(this),e,...t);return pP.set(r,e.sort?e.sort():[e]),Ps(r)}}(n):(n instanceof IDBTransaction&&function Gee(n){if(XE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});XE.set(n,e)}(n),$ee(n,function jee(){return dP||(dP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,eI):n)}function Ps(n){if(n instanceof IDBRequest)return function zee(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ps(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&fP.set(t,n)}).catch(()=>{}),ZE.set(e,n),e}(n);if(JE.has(n))return JE.get(n);const e=Kee(n);return e!==n&&(JE.set(n,e),ZE.set(e,n)),e}const tI=n=>ZE.get(n),Yee=["get","getKey","getAll","getAllKeys","count"],Xee=["put","add","delete","clear"],nI=new Map;function gP(n,e){var t;if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(nI.get(e))return nI.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=Xee.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!Yee.includes(r))return;const o=function(u){return(t=t||m(function*(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(c.shift())),(yield Promise.all([h[r](...c),s&&d.done]))[0]})).apply(this,arguments)};return nI.set(e,o),o}var yP,_P;!function qee(n){eI=n(eI)}(n=>({...n,get:(e,t,r)=>gP(e,t)||n.get(e,t,r),has:(e,t)=>!!gP(e,t)||n.has(e,t)}));class Jee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Zee(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const rI="@firebase/app",Po=new Tu("@firebase/app"),sg="[DEFAULT]",Tte={[rI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Oo=new Map,og=new Map;function Dte(n,e){try{n.container.addComponent(e)}catch(t){Po.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vn(n){const e=n.name;if(og.has(e))return Po.debug(`There were multiple attempts to register component ${e}.`),!1;og.set(e,n);for(const t of Oo.values())Dte(t,n);return!0}function Du(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Zi=new pi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ate{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}const Fo="9.23.0";function wP(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:sg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Zi.create("bad-app-name",{appName:String(i)});if(t||(t=oP()),!t)throw Zi.create("no-options");const s=Oo.get(i);if(s){if(ig(t,s.options)&&ig(r,s.config))return s;throw Zi.create("duplicate-app",{appName:i})}const o=new Lee(i);for(const u of og.values())o.addComponent(u);const a=new Ate(t,r,o);return Oo.set(i,a),a}function iI(n=sg){const e=Oo.get(n);if(!e&&n===sg&&oP())return wP();if(!e)throw Zi.create("no-app",{appName:n});return e}function EP(){return Array.from(Oo.values())}function ft(n,e,t){var r;let i=null!==(r=Tte[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Po.warn(a.join(" "))}Vn(new Tn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Mte="firebase-heartbeat-database",xte=1,Wc="firebase-heartbeat-store";let sI=null;function IP(){return sI||(sI=function Qee(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Ps(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ps(o.result),u.oldVersion,u.newVersion,Ps(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(Mte,xte,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Wc)}}).catch(n=>{throw Zi.create("idb-open",{originalErrorMessage:n.message})})),sI}function bP(n,e){return(_P=_P||m(function*(t,r){try{const s=(yield IP()).transaction(Wc,"readwrite");yield s.objectStore(Wc).put(r,CP(t)),yield s.done}catch(i){if(i instanceof Ar)Po.warn(i.message);else{const s=Zi.create("idb-set",{originalErrorMessage:i?.message});Po.warn(s.message)}}})).apply(this,arguments)}function CP(n){return`${n.name}!${n.options.appId}`}class Pte{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fte(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=TP();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=TP(),{heartbeatsToSend:r,unsentEntries:i}=function Ote(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),DP(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),DP(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Zp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function TP(){return(new Date).toISOString().substring(0,10)}class Fte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Ro()&&Hc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Nte(n){return(yP=yP||m(function*(e){try{return yield(yield IP()).transaction(Wc).objectStore(Wc).get(CP(e))}catch(t){if(t instanceof Ar)Po.warn(t.message);else{const r=Zi.create("idb-get",{originalErrorMessage:t?.message});Po.warn(r.message)}}})).apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return bP(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return bP(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function DP(n){return Zp(JSON.stringify({version:2,heartbeats:n})).length}!function Lte(n){Vn(new Tn("platform-logger",e=>new Jee(e),"PRIVATE")),Vn(new Tn("heartbeat",e=>new Pte(e),"PRIVATE")),ft(rI,"0.9.13",n),ft(rI,"0.9.13","esm2017"),ft("fire-js","")}(""),ft("firebase","9.23.0","app");const Bte=(n,e)=>e.some(t=>n instanceof t);let SP,AP;const MP=new WeakMap,oI=new WeakMap,xP=new WeakMap,aI=new WeakMap,uI=new WeakMap;let lI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return oI.get(n);if("objectStoreNames"===e)return n.objectStoreNames||xP.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Os(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Wte(n){return"function"==typeof n?function qte(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function jte(){return AP||(AP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(cI(this),e),Os(MP.get(this))}:function(...e){return Os(n.apply(cI(this),e))}:function(e,...t){const r=n.call(cI(this),e,...t);return xP.set(r,e.sort?e.sort():[e]),Os(r)}}(n):(n instanceof IDBTransaction&&function zte(n){if(oI.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});oI.set(n,e)}(n),Bte(n,function $te(){return SP||(SP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,lI):n)}function Os(n){if(n instanceof IDBRequest)return function Hte(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Os(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&MP.set(t,n)}).catch(()=>{}),uI.set(e,n),e}(n);if(aI.has(n))return aI.get(n);const e=Wte(n);return e!==n&&(aI.set(n,e),uI.set(e,n)),e}const cI=n=>uI.get(n),Qte=["get","getKey","getAll","getAllKeys","count"],Yte=["put","add","delete","clear"],dI=new Map;function NP(n,e){var t;if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(dI.get(e))return dI.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=Yte.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!Qte.includes(r))return;const o=function(u){return(t=t||m(function*(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(c.shift())),(yield Promise.all([h[r](...c),s&&d.done]))[0]})).apply(this,arguments)};return dI.set(e,o),o}var RP,kP,PP,OP,FP,LP,VP,UP,BP,$P,jP,HP,zP,GP,qP,WP;!function Gte(n){lI=n(lI)}(n=>({...n,get:(e,t,r)=>NP(e,t)||n.get(e,t,r),has:(e,t)=>!!NP(e,t)||n.has(e,t)}));const YP="@firebase/installations",hI="0.6.4",XP=1e4,JP=`w:${hI}`,ZP="FIS_v2",Xte="https://firebaseinstallations.googleapis.com/v1",Jte=36e5,es=new pi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function eO(n){return n instanceof Ar&&n.code.includes("request-failed")}function fI({projectId:n}){return`${Xte}/projects/${n}/installations`}function tO(n){return{token:n.token,requestStatus:2,expiresIn:nne(n.expiresIn),creationTime:Date.now()}}function pI(n,e){return(RP=RP||m(function*(t,r){const s=(yield r.json()).error;return es.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})})).apply(this,arguments)}function nO({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function gI(n){return(kP=kP||m(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function nne(n){return Number(n.replace("s","000"))}function iO(n){return new Promise(e=>{setTimeout(e,n)})}const one=/^[cdef][\w-]{21}$/,mI="";function ane(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function une(n){return function sne(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return one.test(t)?t:mI}catch{return mI}}function Su(n){return`${n.appName}!${n.appId}`}const Au=new Map;function sO(n,e){const t=Su(n);oO(t,e),function dne(n,e){const t=function aO(){return!Lo&&"BroadcastChannel"in self&&(Lo=new BroadcastChannel("[Firebase] FID Change"),Lo.onmessage=n=>{oO(n.data.key,n.data.fid)}),Lo}();t&&t.postMessage({key:n,fid:e}),function uO(){0===Au.size&&Lo&&(Lo.close(),Lo=null)}()}(t,e)}function oO(n,e){const t=Au.get(n);if(t)for(const r of t)r(e)}let Lo=null;const hne="firebase-installations-database",fne=1,Vo="firebase-installations-store";let yI=null;function _I(){return yI||(yI=function Kte(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Os(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Os(o.result),u.oldVersion,u.newVersion,Os(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(hne,fne,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Vo)}})),yI}function ag(n,e){return(OP=OP||m(function*(t,r){const i=Su(t),o=(yield _I()).transaction(Vo,"readwrite"),a=o.objectStore(Vo),u=yield a.get(i);return yield a.put(r,i),yield o.done,(!u||u.fid!==r.fid)&&sO(t,r.fid),r})).apply(this,arguments)}function vI(n){return(FP=FP||m(function*(e){const t=Su(e),i=(yield _I()).transaction(Vo,"readwrite");yield i.objectStore(Vo).delete(t),yield i.done})).apply(this,arguments)}function Kc(n,e){return(LP=LP||m(function*(t,r){const i=Su(t),o=(yield _I()).transaction(Vo,"readwrite"),a=o.objectStore(Vo),u=yield a.get(i),l=r(u);return void 0===l?yield a.delete(i):yield a.put(l,i),yield o.done,l&&(!u||u.fid!==l.fid)&&sO(t,l.fid),l})).apply(this,arguments)}function wI(n){return(VP=VP||m(function*(e){let t;const r=yield Kc(e.appConfig,i=>{const s=function pne(n){return cO(n||{fid:ane(),registrationStatus:0})}(i),o=function gne(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(es.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function mne(n,e){return(UP=UP||m(function*(t,r){try{const i=yield function ine(n,e){return(PP=PP||m(function*({appConfig:t,heartbeatServiceProvider:r},{fid:i}){const s=fI(t),o=nO(t),a=r.getImmediate({optional:!0});if(a){const d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const l={method:"POST",headers:o,body:JSON.stringify({fid:i,authVersion:ZP,appId:t.appId,sdkVersion:JP})},c=yield gI(()=>fetch(s,l));if(c.ok){const d=yield c.json();return{fid:d.fid||i,registrationStatus:2,refreshToken:d.refreshToken,authToken:tO(d.authToken)}}throw yield pI("Create Installation",c)})).apply(this,arguments)}(t,r);return ag(t.appConfig,i)}catch(i){throw eO(i)&&409===i.customData.serverCode?yield vI(t.appConfig):yield ag(t.appConfig,{fid:r.fid,registrationStatus:0}),i}})).apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:yne(n)}:{installationEntry:e}}(e,s);return t=o.registrationPromise,o.installationEntry});return r.fid===mI?{installationEntry:yield t}:{installationEntry:r,registrationPromise:t}})).apply(this,arguments)}function yne(n){return(BP=BP||m(function*(e){let t=yield lO(e.appConfig);for(;1===t.registrationStatus;)yield iO(100),t=yield lO(e.appConfig);if(0===t.registrationStatus){const{installationEntry:r,registrationPromise:i}=yield wI(e);return i||r}return t})).apply(this,arguments)}function lO(n){return Kc(n,e=>{if(!e)throw es.create("installation-not-found");return cO(e)})}function cO(n){return function _ne(n){return 1===n.registrationStatus&&n.registrationTime+XP<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function vne(n,e){return($P=$P||m(function*({appConfig:t,heartbeatServiceProvider:r},i){const s=function wne(n,{fid:e}){return`${fI(n)}/${e}/authTokens:generate`}(t,i),o=function rO(n,{refreshToken:e}){const t=nO(n);return t.append("Authorization",function rne(n){return`${ZP} ${n}`}(e)),t}(t,i),a=r.getImmediate({optional:!0});if(a){const d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const l={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:JP,appId:t.appId}})},c=yield gI(()=>fetch(s,l));if(c.ok)return tO(yield c.json());throw yield pI("Generate Auth Token",c)})).apply(this,arguments)}function EI(n){return(jP=jP||m(function*(e,t=!1){let r;const i=yield Kc(e.appConfig,o=>{if(!hO(o))throw es.create("not-registered");const a=o.authToken;if(!t&&function bne(n){return 2===n.requestStatus&&!function Cne(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Jte}(n)}(a))return o;if(1===a.requestStatus)return r=function Ene(n,e){return(HP=HP||m(function*(t,r){let i=yield dO(t.appConfig);for(;1===i.authToken.requestStatus;)yield iO(100),i=yield dO(t.appConfig);const s=i.authToken;return 0===s.requestStatus?EI(t,r):s})).apply(this,arguments)}(e,t),o;{if(!navigator.onLine)throw es.create("app-offline");const u=function Tne(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return r=function Ine(n,e){return(zP=zP||m(function*(t,r){try{const i=yield vne(t,r),s=Object.assign(Object.assign({},r),{authToken:i});return yield ag(t.appConfig,s),i}catch(i){if(!eO(i)||401!==i.customData.serverCode&&404!==i.customData.serverCode){const s=Object.assign(Object.assign({},r),{authToken:{requestStatus:0}});yield ag(t.appConfig,s)}else yield vI(t.appConfig);throw i}})).apply(this,arguments)}(e,u),u}});return r?yield r:i.authToken})).apply(this,arguments)}function dO(n){return Kc(n,e=>{if(!hO(e))throw es.create("not-registered");return function Dne(n){return 1===n.requestStatus&&n.requestTime+XP<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function hO(n){return void 0!==n&&2===n.registrationStatus}function II(n){return es.create("missing-app-config-values",{valueName:n})}const fO="installations",Pne=n=>{const e=n.getProvider("app").getImmediate(),t=function Rne(n){if(!n||!n.options)throw II("App Configuration");if(!n.name)throw II("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw II(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Du(e,"heartbeat"),_delete:()=>Promise.resolve()}},One=n=>{const t=Du(n.getProvider("app").getImmediate(),fO).getImmediate();return{getId:()=>function Sne(n){return(GP=GP||m(function*(e){const t=e,{installationEntry:r,registrationPromise:i}=yield wI(t);return i?i.catch(console.error):EI(t).catch(console.error),r.fid})).apply(this,arguments)}(t),getToken:i=>function Ane(n){return(qP=qP||m(function*(e,t=!1){const r=e;return yield function Mne(n){return(WP=WP||m(function*(e){const{registrationPromise:t}=yield wI(e);t&&(yield t)})).apply(this,arguments)}(r),(yield EI(r,t)).token})).apply(this,arguments)}(t,i)}};var yO;(function Fne(){Vn(new Tn(fO,Pne,"PUBLIC")),Vn(new Tn("installations-internal",One,"PRIVATE"))})(),ft(YP,hI),ft(YP,hI,"esm2017");const bI="@firebase/remote-config",Xn=new pi("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Wne{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Kne(n=navigator){return n.languages&&n.languages[0]||n.language}class Qne{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Kne()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),d=new Promise((_,b)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",b(v)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(_){let b="fetch-client-network";throw"AbortError"===_?.name&&(b="fetch-timeout"),Xn.create(b,{originalErrorMessage:_?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let _;try{_=yield h.json()}catch(b){throw Xn.create("fetch-client-parse",{originalErrorMessage:b?.message})}g=_.entries,y=_.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw Xn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class Jne{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return m(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return m(function*(){yield function Yne(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Xne(n){if(!(n instanceof Ar&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+QE(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class tre{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lg(n,e){const t=n.target.error||void 0;return Xn.create(e,{originalErrorMessage:t&&t?.message})}const Uo="app_namespace_store";class sre{constructor(e,t,r,i=function ire(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(lg(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Uo,{keyPath:"compositeKey"})}}catch(t){e(Xn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Uo],"readonly").objectStore(Uo),u=t.createCompositeKey(e);try{const l=a.get(u);l.onerror=c=>{s(lg(c,"storage-get"))},l.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(l){s(Xn.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Uo],"readwrite").objectStore(Uo),l=r.createCompositeKey(e);try{const c=u.put({compositeKey:l,value:t});c.onerror=d=>{o(lg(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(Xn.create("storage-set",{originalErrorMessage:c?.message}))}})})()}delete(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Uo],"readwrite").objectStore(Uo),u=t.createCompositeKey(e);try{const l=a.delete(u);l.onerror=c=>{s(lg(c,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(Xn.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class ore{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function ure(){return(yO=yO||m(function*(){if(!Ro())return!1;try{return yield Hc()}catch{return!1}})).apply(this,arguments)}!function are(){Vn(new Tn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Xn.create("registration-window");if(!Ro())throw Xn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Xn.create("registration-project-id");if(!o)throw Xn.create("registration-api-key");if(!a)throw Xn.create("registration-app-id");const u=new sre(a,r.name,t=t||"firebase"),l=new ore(u),c=new Tu(bI);c.logLevel=ve.ERROR;const d=new Qne(i,Fo,t,s,o,a),h=new Jne(d,u),f=new Wne(h,u,l,c),p=new tre(r,f,l,u,c);return function zne(n){const e=Cn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ft(bI,"0.4.4"),ft(bI,"0.4.4","esm2017")}();const lre=(n,e)=>e.some(t=>n instanceof t);let EO,IO;const bO=new WeakMap,TI=new WeakMap,CO=new WeakMap,DI=new WeakMap,SI=new WeakMap;let AI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return TI.get(n);if("objectStoreNames"===e)return n.objectStoreNames||CO.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ts(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function mre(n){return"function"==typeof n?function gre(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dre(){return IO||(IO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(MI(this),e),ts(bO.get(this))}:function(...e){return ts(n.apply(MI(this),e))}:function(e,...t){const r=n.call(MI(this),e,...t);return CO.set(r,e.sort?e.sort():[e]),ts(r)}}(n):(n instanceof IDBTransaction&&function fre(n){if(TI.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});TI.set(n,e)}(n),lre(n,function cre(){return EO||(EO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,AI):n)}function ts(n){if(n instanceof IDBRequest)return function hre(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ts(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&bO.set(t,n)}).catch(()=>{}),SI.set(e,n),e}(n);if(DI.has(n))return DI.get(n);const e=mre(n);return e!==n&&(DI.set(n,e),SI.set(e,n)),e}const MI=n=>SI.get(n);function TO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ts(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ts(o.result),u.oldVersion,u.newVersion,ts(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function xI(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),ts(t).then(()=>{})}const yre=["get","getKey","getAll","getAllKeys","count"],_re=["put","add","delete","clear"],NI=new Map;function DO(n,e){var t;if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(NI.get(e))return NI.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=_re.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!yre.includes(r))return;const o=function(u){return(t=t||m(function*(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(c.shift())),(yield Promise.all([h[r](...c),s&&d.done]))[0]})).apply(this,arguments)};return NI.set(e,o),o}var SO,AO,MO,xO,NO,RO,kO,PO,OO,FO,LO,VO,UO,BO,$O,jO,HO,zO,GO,qO;!function pre(n){AI=n(AI)}(n=>({...n,get:(e,t,r)=>DO(e,t)||n.get(e,t,r),has:(e,t)=>!!DO(e,t)||n.has(e,t)}));const vre="/firebase-messaging-sw.js",wre="/firebase-cloud-messaging-push-scope",QO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ere="https://fcmregistrations.googleapis.com/v1",YO="google.c.a.c_id",Ire="google.c.a.c_l",bre="google.c.a.ts",Cre="google.c.a.e";var Mu=(()=>{return(n=Mu||(Mu={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Mu;var n})();function ns(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Tre(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const RI="fcm_token_details_db",Dre=5,XO="fcm_token_object_Store",Mre="firebase-messaging-database",xre=1,Bo="firebase-messaging-store";let kI=null;function PI(){return kI||(kI=TO(Mre,xre,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Bo)}})),kI}function JO(n){return(AO=AO||m(function*(e){const t=FI(e),i=yield(yield PI()).transaction(Bo).objectStore(Bo).get(t);if(i)return i;{const s=yield function Sre(n){return(SO=SO||m(function*(e){var t;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(RI))return null;let r=null;return(yield TO(RI,Dre,{upgrade:function(o,a,u,l){return(t=t||m(function*(c,d,h,f){var p;if(d<2||!c.objectStoreNames.contains(XO))return;const g=f.objectStore(XO),y=yield g.index("fcmSenderId").get(e);if(yield g.clear(),y)if(2===d){const _=y;if(!_.auth||!_.p256dh||!_.endpoint)return;r={token:_.fcmToken,createTime:null!==(p=_.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:_.auth,p256dh:_.p256dh,endpoint:_.endpoint,swScope:_.swScope,vapidKey:"string"==typeof _.vapidKey?_.vapidKey:ns(_.vapidKey)}}}else if(3===d){const _=y;r={token:_.fcmToken,createTime:_.createTime,subscriptionOptions:{auth:ns(_.auth),p256dh:ns(_.p256dh),endpoint:_.endpoint,swScope:_.swScope,vapidKey:ns(_.vapidKey)}}}else if(4===d){const _=y;r={token:_.fcmToken,createTime:_.createTime,subscriptionOptions:{auth:ns(_.auth),p256dh:ns(_.p256dh),endpoint:_.endpoint,swScope:_.swScope,vapidKey:ns(_.vapidKey)}}}})).apply(this,arguments)}})).close(),yield xI(RI),yield xI("fcm_vapid_details_db"),yield xI("undefined"),function Are(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(r)?r:null})).apply(this,arguments)}(e.appConfig.senderId);if(s)return yield OI(e,s),s}})).apply(this,arguments)}function OI(n,e){return(MO=MO||m(function*(t,r){const i=FI(t),o=(yield PI()).transaction(Bo,"readwrite");return yield o.objectStore(Bo).put(r,i),yield o.done,r})).apply(this,arguments)}function FI({appConfig:n}){return n.appId}const sn=new pi("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kre(n,e){return(NO=NO||m(function*(t,r){const i=yield VI(t),s=eF(r),o={method:"POST",headers:i,body:JSON.stringify(s)};let a;try{a=yield(yield fetch(LI(t.appConfig),o)).json()}catch(u){throw sn.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(a.error)throw sn.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw sn.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function ZO(n,e){return(kO=kO||m(function*(t,r){const s={method:"DELETE",headers:yield VI(t)};try{const a=yield(yield fetch(`${LI(t.appConfig)}/${r}`,s)).json();if(a.error)throw sn.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(o){throw sn.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}})).apply(this,arguments)}function LI({projectId:n}){return`${Ere}/projects/${n}/registrations`}function VI(n){return(PO=PO||m(function*({appConfig:e,installations:t}){const r=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})).apply(this,arguments)}function eF({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==QO&&(i.web.applicationPubKey=r),i}const Ore=6048e5;function Fre(n){return(OO=OO||m(function*(e){const t=yield function Vre(n,e){return(UO=UO||m(function*(t,r){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Tre(r)})})).apply(this,arguments)}(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:ns(t.getKey("auth")),p256dh:ns(t.getKey("p256dh"))},i=yield JO(e.firebaseDependencies);if(i){if(function Ure(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(i.subscriptionOptions,r))return Date.now()>=i.createTime+Ore?function Lre(n,e){return(LO=LO||m(function*(t,r){try{const i=yield function Pre(n,e){return(RO=RO||m(function*(t,r){const i=yield VI(t),s=eF(r.subscriptionOptions),o={method:"PATCH",headers:i,body:JSON.stringify(s)};let a;try{a=yield(yield fetch(`${LI(t.appConfig)}/${r.token}`,o)).json()}catch(u){throw sn.create("token-update-failed",{errorInfo:u?.toString()})}if(a.error)throw sn.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw sn.create("token-update-no-token");return a.token})).apply(this,arguments)}(t.firebaseDependencies,r),s=Object.assign(Object.assign({},r),{token:i,createTime:Date.now()});return yield OI(t.firebaseDependencies,s),i}catch(i){throw yield function tF(n){return(FO=FO||m(function*(e){const t=yield JO(e.firebaseDependencies);t&&(yield ZO(e.firebaseDependencies,t.token),yield function Nre(n){return(xO=xO||m(function*(e){const t=FI(e),i=(yield PI()).transaction(Bo,"readwrite");yield i.objectStore(Bo).delete(t),yield i.done})).apply(this,arguments)}(e.firebaseDependencies));const r=yield e.swRegistration.pushManager.getSubscription();return!r||r.unsubscribe()})).apply(this,arguments)}(t),i}})).apply(this,arguments)}(e,{token:i.token,createTime:Date.now(),subscriptionOptions:r}):i.token;try{yield ZO(e.firebaseDependencies,i.token)}catch(s){console.warn(s)}return nF(e.firebaseDependencies,r)}return nF(e.firebaseDependencies,r)})).apply(this,arguments)}function nF(n,e){return(VO=VO||m(function*(t,r){const s={token:yield kre(t,r),createTime:Date.now(),subscriptionOptions:r};return yield OI(t,s),s.token})).apply(this,arguments)}function rF(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Bre(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function $re(n,e){e.data&&(n.data=e.data)}(e,n),function jre(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function iF(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function UI(n){return sn.create("missing-app-config-values",{valueName:n})}iF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),iF("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Gre{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function zre(n){if(!n||!n.options)throw UI("App Configuration Object");if(!n.name)throw UI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw UI(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function oF(n,e){return(HO=HO||m(function*(t,r){if(!navigator)throw sn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw sn.create("permission-blocked");return yield function Wre(n,e){return(jO=jO||m(function*(t,r){r?t.vapidKey=r:t.vapidKey||(t.vapidKey=QO)})).apply(this,arguments)}(t,r?.vapidKey),yield function qre(n,e){return($O=$O||m(function*(t,r){if(!r&&!t.swRegistration&&(yield function sF(n){return(BO=BO||m(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(vre,{scope:wre}),e.swRegistration.update().catch(()=>{})}catch(t){throw sn.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})).apply(this,arguments)}(t)),r||!t.swRegistration){if(!(r instanceof ServiceWorkerRegistration))throw sn.create("invalid-sw-registration");t.swRegistration=r}})).apply(this,arguments)}(t,r?.serviceWorkerRegistration),Fre(t)})).apply(this,arguments)}function Yre(n,e){return(GO=GO||m(function*(t,r){const i=r.data;if(!i.isFirebaseMessaging)return;t.onMessageHandler&&i.messageType===Mu.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(rF(i)):t.onMessageHandler.next(rF(i)));const s=i.data;(function Hre(n){return"object"==typeof n&&!!n&&YO in n})(s)&&"1"===s[Cre]&&(yield function Kre(n,e,t){return(zO=zO||m(function*(r,i,s){const o=function Qre(n){switch(n){case Mu.NOTIFICATION_CLICKED:return"notification_open";case Mu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(i);(yield r.firebaseDependencies.analyticsProvider.get()).logEvent(o,{message_id:s[YO],message_name:s[Ire],message_time:s[bre],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(t,i.messageType,s))})).apply(this,arguments)}const aF="@firebase/messaging",Xre=n=>{const e=new Gre(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>Yre(e,t)),e},Jre=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>oF(e,r)}};function lF(){return(qO=qO||m(function*(){try{yield Hc()}catch{return!1}return typeof window<"u"&&Ro()&&qE()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var cF,dF,hF,fF,pF,gF,EF,IF,bF;!function Zre(){Vn(new Tn("messaging",Xre,"PUBLIC")),Vn(new Tn("messaging-internal",Jre,"PRIVATE")),ft(aF,"0.12.4"),ft(aF,"0.12.4","esm2017")}();const cg="analytics",nie="firebase_id",rie="origin",iie=6e4,sie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",BI="https://www.googletagmanager.com/gtag/js",Ht=new Tu("@firebase/analytics"),Un=new pi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function aie(n){if(!n.startsWith(BI)){const e=Un.create("invalid-gtag-resource",{gtagURL:n});return Ht.warn(e.message),""}return n}function TF(n){return Promise.all(n.map(e=>e.catch(t=>t)))}const mie=30,DF=new class _ie{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function vie(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Eie(n){return(fF=fF||m(function*(e,t=DF,r){const{appId:i,apiKey:s,measurementId:o}=e.options;if(!i)throw Un.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw Un.create("no-api-key")}const a=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Cie;return setTimeout(m(function*(){u.abort()}),void 0!==r?r:iie),SF({appId:i,apiKey:s,measurementId:o},a,u,t)})).apply(this,arguments)}function SF(n,e,t){return(pF=pF||m(function*(r,{throttleEndTimeMillis:i,backoffCount:s},o,a=DF){var u;const{appId:l,measurementId:c}=r;try{yield function Iie(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(o,i)}catch(d){if(c)return Ht.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:c};throw d}try{const d=yield function wie(n){return(hF=hF||m(function*(e){var t;const{appId:r,apiKey:i}=e,s={method:"GET",headers:vie(i)},o=sie.replace("{app-id}",r),a=yield fetch(o,s);if(200!==a.status&&304!==a.status){let u="";try{const l=yield a.json();null!==(t=l.error)&&void 0!==t&&t.message&&(u=l.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()})).apply(this,arguments)}(r);return a.deleteThrottleMetadata(l),d}catch(d){const h=d;if(!function bie(n){if(!(n instanceof Ar&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(h)){if(a.deleteThrottleMetadata(l),c)return Ht.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:c};throw d}const f=503===Number(null===(u=h?.customData)||void 0===u?void 0:u.httpStatus)?QE(s,a.intervalMillis,mie):QE(s,a.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:s+1};return a.setThrottleMetadata(l,p),Ht.debug(`Calling attemptFetch again in ${f} millis`),SF(r,p,o,a)}})).apply(this,arguments)}class Cie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let $I,jI;function Rie(n,e,t,r,i,s,o){return(IF=IF||m(function*(a,u,l,c,d,h,f){var p;const g=Eie(a);g.then(D=>{l[D.measurementId]=D.appId,a.options.measurementId&&D.measurementId!==a.options.measurementId&&Ht.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>Ht.error(D)),u.push(g);const y=function Nie(){return(EF=EF||m(function*(){if(!Ro())return Ht.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Hc()}catch(n){return Ht.warn(Un.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(D=>{if(D)return c.getId()}),[_,b]=yield Promise.all([g,y]);(function gie(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(BI)&&t.src.includes(n))return t;return null})(h)||function lie(n,e){const t=function uie(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:aie}),r=document.createElement("script"),i=`${BI}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(h,_.measurementId),jI&&(d("consent","default",jI),function AF(n){jI=n}(void 0)),d("js",new Date);const v=null!==(p=f?.config)&&void 0!==p?p:{};return v[rie]="firebase",v.update=!0,null!=b&&(v[nie]=b),d("config",_.measurementId,v),$I&&(d("set",$I),function MF(n){$I=n}(void 0)),_.measurementId})).apply(this,arguments)}class kie{constructor(e){this.app=e}_delete(){return delete gi[this.app.options.appId],Promise.resolve()}}let gi={},xF=[];const NF={};let kF,mi,dg="dataLayer",RF="gtag",HI=!1;function Oie(n,e,t){!function Pie(){const n=[];if(GE()&&n.push("This is a browser extension environment."),qE()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Un.create("invalid-analytics-context",{errorInfo:e});Ht.warn(t.message)}}();const r=n.options.appId;if(!r)throw Un.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Un.create("no-api-key");Ht.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gi[r])throw Un.create("already-exists",{id:r});if(!HI){!function cie(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(dg);const{wrappedGtag:s,gtagCore:o}=function pie(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function fie(n,e,t,r){var i;return function s(o){return(i=i||m(function*(a,...u){try{if("event"===a){const[l,c]=u;yield function hie(n,e,t,r,i){return(dF=dF||m(function*(s,o,a,u,l){try{let c=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const h=yield TF(a);for(const f of d){const p=h.find(y=>y.measurementId===f),g=p&&o[p.appId];if(!g){c=[];break}c.push(g)}}0===c.length&&(c=Object.values(o)),yield Promise.all(c),s("event",u,l||{})}catch(c){Ht.error(c)}})).apply(this,arguments)}(n,e,t,l,c)}else if("config"===a){const[l,c]=u;yield function die(n,e,t,r,i,s){return(cF=cF||m(function*(o,a,u,l,c,d){const h=l[c];try{if(h)yield a[h];else{const p=(yield TF(u)).find(g=>g.measurementId===c);p&&(yield a[p.appId])}}catch(f){Ht.error(f)}o("config",c,d)})).apply(this,arguments)}(n,e,t,r,l,c)}else if("consent"===a){const[l]=u;n("consent","update",l)}else if("get"===a){const[l,c,d]=u;n("get",l,c,d)}else if("set"===a){const[l]=u;n("set",l)}else n(a,...u)}catch(l){Ht.error(l)}})).apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(gi,xF,NF,dg,RF);mi=s,kF=o,HI=!0}return gi[r]=Rie(n,xF,NF,e,kF,dg,t),new kie(n)}function Lie(){return(bF=bF||m(function*(){if(GE()||!qE()||!Ro())return!1;try{return yield Hc()}catch{return!1}})).apply(this,arguments)}const PF="@firebase/analytics";!function Uie(){Vn(new Tn(cg,(e,{options:t})=>Oie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Vn(new Tn("analytics-internal",function n(e){try{const t=e.getProvider(cg).getImmediate();return{logEvent:(r,i,s)=>function Vie(n,e,t,r){n=Cn(n),function Tie(n,e,t,r,i){return(gF=gF||m(function*(s,o,a,u,l){if(l&&l.global)s("event",a,u);else{const c=yield o;s("event",a,Object.assign(Object.assign({},u),{send_to:c}))}})).apply(this,arguments)}(mi,gi[n.app.options.appId],e,t,r).catch(i=>Ht.error(i))}(t,r,i,s)}}catch(t){throw Un.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),ft(PF,"0.10.0"),ft(PF,"0.10.0","esm2017")}();class Bie extends tr{constructor(e,t){super()}schedule(e,t=0){return this}}const hg={setInterval(n,e,...t){const{delegate:r}=hg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=hg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class FF extends Bie{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return hg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&hg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,_a(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const LF={now:()=>(LF.delegate||Date).now(),delegate:void 0};class Qc{constructor(e,t=Qc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Qc.now=LF.now;class VF extends Qc{constructor(e,t=Qc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Hie=new class jie extends VF{}(class $ie extends FF{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),zie=new VF(FF),fg=new $a("7.5.0"),zI="__angularfire_symbol__analyticsIsSupportedValue",GI="__angularfire_symbol__analyticsIsSupported",qI="__angularfire_symbol__remoteConfigIsSupportedValue",WI="__angularfire_symbol__remoteConfigIsSupported",KI="__angularfire_symbol__messagingIsSupportedValue",QI="__angularfire_symbol__messagingIsSupported";function XI(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[GI]||(globalThis[GI]=Lie().then(n=>globalThis[zI]=n).catch(()=>globalThis[zI]=!1)),globalThis[QI]||(globalThis[QI]=lF().then(n=>globalThis[KI]=n).catch(()=>globalThis[KI]=!1)),globalThis[WI]||(globalThis[WI]=ure().then(n=>globalThis[qI]=n).catch(()=>globalThis[qI]=!1));const JI=(n,e)=>{const t=e?[e]:EP(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function xu(){}class UF{constructor(e,t=Hie){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Gie{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xu,{},xu,xu)),t.pipe(xt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ZI=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new UF(Zone.current)),this.insideAngular=t.run(()=>new UF(Zone.current,zie)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(P(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $o(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function jo(n){return $o().ngZone.run(()=>n())}function Wie(n){return $o(),function Kie(n){return function(t){return(t=t.lift(new Gie(n.ngZone))).pipe(Ph(n.outsideAngular),kh(n.insideAngular))}}($o())(n)}const Qie=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),jo(()=>n.apply(void 0,r))},on=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=jo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xu,{},xu,xu)))),r[s]=Qie(r[s],t));const i=function qie(n){return $o().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof qe){const s=$o();return i.pipe(Ph(s.outsideAngular),kh(s.insideAngular))}return jo(()=>i)}return i instanceof qe?i.pipe(Wie):i instanceof Promise?jo(()=>new Promise((s,o)=>i.then(a=>jo(()=>s(a)),a=>jo(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:jo(()=>i)};class Nu{constructor(e){return e}}class eb{constructor(){return EP()}}const tb=new z("angularfire2._apps"),Xie={provide:Nu,useFactory:function Yie(n){return n&&1===n.length?n[0]:new Nu(iI())},deps:[[new _n,tb]]},Jie={provide:eb,deps:[[new _n,tb]]};function Zie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Nu(r)}}let ese=(()=>{class n{constructor(t){ft("angularfire",fg.full,"core"),ft("angularfire",fg.full,"app"),ft("angular",mA.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(P(pc))},n.\u0275mod=Xt({type:n}),n.\u0275inj=$t({providers:[Xie,Jie]}),n})();function tse(n,...e){return{ngModule:ese,providers:[{provide:tb,useFactory:Zie(n),multi:!0,deps:[ke,wn,ZI,...e]}]}}const nse=on(wP,!0);var BF,$F,GF,qF,WF;const nb=new Map,YF={activated:!1,tokenObservers:[]},rse={initialized:!1,enabled:!1};function pt(n){return nb.get(n)||Object.assign({},YF)}function pg(){return rse}const rb="https://content-firebaseappcheck.googleapis.com/v1",ase="exchangeDebugToken",XF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class lse{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return m(function*(){t.stop();try{t.pending=new ng,yield function cse(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ng,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const an=new pi("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ib(n){if(!pt(n).activated)throw an.create("use-before-activation",{appName:n.name})}function yg(n,e){return(BF=BF||m(function*({url:t,body:r},i){const s={"Content-Type":"application/json"},o=i.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(r),headers:s};let u,l;try{u=yield fetch(t,a)}catch(f){throw an.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==u.status)throw an.create("fetch-status-error",{httpStatus:u.status});try{l=yield u.json()}catch(f){throw an.create("fetch-parse-error",{originalErrorMessage:f?.message})}const c=l.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw an.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});const d=1e3*Number(c[1]),h=Date.now();return{token:l.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function JF(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${rb}/projects/${t}/apps/${r}:${ase}?key=${i}`,body:{debug_token:e}}}const pse="firebase-app-check-database",gse=1,Yc="firebase-app-check-store";let _g=null;function tL(n,e){return($F=$F||m(function*(t,r){const s=(yield function eL(){return _g||(_g=new Promise((n,e)=>{try{const t=indexedDB.open(pse,gse);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(an.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Yc,{keyPath:"compositeKey"})}}catch(t){e(an.create("storage-open",{originalErrorMessage:t?.message}))}}),_g)}()).transaction(Yc,"readwrite"),a=s.objectStore(Yc).put({compositeKey:t,value:r});return new Promise((u,l)=>{a.onsuccess=c=>{u()},s.onerror=c=>{var d;l(an.create("storage-set",{originalErrorMessage:null===(d=c.target.error)||void 0===d?void 0:d.message}))}})})).apply(this,arguments)}const Xc=new Tu("@firebase/app-check");function ob(n,e){return Ro()?function yse(n,e){return tL(function rL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Xc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ab(){return pg().enabled}function ub(){return(GF=GF||m(function*(){const n=pg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const bse={error:"UNKNOWN_ERROR"};function Cse(n){return zE.encodeString(JSON.stringify(n),!1)}function vg(n){return(qF=qF||m(function*(e,t=!1){const r=e.app;ib(r);const i=pt(r);let o,s=i.token;if(s&&!Ru(s)&&(i.token=void 0,s=void 0),!s){const l=yield i.cachedTokenPromise;l&&(Ru(l)?s=l:yield ob(r,void 0))}if(!t&&s&&Ru(s))return{token:s.token};let u,a=!1;if(ab()){i.exchangeTokenPromise||(i.exchangeTokenPromise=yg(JF(r,yield ub()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const l=yield i.exchangeTokenPromise;return yield ob(r,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield pt(r).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Xc.warn(l.message):Xc.error(l),o=l}return s?o?u=Ru(s)?{token:s.token,internalError:o}:aL(o):(u={token:s.token},i.token=s,yield ob(r,s)):u=aL(o),a&&function oL(n,e){const t=pt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(r,u),u})).apply(this,arguments)}function cb(n,e){const t=pt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function sL(n){const{app:e}=n,t=pt(e);let r=t.tokenRefresher;r||(r=function Tse(n){const{app:e}=n;return new lse(m(function*(){let r;if(r=pt(e).token?yield vg(n,!0):yield vg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=pt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},XF.RETRIAL_MIN_WAIT,XF.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ru(n){return n.expireTimeMillis-Date.now()>0}function aL(n){return{token:Cse(bse),error:n}}class Dse{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=pt(this.app);for(const t of e)cb(this.app,t.next);return Promise.resolve()}}const gL="app-check-internal";!function Bse(){Vn(new Tn("app-check",n=>function Sse(n,e){return new Dse(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(gL).initialize()})),Vn(new Tn(gL,n=>function Ase(n){return{getToken:e=>vg(n,e),getLimitedUseToken:()=>function iL(n){return(WF=WF||m(function*(e){const t=e.app;ib(t);const{provider:r}=pt(t);if(ab()){const i=yield ub(),{token:s}=yield yg(JF(t,i),e.heartbeatServiceProvider);return{token:s}}{const{token:i}=yield r.getToken();return{token:i}}})).apply(this,arguments)}(n),addTokenListener:e=>function lb(n,e,t,r){const{app:i}=n,s=pt(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Ru(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),sL(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>sL(n))}(n,"INTERNAL",e),removeTokenListener:e=>cb(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ft("@firebase/app-check","0.8.0")}();class hb{constructor(){return JI("app-check")}}var yL,_L,vL,wL,IL,bL,CL,TL,DL,SL,ML,xL,RL,PL,BL,$L,jL,WL,YL,JL,ZL,e2,c2,E2,I2,b2,M2,x2,k2,U2,$2,j2,H2,z2;typeof window<"u"&&window;const Gse=function G2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},q2=new pi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Eg=new Tu("@firebase/auth");function Ig(n,...e){Eg.logLevel<=ve.ERROR&&Eg.error(`Auth (${Fo}): ${n}`,...e)}function Jn(n,...e){throw pb(n,...e)}function dr(n,...e){return pb(n,...e)}function W2(n,e,t){const r=Object.assign(Object.assign({},Gse()),{[e]:t});return new pi("auth","Firebase",r).create(e,{appName:n.name})}function pb(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return q2.create(n,...e)}function k(n,e,...t){if(!n)throw pb(e,...t)}function yi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ig(e),new Error(e)}function rs(n,e){n||yi(e)}function Jc(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function K2(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Zc{constructor(e,t){this.shortDelay=e,this.longDelay=t,rs(t>e,"Short delay should be less than long delay!"),this.isMobile=function _ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}()||function wee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Wse(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function gb(){return"http:"===K2()||"https:"===K2()}()||GE()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mb(n,e){rs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Q2{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qse={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Yse=new Zc(3e4,6e4);function it(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function gt(n,e,t,r){return(yL=yL||m(function*(i,s,o,a,u={}){return Y2(i,u,m(function*(){let l={},c={};a&&("GET"===s?c=a:l={body:JSON.stringify(a)});const d=zc(Object.assign({key:i.config.apiKey},c)).slice(1),h=yield i._getAdditionalHeaders();return h["Content-Type"]="application/json",i.languageCode&&(h["X-Firebase-Locale"]=i.languageCode),Q2.fetch()(X2(i,i.config.apiHost,o,d),Object.assign({method:s,headers:h,referrerPolicy:"no-referrer"},l))}))})).apply(this,arguments)}function Y2(n,e,t){return(_L=_L||m(function*(r,i,s){r._canInitEmulator=!1;const o=Object.assign(Object.assign({},Qse),i);try{const a=new Xse(r),u=yield Promise.race([s(),a.promise]);a.clearNetworkTimeout();const l=yield u.json();if("needConfirmation"in l)throw ed(r,"account-exists-with-different-credential",l);if(u.ok&&!("errorMessage"in l))return l;{const c=u.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===d)throw ed(r,"credential-already-in-use",l);if("EMAIL_EXISTS"===d)throw ed(r,"email-already-in-use",l);if("USER_DISABLED"===d)throw ed(r,"user-disabled",l);const f=o[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw W2(r,f,h);Jn(r,f)}}catch(a){if(a instanceof Ar)throw a;Jn(r,"network-request-failed",{message:String(a)})}})).apply(this,arguments)}function is(n,e,t,r){return(vL=vL||m(function*(i,s,o,a,u={}){const l=yield gt(i,s,o,a,u);return"mfaPendingCredential"in l&&Jn(i,"multi-factor-auth-required",{_serverResponse:l}),l})).apply(this,arguments)}function X2(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?mb(n.config,i):`${n.config.apiScheme}://${i}`}class Xse{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(dr(this.auth,"network-request-failed")),Yse.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ed(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=dr(n,e,r);return i.customData._tokenResponse=t,i}function td(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yb(n){return 1e3*Number(n)}function bg(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Ig("JWT malformed, contained fewer than 3 sections"),null;try{const i=eg(t);return i?JSON.parse(i):(Ig("Failed to decode base64 JWT payload"),null)}catch(i){return Ig("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ss(n,e){return(CL=CL||m(function*(t,r,i=!1){if(i)return r;try{return yield r}catch(s){throw s instanceof Ar&&function roe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(s)&&t.auth.currentUser===t&&(yield t.auth.signOut()),s}})).apply(this,arguments)}class ioe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield t.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class J2{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=td(this.lastLoginAt),this.creationTime=td(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nd(n){return(TL=TL||m(function*(e){var t;const r=e.auth,i=yield e.getIdToken(),s=yield ss(e,function eoe(n,e){return(IL=IL||m(function*(t,r){return gt(t,"POST","/v1/accounts:lookup",r)})).apply(this,arguments)}(r,{idToken:i}));k(s?.users.length,r,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const a=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?function aoe(n){return n.map(e=>{var{providerId:t}=e,r=Rh(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],u=function ooe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(e.providerData,a),d=!!e.isAnonymous&&!(e.email&&o.passwordHash||u?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new J2(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,h)})).apply(this,arguments)}class rd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function noe(n){const e=bg(n);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return m(function*(){return k(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function uoe(n,e){return(SL=SL||m(function*(t,r){const i=yield Y2(t,{},m(function*(){const s=zc({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,u=X2(t,o,"/v1/token",`key=${a}`),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Q2.fetch()(u,{method:"POST",headers:l,body:s})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}})).apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new rd;return r&&(k("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(k("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rd,this.toJSON())}_performRefresh(){return yi("not implemented")}}function Fs(n,e){k("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Ho{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Rh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ioe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new J2(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return m(function*(){const r=yield ss(t,t.stsTokenManager.getToken(t.auth,e));return k(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function toe(n){return(bL=bL||m(function*(e,t=!1){const r=Cn(e),i=yield r.getIdToken(t),s=bg(i);k(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=o?.sign_in_provider;return{claims:s,token:i,authTime:td(yb(s.auth_time)),issuedAtTime:td(yb(s.iat)),expirationTime:td(yb(s.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}(this,e)}reload(){return function soe(n){return(DL=DL||m(function*(e){const t=Cn(e);yield nd(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ho(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield nd(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const t=yield e.getIdToken();return yield ss(e,function Jse(n,e){return(wL=wL||m(function*(t,r){return gt(t,"POST","/v1/accounts:delete",r)})).apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,_=null!==(l=t.createdAt)&&void 0!==l?l:void 0,b=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:D,isAnonymous:U,providerData:q,stsTokenManager:Ee}=t;k(v&&Ee,e,"internal-error");const ot=rd.fromJSON(this.name,Ee);k("string"==typeof v,e,"internal-error"),Fs(d,e.name),Fs(h,e.name),k("boolean"==typeof D,e,"internal-error"),k("boolean"==typeof U,e,"internal-error"),Fs(f,e.name),Fs(p,e.name),Fs(g,e.name),Fs(y,e.name),Fs(_,e.name),Fs(b,e.name);const at=new Ho({uid:v,auth:e,email:h,emailVerified:D,displayName:d,isAnonymous:U,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ot,createdAt:_,lastLoginAt:b});return q&&Array.isArray(q)&&(at.providerData=q.map(yr=>Object.assign({},yr))),y&&(at._redirectEventId=y),at}static _fromIdTokenResponse(e,t,r=!1){return m(function*(){const i=new rd;i.updateFromServerResponse(t);const s=new Ho({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield nd(s),s})()}}const Z2=new Map;function os(n){rs(n instanceof Function,"Expected a class definition");let e=Z2.get(n);return e?(rs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Z2.set(n,e),e)}const eV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(t,r){var i=this;return m(function*(){i.storage[t]=r})()}_get(t){var r=this;return m(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return m(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Cg(n,e,t){return`firebase:${n}:${e}:${t}`}class Pu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Cg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cg("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ho._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return m(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return m(function*(){var i,s;if(!t.length)return new Pu(os(eV),e,r);const o=(yield Promise.all(t.map(function(d){return(i=i||m(function*(h){if(yield h._isAvailable())return h})).apply(this,arguments)}))).filter(d=>d);let a=o[0]||os(eV);const u=Cg(r,e.config.apiKey,e.name);let l=null;for(const d of t)try{const h=yield d._get(u);if(h){const f=Ho._fromJSON(e,h);d!==a&&(l=f),a=d;break}}catch{}const c=o.filter(d=>d._shouldAllowMigration);return a._shouldAllowMigration&&c.length?(a=c[0],l&&(yield a._set(u,l.toJSON())),yield Promise.all(t.map(function(d){return(s=s||m(function*(h){if(h!==a)try{yield h._remove(u)}catch{}})).apply(this,arguments)})),new Pu(a,e,r)):new Pu(a,e,r)})()}}function tV(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oV(e))return"Blackberry";if(aV(e))return"Webos";if(_b(e))return"Safari";if((e.includes("chrome/")||rV(e))&&!e.includes("edge/"))return"Chrome";if(sV(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function nV(n=jt()){return/firefox\//i.test(n)}function _b(n=jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rV(n=jt()){return/crios\//i.test(n)}function iV(n=jt()){return/iemobile/i.test(n)}function sV(n=jt()){return/android/i.test(n)}function oV(n=jt()){return/blackberry/i.test(n)}function aV(n=jt()){return/webos/i.test(n)}function Tg(n=jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uV(n=jt()){return Tg(n)||sV(n)||aV(n)||oV(n)||/windows phone/i.test(n)||iV(n)}function lV(n,e=[]){let t;switch(n){case"Browser":t=tV(jt());break;case"Worker":t=`${tV(jt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fo}/${r}`}function cV(n,e){return(ML=ML||m(function*(t,r){return gt(t,"GET","/v2/recaptchaConfig",it(t,r))})).apply(this,arguments)}function hV(n){return void 0!==n&&void 0!==n.enterprise}class fV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function vb(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=dr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function foe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function pV(n){return`__${n}${Math.floor(1e6*Math.random())}`}const moe="NO_RECAPTCHA";class gV{constructor(e){this.type="recaptcha-enterprise",this.auth=zt(e)}verify(e="verify",t=!1){var r=this;return m(function*(){var i;function o(a,u,l){const c=window.grecaptcha;hV(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(moe)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function s(a){return(i=i||m(function*(u){var l;if(!t){if(null==u.tenantId&&null!=u._agentRecaptchaConfig)return u._agentRecaptchaConfig.siteKey;if(null!=u.tenantId&&void 0!==u._tenantRecaptchaConfigs[u.tenantId])return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(function(c,d){return(l=l||m(function*(h,f){cV(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(void 0!==p.recaptchaKey){const g=new fV(p);return null==u.tenantId?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}f(new Error("recaptcha Enterprise site key undefined"))}).catch(p=>{f(p)})})).apply(this,arguments)})})).apply(this,arguments)})(r.auth).then(l=>{if(!t&&hV(window.grecaptcha))o(l,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));vb("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,u)}).catch(c=>{u(c)})}}).catch(l=>{u(l)})})})()}}function Ls(n,e,t){return(xL=xL||m(function*(r,i,s,o=!1){const a=new gV(r);let u;try{u=yield a.verify(s)}catch{u=yield a.verify(s,!0)}const l=Object.assign({},i);return Object.assign(l,o?{captchaResp:u}:{captchaResponse:u}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l})).apply(this,arguments)}class yoe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return m(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class _oe{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mV(this),this.idTokenSubscription=new mV(this),this.beforeStateQueue=new yoe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=os(t)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Pu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return m(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===u)&&l?.user&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return k(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return m(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return m(function*(){try{yield nd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Kse(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return m(function*(){const r=e?Cn(e):null;return r&&k(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return m(function*(){if(!r._deleted)return e&&k(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(m(function*(){yield t.assertedPersistence.setPersistence(os(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const t=yield cV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new fV(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new gV(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return m(function*(){if(!t.redirectPersistenceManager){const r=e&&os(e)||t._popupRedirectResolver;k(r,t,"argument-error"),t.redirectPersistenceManager=yield Pu.create(t,[os(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return m(function*(){var r,i;return t._isInitialized&&(yield t.queue(m(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return m(function*(){if(e===t.currentUser)return t.queue(m(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return k(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return m(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function qse(n,...e){Eg.logLevel<=ve.WARN&&Eg.warn(`Auth (${Fo}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function zt(n){return Cn(n)}class mV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Dee(n,e){const t=new See(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yV(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function _V(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class wb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,t){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}function Eb(n,e){return(PL=PL||m(function*(t,r){return is(t,"POST","/v1/accounts:signInWithPassword",it(t,r))})).apply(this,arguments)}class id extends wb{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new id(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new id(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return m(function*(){var r;switch(t.signInMethod){case"password":const s={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield Ls(e,s,"signInWithPassword");return Eb(e,o)}var i;return Eb(e,s).catch(function(o){return(i=i||m(function*(a){if("auth/missing-recaptcha-token"===a.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const u=yield Ls(e,s,"signInWithPassword");return Eb(e,u)}return Promise.reject(a)})).apply(this,arguments)});case"emailLink":return function Soe(n,e){return(BL=BL||m(function*(t,r){return is(t,"POST","/v1/accounts:signInWithEmailLink",it(t,r))})).apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Jn(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return m(function*(){switch(r.signInMethod){case"password":return function wV(n,e){return(RL=RL||m(function*(t,r){return gt(t,"POST","/v1/accounts:update",r)})).apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Aoe(n,e){return($L=$L||m(function*(t,r){return is(t,"POST","/v1/accounts:signInWithEmailLink",it(t,r))})).apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Jn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function as(n,e){return(jL=jL||m(function*(t,r){return is(t,"POST","/v1/accounts:signInWithIdp",it(t,r))})).apply(this,arguments)}class Ou extends wb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ou(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Rh(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ou(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return as(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,as(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,as(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zc(t)}return e}}class od{constructor(e){var t,r,i,s,o,a;const u=Gc(qc(e)),l=null!==(t=u.apiKey)&&void 0!==t?t:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function Ooe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);k(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function Foe(n){const e=Gc(qc(n)).link,t=e?Gc(qc(e)).deep_link_id:null,r=Gc(qc(n)).deep_link_id;return(r?Gc(qc(r)).link:null)||r||t||e||n}(e);try{return new od(t)}catch{return null}}}let EV=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return id._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=od.parseLink(r);return k(i,"argument-error"),id._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Vs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class IV extends Vs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Loe=(()=>{class n extends IV{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Ou._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();function Ag(n,e){return(WL=WL||m(function*(t,r){return is(t,"POST","/v1/accounts:signUp",it(t,r))})).apply(this,arguments)}class Mr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return m(function*(){const s=yield Ho._fromIdTokenResponse(e,r,i),o=bV(r);return new Mr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=bV(r);return new Mr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function bV(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Mg extends Ar{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Mg(e,t,r,i)}}function CV(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Mg._fromErrorAndOperation(n,s,e,r):s})}function SV(n,e){return(ZL=ZL||m(function*(t,r,i=!1){const s="signIn",o=yield CV(t,s,r),a=yield Mr._fromIdTokenResponse(t,s,o);return i||(yield t._updateCurrentUser(a.user)),a})).apply(this,arguments)}function zoe(n,e,t){return(c2=c2||m(function*(r,i,s){var o;const a=zt(r),u={returnSecureToken:!0,email:i,password:s,clientType:"CLIENT_TYPE_WEB"};let l;if(null!==(o=a._getRecaptchaConfig())&&void 0!==o&&o.emailPasswordEnabled){const f=yield Ls(a,u,"signUpPassword");l=Ag(a,f)}else{var c;l=Ag(a,u).catch(function(f){return(c=c||m(function*(p){if("auth/missing-recaptcha-token"===p.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const g=yield Ls(a,u,"signUpPassword");return Ag(a,g)}return Promise.reject(p)})).apply(this,arguments)})}const d=yield l.catch(f=>Promise.reject(f)),h=yield Mr._fromIdTokenResponse(a,"signIn",d);return yield a._updateCurrentUser(h.user),h})).apply(this,arguments)}function Goe(n,e,t){return function Db(n,e){return(e2=e2||m(function*(t,r){return SV(zt(t),r)})).apply(this,arguments)}(Cn(n),EV.credential(e,t))}const Ng="__sak";class MV{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ng,"1"),this.storage.removeItem(Ng),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const uae=(()=>{class n extends MV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sae(){const n=jt();return _b(n)||Tg(n)}()&&function doe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=uV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function coe(){return function Eee(){const n=jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),xV=(()=>{class n extends MV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let cae=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return m(function*(){var i;const s=t,{eventId:o,eventType:a,data:u}=s.data,l=r.handlersMap[a];if(!l?.size)return;s.ports[0].postMessage({status:"ack",eventId:o,eventType:a});const c=Array.from(l).map(function(h){return(i=i||m(function*(f){return f(s.origin,u)})).apply(this,arguments)}),d=yield function lae(n){var e;return Promise.all(n.map(function(t){return(e=e||m(function*(r){try{return{fulfilled:!0,value:yield r}}catch(i){return{fulfilled:!1,reason:i}}})).apply(this,arguments)}))}(c);s.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:d})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Rg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class dae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,l)=>{const c=Rg("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Nt(){return window}function Pb(){return typeof Nt().WorkerGlobalScope<"u"&&"function"==typeof Nt().importScripts}const NV="firebaseLocalStorageDb",mae=1,kg="firebaseLocalStorage",RV="fbase_key";class ud{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Pg(n,e){return n.transaction([kg],e?"readwrite":"readonly").objectStore(kg)}function Ob(){const n=indexedDB.open(NV,mae);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(kg,{keyPath:RV})}catch(i){t(i)}}),n.addEventListener("success",m(function*(){const r=n.result;r.objectStoreNames.contains(kg)?e(r):(r.close(),yield function yae(){const n=indexedDB.deleteDatabase(NV);return new ud(n).toPromise()}(),e(yield Ob()))}))})}function kV(n,e,t){return(I2=I2||m(function*(r,i,s){const o=Pg(r,!0).put({[RV]:i,value:s});return new ud(o).toPromise()})).apply(this,arguments)}function PV(n,e){const t=Pg(n,!0).delete(e);return new ud(t).toPromise()}const Eae=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return m(function*(){return t.db||(t.db=yield Ob()),t.db})()}_withRetries(t){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return m(function*(){return Pb()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return m(function*(){var r,i;t.receiver=cae._getInstance(function gae(){return Pb()?self:null}()),t.receiver._subscribe("keyChanged",function(s,o){return(r=r||m(function*(a,u){return{keyProcessed:(yield t._poll()).includes(u.key)}})).apply(this,arguments)}),t.receiver._subscribe("ping",function(s,o){return(i=i||m(function*(a,u){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var t=this;return m(function*(){var r,i;if(t.activeServiceWorker=yield function fae(){return(E2=E2||m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new dae(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function pae(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const t=yield Ob();return yield kV(t,Ng,"1"),yield PV(t,Ng),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return m(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>kV(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return m(function*(){const i=yield r._withRetries(s=>function _ae(n,e){return(b2=b2||m(function*(t,r){const i=Pg(t,!1).get(r),s=yield new ud(i).toPromise();return void 0===s?null:s.value})).apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>PV(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return m(function*(){const r=yield t._withRetries(o=>{const a=Pg(o,!1).getAll();return new ud(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Go(n,e){return e?os(e):(k(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}pV("rcb"),new Zc(3e4,6e4);class Ub extends wb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return as(e,this._buildIdpRequest())}_linkToIdToken(e,t){return as(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return as(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Lae(n){return SV(n.auth,new Ub(n),n.bypassAuthState)}function Vae(n){const{auth:e,user:t}=n;return k(t,e,"internal-error"),function DV(n,e){return(JL=JL||m(function*(t,r,i=!1){const{auth:s}=t,o="reauthenticate";try{const a=yield ss(t,CV(s,o,r,t),i);k(a.idToken,s,"internal-error");const u=bg(a.idToken);k(u,s,"internal-error");const{sub:l}=u;return k(t.uid===l,s,"user-mismatch"),Mr._forOperation(t,o,a)}catch(a){throw"auth/user-not-found"===a?.code&&Jn(s,"user-mismatch"),a}})).apply(this,arguments)}(t,new Ub(n),n.bypassAuthState)}function Uae(n){return(M2=M2||m(function*(e){const{auth:t,user:r}=e;return k(r,t,"internal-error"),function Tb(n,e){return(YL=YL||m(function*(t,r,i=!1){const s=yield ss(t,r._linkToIdToken(t.auth,yield t.getIdToken()),i);return Mr._forOperation(t,"link",s)})).apply(this,arguments)}(r,new Ub(e),e.bypassAuthState)})).apply(this,arguments)}class FV{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var t,e=this;return new Promise(function(r,i){return(t=t||m(function*(s,o){e.pendingPromise={resolve:s,reject:o};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(a){e.reject(a)}})).apply(this,arguments)})}onAuthEvent(e){var t=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lae;case"linkViaPopup":case"linkViaRedirect":return Uae;case"reauthViaPopup":case"reauthViaRedirect":return Vae;default:Jn(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bae=new Zc(2e3,1e4);function $ae(n,e,t){return(x2=x2||m(function*(r,i,s){const o=zt(r);!function ku(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&Jn(n,"argument-error"),W2(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(r,i,Vs);const a=Go(o,s);return new Bb(o,"signInViaPopup",i,a).executeNotNull()})).apply(this,arguments)}let Bb=(()=>{class n extends FV{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return m(function*(){const r=yield t.execute();return k(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return m(function*(){rs(1===t.filter.length,"Popup operations only handle one event");const r=Rg();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(dr(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,Bae.get())};t()}}return n.currentPopupAction=null,n})();const jae="pendingRedirect",ld=new Map;class Hae extends FV{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return m(function*(){let r=ld.get(t.auth._key());if(!r){try{const s=(yield function zae(n,e){return(k2=k2||m(function*(t,r){const i=function VV(n){return Cg(jae,n.config.apiKey,n.name)}(r),s=function LV(n){return os(n._redirectPersistence)}(t);if(!(yield s._isAvailable()))return!1;const o="true"===(yield s._get(i));return yield s._remove(i),o})).apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}ld.set(t.auth._key(),r)}return t.bypassAuthState||ld.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function Gae(n,e){ld.set(n._key(),e)}function UV(n,e){return(U2=U2||m(function*(t,r,i=!1){const s=zt(t),o=Go(s,r),u=yield new Hae(s,o,i).execute();return u&&!i&&(delete u.user._redirectEventId,yield s._persistUserIfCurrent(u.user),yield s._setRedirectUser(null,r)),u})).apply(this,arguments)}class Yae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Xae(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jV(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!jV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(dr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($V(e))}saveEventToCache(e){this.cachedEventUids.add($V(e)),this.lastProcessedEventTime=Date.now()}}function $V(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jV({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}const Zae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eue=/^https?/;function nue(n){const e=Jc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!eue.test(t))return!1;if(Zae.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const rue=new Zc(3e4,6e4);function HV(){const n=Nt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Fg=null;const oue=new Zc(5e3,15e3),aue="__/auth/iframe",uue="emulator/auth/iframe",lue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function due(n){const e=n.config;k(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?mb(e,uue):`https://${n.config.authDomain}/${aue}`,r={apiKey:e.apiKey,appName:n.name,v:Fo},i=cue.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${zc(r).slice(1)}`}const fue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pue=500,gue=600,mue="_blank",yue="http://localhost";class zV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const wue="__/auth/handler",Eue="emulator/auth/handler",Iue=encodeURIComponent("fac");function GV(n,e,t,r,i,s){return(z2=z2||m(function*(o,a,u,l,c,d){k(o.config.authDomain,o,"auth-domain-config-required"),k(o.config.apiKey,o,"invalid-api-key");const h={apiKey:o.config.apiKey,appName:o.name,authType:u,redirectUrl:l,v:Fo,eventId:c};if(a instanceof Vs){a.setDefaultLanguage(o.languageCode),h.providerId=a.providerId||"",function Tee(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(a.getCustomParameters())||(h.customParameters=JSON.stringify(a.getCustomParameters()));for(const[y,_]of Object.entries(d||{}))h[y]=_}if(a instanceof IV){const y=a.getScopes().filter(_=>""!==_);y.length>0&&(h.scopes=y.join(","))}o.tenantId&&(h.tid=o.tenantId);const f=h;for(const y of Object.keys(f))void 0===f[y]&&delete f[y];const p=yield o._getAppCheckToken(),g=p?`#${Iue}=${encodeURIComponent(p)}`:"";return`${function bue({config:n}){return n.emulator?mb(n,Eue):`https://${n.authDomain}/${wue}`}(o)}?${zc(f).slice(1)}${g}`})).apply(this,arguments)}const jb="webStorageSupport",Tue=class Cue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xV,this._completeRedirectFn=UV,this._overrideRedirectResult=Gae}_openPopup(e,t,r,i){var s=this;return m(function*(){var o;rs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield GV(e,t,r,Jc(),i);return function _ue(n,e,t,r=pue,i=gue){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},fue),{width:r.toString(),height:i.toString(),top:s,left:o}),l=jt().toLowerCase();t&&(a=rV(l)?mue:t),nV(l)&&(e=e||yue,u.scrollbars="yes");const c=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function loe(n=jt()){var e;return Tg(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function vue(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new zV(null);const d=window.open(e||"",a,c);k(d,n,"popup-blocked");try{d.focus()}catch{}return new zV(d)}(e,a,Rg())})()}_openRedirect(e,t,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function hae(n){Nt().location.href=n}(yield GV(e,t,r,Jc(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(rs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return m(function*(){const r=yield function hue(n){return(H2=H2||m(function*(e){const t=yield function sue(n){return Fg=Fg||function iue(n){return new Promise((e,t)=>{var r,i,s;function o(){HV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HV(),t(dr(n,"network-request-failed"))},timeout:rue.get()})}if(null!==(i=null===(r=Nt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Nt().gapi)||void 0===s||!s.load){const a=pV("iframefcb");return Nt()[a]=()=>{gapi.load?o():t(dr(n,"network-request-failed"))},vb(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw Fg=null,e})}(n),Fg}(e),r=Nt().gapi;return k(r,e,"internal-error"),t.open({where:document.body,url:due(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lue,dontclear:!0},i=>{var s;return new Promise(function(o,a){return(s=s||m(function*(u,l){yield i.restyle({setHideOnLeave:!1});const c=dr(e,"network-request-failed"),d=Nt().setTimeout(()=>{l(c)},oue.get());function h(){Nt().clearTimeout(d),u(i)}i.ping(h).then(h,()=>{l(c)})})).apply(this,arguments)})})})).apply(this,arguments)}(e),i=new Yae(e);return r.register("authEvent",s=>(k(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jb,{type:jb},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[jb];void 0!==o&&t(!!o),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function tue(n){return(j2=j2||m(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield function Jae(n){return($2=$2||m(function*(e,t={}){return gt(e,"GET","/v1/projects",t)})).apply(this,arguments)}(e);for(const r of t)try{if(nue(r))return}catch{}Jn(e,"unauthorized-domain")})).apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uV()||_b()||Tg()}};var KV="@firebase/auth";class Due{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return m(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xue=aP("authIdTokenMaxAge")||300;let YV=null;const Nue=n=>{var e;return function(t){return(e=e||m(function*(r){const i=r&&(yield r.getIdTokenResult()),s=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>xue)return;const o=i?.token;YV!==o&&(YV=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))})).apply(this,arguments)}};function Rue(n=iI()){const e=Du(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function voe(n,e){const t=Du(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(ig(t.getOptions(),e??{}))return i;Jn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Tue,persistence:[Eae,uae,xV]}),r=aP("authTokenSyncURL");if(r){const s=Nue(r);(function eae(n,e,t){Cn(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function Zoe(n,e,t,r){Cn(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=sP("auth");return i&&function Eoe(n,e,t){const r=zt(n);k(r._canInitEmulator,r,"emulator-config-failed"),k(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=yV(e),{host:o,port:a}=function Ioe(n){const e=yV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_V(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:_V(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function boe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function Aue(n){Vn(new Tn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;k(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lV(n)},l=new _oe(r,i,s,u);return function woe(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(os);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Vn(new Tn("auth-internal",e=>{const t=zt(e.getProvider("auth").getImmediate());return new Due(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ft(KV,"0.23.2",function Sue(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),ft(KV,"0.23.2","esm2017")}("Browser");class Vg{constructor(e){return e}}class JV{constructor(){return JI("auth")}}const zb=new z("angularfire2.auth-instances");function Pue(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Vg(r)}}const Oue={provide:JV,deps:[[new _n,zb]]},Fue={provide:Vg,useFactory:function kue(n,e){const t=XI("auth",n,e);return t&&new Vg(t)},deps:[[new _n,zb],Nu]};let Lue=(()=>{class n{constructor(){ft("angularfire",fg.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=$t({providers:[Fue,Oue]}),n})();function Vue(n,...e){return{ngModule:Lue,providers:[{provide:zb,useFactory:Pue(n),multi:!0,deps:[ke,wn,ZI,eb,[new _n,hb],...e]}]}}const Uue=on(zoe,!0),Bue=on(Rue,!0),$ue=on(Goe,!0),jue=on($ae,!0);var L,Hue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kr={},Gb=Gb||{},ae=Hue||self;function Ug(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function cd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var qb="closure_uid_"+(1e9*Math.random()>>>0),Gue=0;function que(n,e,t){return n.call.apply(n.bind,arguments)}function Wue(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Dn(n,e,t){return(Dn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?que:Wue).apply(null,arguments)}function Bg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Gt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Us(){this.s=this.s,this.o=this.o}Us.prototype.s=!1,Us.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function zue(n){Object.prototype.hasOwnProperty.call(n,qb)&&n[qb]||(n[qb]=++Gue)}(this)},Us.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ZV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Wb(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function eU(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Ug(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Sn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Sn.prototype.h=function(){this.defaultPrevented=!0};var Que=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ae.addEventListener("test",()=>{},e),ae.removeEventListener("test",()=>{},e)}catch{}return n}();function dd(n){return/^[\s\xa0]*$/.test(n)}function $g(){var n=ae.navigator;return n&&(n=n.userAgent)?n:""}function _i(n){return-1!=$g().indexOf(n)}function Kb(n){return Kb[" "](n),n}Kb[" "]=function(){};var Yb,n,Xue=_i("Opera"),Lu=_i("Trident")||_i("MSIE"),tU=_i("Edge"),Qb=tU||Lu,nU=_i("Gecko")&&!(-1!=$g().toLowerCase().indexOf("webkit")&&!_i("Edge"))&&!(_i("Trident")||_i("MSIE"))&&!_i("Edge"),Jue=-1!=$g().toLowerCase().indexOf("webkit")&&!_i("Edge");function rU(){var n=ae.document;return n?n.documentMode:void 0}e:{var Xb="",Jb=(n=$g(),nU?/rv:([^\);]+)(\)|;)/.exec(n):tU?/Edge\/([\d\.]+)/.exec(n):Lu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Jue?/WebKit\/(\S+)/.exec(n):Xue?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Jb&&(Xb=Jb?Jb[1]:""),Lu){var Zb=rU();if(null!=Zb&&Zb>parseFloat(Xb)){Yb=String(Zb);break e}}Yb=Xb}var Zue=ae.document&&Lu&&(rU()||parseInt(Yb,10))||void 0;function hd(n,e){if(Sn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(nU){e:{try{Kb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ele[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&hd.$.h.call(this)}}Gt(hd,Sn);var ele={2:"touch",3:"pen",4:"mouse"};hd.prototype.h=function(){hd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var fd="closure_listenable_"+(1e6*Math.random()|0),tle=0;function nle(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++tle,this.fa=this.ia=!1}function jg(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function tC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function sU(n){const e={};for(const t in n)e[t]=n[t];return e}const oU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aU(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<oU.length;s++)t=oU[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Hg(n){this.src=n,this.g={},this.h=0}function nC(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=ZV(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(jg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function rC(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Hg.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=rC(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new nle(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var iC="closure_lm_"+(1e6*Math.random()|0),sC={};function uU(n,e,t,r,i){if(r&&r.once)return cU(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)uU(n,e[s],t,r,i);return null}return t=lC(t),n&&n[fd]?n.O(e,t,cd(r)?!!r.capture:!!r,i):lU(n,e,t,!1,r,i)}function lU(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=cd(i)?!!i.capture:!!i,a=aC(n);if(a||(n[iC]=a=new Hg(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function ile(){const e=sle;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Que||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(hU(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function cU(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)cU(n,e[s],t,r,i);return null}return t=lC(t),n&&n[fd]?n.P(e,t,cd(r)?!!r.capture:!!r,i):lU(n,e,t,!0,r,i)}function dU(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)dU(n,e[s],t,r,i);else r=cd(r)?!!r.capture:!!r,t=lC(t),n&&n[fd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=rC(s=n.g[e],t,r,i))&&(jg(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=aC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=rC(e,t,r,i)),(t=-1<n?e[n]:null)&&oC(t))}function oC(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[fd])nC(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(hU(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=aC(e))?(nC(t,n),0==t.h&&(t.src=null,e[iC]=null)):jg(n)}}}function hU(n){return n in sC?sC[n]:sC[n]="on"+n}function sle(n,e){if(n.fa)n=!0;else{e=new hd(e,this);var t=n.listener,r=n.la||n.src;n.ia&&oC(n),n=t.call(r,e)}return n}function aC(n){return(n=n[iC])instanceof Hg?n:null}var uC="__closure_events_fn_"+(1e9*Math.random()>>>0);function lC(n){return"function"==typeof n?n:(n[uC]||(n[uC]=function(e){return n.handleEvent(e)}),n[uC])}function qt(){Us.call(this),this.i=new Hg(this),this.S=this,this.J=null}function un(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Sn(e,n);else if(e instanceof Sn)e.target=e.target||n;else{var i=e;aU(e=new Sn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=zg(o,r,!0,e)&&i}if(i=zg(o=e.g=n,r,!0,e)&&i,i=zg(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=zg(o=e.g=t[s],r,!1,e)&&i}function zg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&nC(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Gt(qt,Us),qt.prototype[fd]=!0,qt.prototype.removeEventListener=function(n,e,t,r){dU(this,n,e,t,r)},qt.prototype.N=function(){if(qt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)jg(t[r]);delete n.g[e],n.h--}}this.J=null},qt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},qt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var cC=ae.JSON.stringify;function ale(){var n=dC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var fU=new class ole{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new lle,n=>n.reset());class lle{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function cle(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function dle(n){ae.setTimeout(()=>{throw n},0)}let pd,gd=!1,dC=new class ule{constructor(){this.h=this.g=null}add(e,t){const r=fU.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},pU=()=>{const n=ae.Promise.resolve(void 0);pd=()=>{n.then(hle)}};var hle=()=>{for(var n;n=ale();){try{n.h.call(n.g)}catch(t){dle(t)}var e=fU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}gd=!1};function Gg(n,e){qt.call(this),this.h=n||1,this.g=e||ae,this.j=Dn(this.qb,this),this.l=Date.now()}function hC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function fC(n,e,t){if("function"==typeof n)t&&(n=Dn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Dn(n.handleEvent,n)}return 2147483647<Number(e)?-1:ae.setTimeout(n,e||0)}function gU(n){n.g=fC(()=>{n.g=null,n.i&&(n.i=!1,gU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Gt(Gg,qt),(L=Gg.prototype).ga=!1,L.T=null,L.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),un(this,"tick"),this.ga&&(hC(this),this.start()))}},L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},L.N=function(){Gg.$.N.call(this),hC(this),delete this.g};class fle extends Us{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gU(this)}N(){super.N(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function md(n){Us.call(this),this.h=n,this.g={}}Gt(md,Us);var mU=[];function yU(n,e,t,r){Array.isArray(t)||(t&&(mU[0]=t.toString()),t=mU);for(var i=0;i<t.length;i++){var s=uU(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function _U(n){tC(n.g,function(e,t){this.g.hasOwnProperty(t)&&oC(e)},n),n.g={}}function qg(){this.g=!0}function Vu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function yle(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return cC(t)}catch{return e}}(n,t)+(r?" "+r:"")})}md.prototype.N=function(){md.$.N.call(this),_U(this)},md.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qg.prototype.Ea=function(){this.g=!1},qg.prototype.info=function(){};var qo={},vU=null;function Wg(){return vU=vU||new qt}function wU(n){Sn.call(this,qo.Ta,n)}function yd(n){const e=Wg();un(e,new wU(e))}function EU(n,e){Sn.call(this,qo.STAT_EVENT,n),this.stat=e}function Bn(n){const e=Wg();un(e,new EU(e,n))}function IU(n,e){Sn.call(this,qo.Ua,n),this.size=e}function _d(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){n()},e)}qo.Ta="serverreachability",Gt(wU,Sn),qo.STAT_EVENT="statevent",Gt(EU,Sn),qo.Ua="timingevent",Gt(IU,Sn);var Kg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pC(){}function TU(){}pC.prototype.h=null;var yC,vd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gC(){Sn.call(this,"d")}function mC(){Sn.call(this,"c")}function Qg(){}function wd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new md(this),this.P=_le,this.V=new Gg(n=Qb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new DU}function DU(){this.i=null,this.g="",this.h=!1}Gt(gC,Sn),Gt(mC,Sn),Gt(Qg,pC),Qg.prototype.g=function(){return new XMLHttpRequest},Qg.prototype.i=function(){return{}},yC=new Qg;var _le=45e3,_C={},Yg={};function vC(n,e,t){n.L=1,n.v=em(us(e)),n.s=t,n.S=!0,SU(n,null)}function SU(n,e){n.G=Date.now(),Ed(n),n.A=us(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),LU(t.i,"t",r),n.C=0,t=n.l.J,n.h=new DU,n.g=aB(n.l,t?e:null,!n.s),0<n.O&&(n.M=new fle(Dn(n.Pa,n,n.g),n.O)),yU(n.U,n.g,"readystatechange",n.nb),e=n.I?sU(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),yd(),function ple(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function AU(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function MU(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=vle(n,t),i==Yg){4==e&&(n.o=4,Bn(14),r=!1),Vu(n.j,n.m,null,"[Incomplete Response]");break}if(i==_C){n.o=4,Bn(15),Vu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Vu(n.j,n.m,i,null),wC(n,i)}AU(n)&&i!=Yg&&i!=_C&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Bn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),SC(e),e.M=!0,Bn(11))):(Vu(n.j,n.m,t,"[Invalid Chunked Response]"),Wo(n),Id(n))}function vle(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Yg:(t=Number(e.substring(t,r)),isNaN(t)?_C:(r+=1)+t>e.length?Yg:(e=e.slice(r,r+t),n.C=r+t,e))}function Ed(n){n.Y=Date.now()+n.P,xU(n,n.P)}function xU(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=_d(Dn(n.lb,n),e)}function Xg(n){n.B&&(ae.clearTimeout(n.B),n.B=null)}function Id(n){0==n.l.H||n.J||rB(n.l,n)}function Wo(n){Xg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,hC(n.V),_U(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function wC(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||EC(t.i,n)))if(!n.K&&EC(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;om(t),im(t)}DC(t),Bn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=_d(Dn(t.ib,t),6e3));if(1>=BU(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Qo(t,11)}else if((n.K||t.g==n)&&om(t),!dd(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const c=l[3];null!=c&&(t.ra=c,t.l.info("VER="+t.ra));const d=l[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(IC(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Qe(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=oB(r,r.J?r.pa:null,r.Y),o.K){$U(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Xg(a),Ed(a)),r.g=o}else tB(r);0<t.j.length&&sm(t)}else"stop"!=l[0]&&"close"!=l[0]||Qo(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Qo(t,7):TC(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}yd()}catch{}}function NU(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ug(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ele(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ug(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function wle(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ug(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(L=wd.prototype).setTimeout=function(n){this.P=n},L.nb=function(n){n=n.target;const e=this.M;e&&3==vi(n)?e.l():this.Pa(n)},L.Pa=function(n){try{if(n==this.g)e:{const c=vi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>c)&&(3!=c||Qb||this.g&&(this.h.h||this.g.ja()||QU(this.g)))){this.J||4!=c||7==e||yd(),Xg(this);var t=this.g.da();this.ca=t;t:if(AU(this)){var r=QU(this.g);n="";var i=r.length,s=4==vi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wo(this),Id(this);var o="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function gle(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,c,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dd(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Bn(12),Wo(this),Id(this);break e}Vu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wC(this,t)}this.S?(MU(this,c,o),Qb&&this.i&&3==c&&(yU(this.U,this.V,"tick",this.mb),this.V.start())):(Vu(this.j,this.m,o,null),wC(this,o)),4==c&&Wo(this),this.i&&!this.J&&(4==c?rB(this.l,this):(this.i=!1,Ed(this)))}else(function Ule(n){const e={};n=(n.g&&2<=vi(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(dd(n[r]))continue;var t=cle(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function rle(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Bn(12)):(this.o=0,Bn(13)),Wo(this),Id(this)}}}catch{}},L.mb=function(){if(this.g){var n=vi(this.g),e=this.g.ja();this.C<e.length&&(Xg(this),MU(this,n,e),this.i&&4!=n&&Ed(this))}},L.cancel=function(){this.J=!0,Wo(this)},L.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function mle(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(yd(),Bn(17)),Wo(this),this.o=2,Id(this)):xU(this,this.Y-n)};var RU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ko(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ko){this.h=n.h,Jg(this,n.j),this.s=n.s,this.g=n.g,Zg(this,n.m),this.l=n.l;var e=n.i,t=new Td;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),kU(this,t),this.o=n.o}else n&&(e=String(n).match(RU))?(this.h=!1,Jg(this,e[1]||"",!0),this.s=bd(e[2]||""),this.g=bd(e[3]||"",!0),Zg(this,e[4]),this.l=bd(e[5]||"",!0),kU(this,e[6]||"",!0),this.o=bd(e[7]||"")):(this.h=!1,this.i=new Td(null,this.h))}function us(n){return new Ko(n)}function Jg(n,e,t){n.j=t?bd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Zg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function kU(n,e,t){e instanceof Td?(n.i=e,function Ale(n,e){e&&!n.j&&(Bs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(OU(this,r),LU(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Cd(e,Dle)),n.i=new Td(e,n.h))}function Qe(n,e,t){n.i.set(e,t)}function em(n){return Qe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function bd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Cd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ble),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ble(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ko.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Cd(e,PU,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Cd(e,PU,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Cd(t,"/"==t.charAt(0)?Tle:Cle,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Cd(t,Sle)),n.join("")};var PU=/[#\/\?@]/g,Cle=/[#\?:]/g,Tle=/[#\?]/g,Dle=/[#\?@]/g,Sle=/#/g;function Td(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Bs(n){n.g||(n.g=new Map,n.h=0,n.i&&function Ile(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function OU(n,e){Bs(n),e=Uu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function FU(n,e){return Bs(n),e=Uu(n,e),n.g.has(e)}function LU(n,e,t){OU(n,e),0<t.length&&(n.i=null,n.g.set(Uu(n,e),Wb(t)),n.h+=t.length)}function Uu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function VU(n){this.l=n||xle,n=ae.PerformanceNavigationTiming?0<(n=ae.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ae.g&&ae.g.Ka&&ae.g.Ka()&&ae.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(L=Td.prototype).add=function(n,e){Bs(this),this.i=null,n=Uu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},L.forEach=function(n,e){Bs(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},L.ta=function(){Bs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},L.Z=function(n){Bs(this);let e=[];if("string"==typeof n)FU(this,n)&&(e=e.concat(this.g.get(Uu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},L.set=function(n,e){return Bs(this),this.i=null,FU(this,n=Uu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},L.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var xle=10;function UU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function BU(n){return n.h?1:n.g?n.g.size:0}function EC(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function IC(n,e){n.g?n.g.add(e):n.h=e}function $U(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function jU(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Wb(n.i)}VU.prototype.cancel=function(){if(this.i=jU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Nle=class{stringify(n){return ae.JSON.stringify(n,void 0)}parse(n){return ae.JSON.parse(n,void 0)}};function Rle(){this.g=new Nle}function kle(n,e,t){const r=t||"";try{NU(n,function(i,s){let o=i;cd(i)&&(o=cC(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function tm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Dd(n){this.l=n.fc||null,this.j=n.ob||!1}function nm(n,e){qt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=bC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gt(Dd,pC),Dd.prototype.g=function(){return new nm(this.l,this.j)},Dd.prototype.i=function(n){return function(){return n}}({}),Gt(nm,qt);var bC=0;function HU(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Sd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ad(n)}function Ad(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(L=nm.prototype).open=function(n,e){if(this.readyState!=bC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ad(this)},L.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sd(this)),this.readyState=bC},L.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ad(this)),this.g&&(this.readyState=3,Ad(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HU(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},L.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Sd(this):Ad(this),3==this.readyState&&HU(this)}},L.Za=function(n){this.g&&(this.response=this.responseText=n,Sd(this))},L.Ya=function(n){this.g&&(this.response=n,Sd(this))},L.ka=function(){this.g&&Sd(this)},L.setRequestHeader=function(n,e){this.v.append(n,e)},L.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},L.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(nm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ole=ae.JSON.parse;function mt(n){qt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zU,this.L=this.M=!1}Gt(mt,qt);var zU="",Fle=/^https?$/i,Lle=["POST","PUT"];function GU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,qU(n),rm(n)}function qU(n){n.F||(n.F=!0,un(n,"complete"),un(n,"error"))}function WU(n){if(n.h&&typeof Gb<"u"&&(!n.C[1]||4!=vi(n)||2!=n.da()))if(n.v&&4==vi(n))fC(n.La,0,n);else if(un(n,"readystatechange"),4==vi(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(RU)[1]||null;!i&&ae.self&&ae.self.location&&(i=ae.self.location.protocol.slice(0,-1)),r=!Fle.test(i?i.toLowerCase():"")}t=r}if(t)un(n,"complete"),un(n,"success");else{n.m=6;try{var s=2<vi(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",qU(n)}}finally{rm(n)}}}function rm(n,e){if(n.g){KU(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||un(n,"ready");try{t.onreadystatechange=r}catch{}}}function KU(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ae.clearTimeout(n.A),n.A=null)}function vi(n){return n.g?n.g.readyState:0}function QU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case zU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function YU(n){let e="";return tC(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function CC(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=YU(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Qe(n,e,t))}function Md(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function XU(n){this.Ga=0,this.j=[],this.l=new qg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Md("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Md("baseRetryDelayMs",5e3,n),this.hb=Md("retryDelaySeedMs",1e4,n),this.eb=Md("forwardChannelMaxRetries",2,n),this.xa=Md("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new VU(n&&n.concurrentRequestLimit),this.Ja=new Rle,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function TC(n){if(JU(n),3==n.H){var e=n.W++,t=us(n.I);if(Qe(t,"SID",n.K),Qe(t,"RID",e),Qe(t,"TYPE","terminate"),xd(n,t),(e=new wd(n,n.l,e)).L=2,e.v=em(us(t)),t=!1,ae.navigator&&ae.navigator.sendBeacon)try{t=ae.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ae.Image&&((new Image).src=e.v,t=!0),t||(e.g=aB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ed(e)}sB(n)}function im(n){n.g&&(SC(n),n.g.cancel(),n.g=null)}function JU(n){im(n),n.u&&(ae.clearTimeout(n.u),n.u=null),om(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ae.clearTimeout(n.m),n.m=null)}function sm(n){if(!UU(n.i)&&!n.m){n.m=!0;var e=n.Na;pd||pU(),gd||(pd(),gd=!0),dC.add(e,n),n.C=0}}function ZU(n,e){var t;t=e?e.m:n.W++;const r=us(n.I);Qe(r,"SID",n.K),Qe(r,"RID",t),Qe(r,"AID",n.V),xd(n,r),n.o&&n.s&&CC(r,n.o,n.s),t=new wd(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=eB(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),IC(n.i,t),vC(t,r,e)}function xd(n,e){n.na&&tC(n.na,function(t,r){Qe(e,r,t)}),n.h&&NU({},function(t,r){Qe(e,r,t)})}function eB(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Dn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{kle(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function tB(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;pd||pU(),gd||(pd(),gd=!0),dC.add(e,n),n.A=0}}function DC(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=_d(Dn(n.Ma,n),iB(n,n.A)),n.A++,0))}function SC(n){null!=n.B&&(ae.clearTimeout(n.B),n.B=null)}function nB(n){n.g=new wd(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=us(n.wa);Qe(e,"RID","rpc"),Qe(e,"SID",n.K),Qe(e,"AID",n.V),Qe(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Qe(e,"TO",n.qa),Qe(e,"TYPE","xmlhttp"),xd(n,e),n.o&&n.s&&CC(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=em(us(e)),t.s=null,t.S=!0,SU(t,n)}function om(n){null!=n.v&&(ae.clearTimeout(n.v),n.v=null)}function rB(n,e){var t=null;if(n.g==e){om(n),SC(n),n.g=null;var r=2}else{if(!EC(n.i,e))return;t=e.F,$U(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;un(r=Wg(),new IU(r,t)),sm(n)}else tB(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Ble(n,e){return!(BU(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=_d(Dn(n.Na,n,e),iB(n,n.C)),n.C++,0)))}(n,e)||2==r&&DC(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Qo(n,5);break;case 4:Qo(n,10);break;case 3:Qo(n,6);break;default:Qo(n,2)}}function iB(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Qo(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Dn(n.pb,n);t||(t=new Ko("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||Jg(t,"https"),em(t)),function Ple(n,e){const t=new qg;if(ae.Image){const r=new Image;r.onload=Bg(tm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Bg(tm,t,r,"TestLoadImage: error",!1,e),r.onabort=Bg(tm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bg(tm,t,r,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Bn(2);n.H=0,n.h&&n.h.za(e),sB(n),JU(n)}function sB(n){if(n.H=0,n.ma=[],n.h){const e=jU(n.i);(0!=e.length||0!=n.j.length)&&(eU(n.ma,e),eU(n.ma,n.j),n.i.i.length=0,Wb(n.j),n.j.length=0),n.h.ya()}}function oB(n,e,t){var r=t instanceof Ko?us(t):new Ko(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Zg(r,r.m);else{var i=ae.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ko(null);r&&Jg(s,r),e&&(s.g=e),i&&Zg(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Qe(r,t,e),Qe(r,"VER",n.ra),xd(n,r),r}function aB(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mt(t&&n.Ha&&!n.va?new Dd({ob:!0}):n.va)).Oa(n.J),e}function uB(){}function am(){if(Lu&&!(10<=Number(Zue)))throw Error("Environmental error: no available transport.")}function hr(n,e){qt.call(this),this.g=new XU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!dd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Bu(this)}function lB(n){gC.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function cB(){mC.call(this),this.status=1}function Bu(n){this.g=n}function Qr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function AC(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Pe(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(L=mt.prototype).Oa=function(n){this.M=n},L.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yC.g(),this.C=function CU(n){return n.h||(n.h=n.i())}(this.u?this.u:yC),this.g.onreadystatechange=Dn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void GU(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=ae.FormData&&n instanceof ae.FormData,!(0<=ZV(Lle,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KU(this),0<this.B&&((this.L=function Vle(n){return Lu&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dn(this.ua,this)):this.A=fC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){GU(this,s)}},L.ua=function(){typeof Gb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,un(this,"timeout"),this.abort(8))},L.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,un(this,"complete"),un(this,"abort"),rm(this))},L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rm(this,!0)),mt.$.N.call(this)},L.La=function(){this.s||(this.G||this.v||this.l?WU(this):this.kb())},L.kb=function(){WU(this)},L.isActive=function(){return!!this.g},L.da=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},L.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ole(e)}},L.Ia=function(){return this.m},L.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(L=XU.prototype).ra=8,L.H=1,L.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new wd(this,this.l,n);let s=this.s;if(this.U&&(s?(s=sU(s),aU(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=eB(this,i,e),Qe(t=us(this.I),"RID",n),Qe(t,"CVER",22),this.F&&Qe(t,"X-HTTP-Session-Id",this.F),xd(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(YU(s)))+"&"+e:this.o&&CC(t,this.o,s)),IC(this.i,i),this.bb&&Qe(t,"TYPE","init"),this.P?(Qe(t,"$req",e),Qe(t,"SID","null"),i.aa=!0,vC(i,t,null)):vC(i,t,e),this.H=2}}else 3==this.H&&(n?ZU(this,n):0==this.j.length||UU(this.i)||ZU(this))},L.Ma=function(){if(this.u=null,nB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=_d(Dn(this.jb,this),n)}},L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bn(10),im(this),nB(this))},L.ib=function(){null!=this.v&&(this.v=null,im(this),DC(this),Bn(19))},L.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Bn(2)):(this.l.info("Failed to ping google.com"),Bn(1))},L.isActive=function(){return!!this.h&&this.h.isActive(this)},(L=uB.prototype).Ba=function(){},L.Aa=function(){},L.za=function(){},L.ya=function(){},L.isActive=function(){return!0},L.Va=function(){},am.prototype.g=function(n,e){return new hr(n,e)},Gt(hr,qt),hr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Bn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=oB(n,null,n.Y),sm(n)},hr.prototype.close=function(){TC(this.g)},hr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=cC(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&sm(e)},hr.prototype.N=function(){this.g.h=null,delete this.j,TC(this.g),delete this.g,hr.$.N.call(this)},Gt(lB,gC),Gt(cB,mC),Gt(Bu,uB),Bu.prototype.Ba=function(){un(this.g,"a")},Bu.prototype.Aa=function(n){un(this.g,new lB(n))},Bu.prototype.za=function(n){un(this.g,new cB)},Bu.prototype.ya=function(){un(this.g,"b")},Gt(Qr,function $le(){this.blockSize=-1}),Qr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)AC(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){AC(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){AC(this,r),i=0;break}}this.h=i,this.i+=e},Qr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var jle={};function MC(n){return-128<=n&&128>n?function Yue(n,e){var t=jle;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Pe([0|e],0>e?-1:0)}):new Pe([0|n],0>n?-1:0)}function wi(n){if(isNaN(n)||!isFinite(n))return $u;if(0>n)return ln(wi(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=xC;return new Pe(e,0)}var xC=4294967296,$u=MC(0),NC=MC(1),hB=MC(16777216);function ls(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function xr(n){return-1==n.h}function ln(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Pe(t,~n.h).add(NC)}function um(n,e){return n.add(ln(e))}function lm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Nd(n,e){this.g=n,this.h=e}function cm(n,e){if(ls(e))throw Error("division by zero");if(ls(n))return new Nd($u,$u);if(xr(n))return e=cm(ln(n),e),new Nd(ln(e.g),ln(e.h));if(xr(e))return e=cm(n,ln(e)),new Nd(ln(e.g),e.h);if(30<n.g.length){if(xr(n)||xr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=NC,r=e;0>=r.X(n);)t=fB(t),r=fB(r);var i=ju(t,1),s=ju(r,1);for(r=ju(r,2),t=ju(t,2);!ls(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=ju(r,1),t=ju(t,1)}return e=um(n,i.R(e)),new Nd(i,e)}for(i=$u;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=wi(t)).R(e);xr(o)||0<o.X(n);)o=(s=wi(t-=r)).R(e);ls(s)&&(s=NC),i=i.add(s),n=um(n,o)}return new Nd(i,n)}function fB(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Pe(t,n.h)}function ju(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Pe(i,n.h)}(L=Pe.prototype).ea=function(){if(xr(this))return-ln(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:xC+r)*e,e*=xC}return n},L.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ls(this))return"0";if(xr(this))return"-"+ln(this).toString(n);for(var e=wi(Math.pow(n,6)),t=this,r="";;){var i=cm(t,e).g,s=((0<(t=um(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ls(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},L.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},L.X=function(n){return xr(n=um(this,n))?-1:ls(n)?0:1},L.abs=function(){return xr(this)?ln(this):this},L.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Pe(t,-2147483648&t[t.length-1]?-1:0)},L.R=function(n){if(ls(this)||ls(n))return $u;if(xr(this))return xr(n)?ln(this).R(ln(n)):ln(ln(this).R(n));if(xr(n))return ln(this.R(ln(n)));if(0>this.X(hB)&&0>n.X(hB))return wi(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,lm(t,2*r+2*i),t[2*r+2*i+1]+=s*u,lm(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,lm(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,lm(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Pe(t,0)},L.gb=function(n){return cm(this,n).h},L.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Pe(t,this.h&n.h)},L.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Pe(t,this.h|n.h)},L.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Pe(t,this.h^n.h)},am.prototype.createWebChannel=am.prototype.g,hr.prototype.send=hr.prototype.u,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,Kg.NO_ERROR=0,Kg.TIMEOUT=8,Kg.HTTP_ERROR=6,bU.COMPLETE="complete",TU.EventType=vd,vd.OPEN="a",vd.CLOSE="b",vd.ERROR="c",vd.MESSAGE="d",qt.prototype.listen=qt.prototype.O,mt.prototype.listenOnce=mt.prototype.P,mt.prototype.getLastError=mt.prototype.Sa,mt.prototype.getLastErrorCode=mt.prototype.Ia,mt.prototype.getStatus=mt.prototype.da,mt.prototype.getResponseJson=mt.prototype.Wa,mt.prototype.getResponseText=mt.prototype.ja,mt.prototype.send=mt.prototype.ha,mt.prototype.setWithCredentials=mt.prototype.Oa,Qr.prototype.digest=Qr.prototype.l,Qr.prototype.reset=Qr.prototype.reset,Qr.prototype.update=Qr.prototype.j,Pe.prototype.add=Pe.prototype.add,Pe.prototype.multiply=Pe.prototype.R,Pe.prototype.modulo=Pe.prototype.gb,Pe.prototype.compare=Pe.prototype.X,Pe.prototype.toNumber=Pe.prototype.ea,Pe.prototype.toString=Pe.prototype.toString,Pe.prototype.getBits=Pe.prototype.D,Pe.fromNumber=wi,Pe.fromString=function dB(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ln(dB(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=wi(Math.pow(e,8)),r=$u,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=wi(Math.pow(e,s)),r=r.R(s).add(wi(o))):r=(r=r.R(t)).add(wi(o))}return r};var gB,mB,yB,EB,IB,bB,CB,TB,DB,SB,AB,MB,xB,NB,RB,kB,PB,OB,FB,LB,VB,UB,BB,$B,jB,HB,GB,qB,e$,t$,n$,r$,i$,Hle=Kr.createWebChannelTransport=function(){return new am},zle=Kr.getStatEventTarget=function(){return Wg()},RC=Kr.ErrorCode=Kg,Gle=Kr.EventType=bU,qle=Kr.Event=qo,pB=Kr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Wle=Kr.FetchXmlHttpFactory=Dd,dm=Kr.WebChannel=TU,Kle=Kr.XhrIo=mt,Qle=Kr.Md5=Qr,Hu=Kr.Integer=Pe;const s$="@firebase/firestore";class Wt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let zu="9.23.0";const $s=new Tu("@firebase/firestore");function kC(){return $s.logLevel}function R(n,...e){if($s.logLevel<=ve.DEBUG){const t=e.map(PC);$s.debug(`Firestore (${zu}): ${n}`,...t)}}function bt(n,...e){if($s.logLevel<=ve.ERROR){const t=e.map(PC);$s.error(`Firestore (${zu}): ${n}`,...t)}}function Yr(n,...e){if($s.logLevel<=ve.WARN){const t=e.map(PC);$s.warn(`Firestore (${zu}): ${n}`,...t)}}function PC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function j(n="Unexpected state"){const e=`FIRESTORE (${zu}) INTERNAL ASSERTION FAILED: `+n;throw bt(e),new Error(e)}function W(n,e){n||j()}function F(n,e){return n}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends Ar{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class o${constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class Xle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Jle{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new Vt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(W("string"==typeof r.accessToken),new o$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return W(null===e||"string"==typeof e),new Wt(e)}}class Zle{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ece{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Zle(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tce{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,R("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(W("string"==typeof t.token),this.T=t.token,new a$(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function nce(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class u${static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=nce(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function se(n,e){return n<e?-1:n>e?1:0}function Gu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class st{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new x(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new x(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new x(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new st(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class K{constructor(e){this.timestamp=e}static fromTimestamp(e){return new K(e)}static min(){return new K(new st(0,0))}static max(){return new K(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rd{constructor(e,t,r){void 0===t?t=0:t>e.length&&j(),void 0===r?r=e.length-t:r>e.length-t&&j(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Rd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class be extends Rd{construct(e,t,r){return new be(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new x(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new be(t)}static emptyPath(){return new be([])}}const rce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Rd{construct(e,t,r){return new Ct(e,t,r)}static isValidIdentifier(e){return rce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new x(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new x(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new x(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new x(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(t)}static emptyPath(){return new Ct([])}}class O{constructor(e){this.path=e}static fromPath(e){return new O(be.fromString(e))}static fromName(e){return new O(be.fromString(e).popFirst(5))}static empty(){return new O(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===be.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new be(e.slice()))}}function d$(n){return new fr(n.readTime,n.key,-1)}class fr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new fr(K.min(),O.empty(),-1)}static max(){return new fr(K.max(),O.empty(),-1)}}function FC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=O.comparator(n.documentKey,e.documentKey),0!==t?t:se(n.largestBatchId,e.largestBatchId))}const h$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function js(n){return(gB=gB||m(function*(e){if(e.code!==C.FAILED_PRECONDITION||e.message!==h$)throw e;R("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;t(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Hs(n){return"IndexedDbTransactionError"===n.name}let pr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Od(n){return null==n}function Fd(n){return 0===n&&1/n==-1/0}function E$(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function I$(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ge{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new Ge(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mm(this.root,e,this.comparator,!1)}getReverseIterator(){return new mm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mm(this.root,e,this.comparator,!0)}}class mm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??cn.RED,this.left=i??cn.EMPTY,this.right=s??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new cn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return cn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();const e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1,cn.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(n,e,t,r,i){return this}insert(n,e,t){return new cn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new b$(this.data.getIterator())}getIteratorFrom(e){return new b$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ye(this.comparator);return t.data=e,t}}class b${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new Ye(Ct.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class C$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new C$("Invalid base64 string: "+i):i}}(e);return new Ut(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const Mce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(n){if(W(!!n),"string"==typeof n){let e=0;const t=Mce.exec(n);if(W(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function cs(n){return"string"==typeof n?Ut.fromBase64String(n):Ut.fromUint8Array(n)}function ym(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _m(n){const e=n.mapValue.fields.__previous_value__;return ym(e)?_m(e):e}function Ld(n){const e=Gs(n.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}class xce{constructor(e,t,r,i,s,o,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Jo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Jo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jo&&e.projectId===this.projectId&&e.database===this.database}}const qs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ws(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ym(n)?4:A$(n)?9007199254740991:10:j()}function Ii(n,e){if(n===e)return!0;const t=Ws(n);if(t!==Ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ld(n).isEqual(Ld(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Gs(r.timestampValue),o=Gs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,cs(n.bytesValue).isEqual(cs(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return yt(r.geoPointValue.latitude)===yt(i.geoPointValue.latitude)&&yt(r.geoPointValue.longitude)===yt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return yt(r.integerValue)===yt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=yt(r.doubleValue),o=yt(i.doubleValue);return s===o?Fd(s)===Fd(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Gu(n.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(E$(s)!==E$(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ii(s[a],o[a])))return!1;return!0}(n,e);default:return j()}var i}function Vd(n,e){return void 0!==(n.values||[]).find(t=>Ii(t,e))}function Ks(n,e){if(n===e)return 0;const t=Ws(n),r=Ws(e);if(t!==r)return se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return se(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=yt(i.integerValue||i.doubleValue),a=yt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return T$(n.timestampValue,e.timestampValue);case 4:return T$(Ld(n),Ld(e));case 5:return se(n.stringValue,e.stringValue);case 6:return function(i,s){const o=cs(i),a=cs(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=se(o[u],a[u]);if(0!==l)return l}return se(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=se(yt(i.latitude),yt(s.latitude));return 0!==o?o:se(yt(i.longitude),yt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=Ks(o[u],a[u]);if(l)return l}return se(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===qs.mapValue&&s===qs.mapValue)return 0;if(i===qs.mapValue)return 1;if(s===qs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=se(a[c],l[c]);if(0!==d)return d;const h=Ks(o[a[c]],u[l[c]]);if(0!==h)return h}return se(a.length,l.length)}(n.mapValue,e.mapValue);default:throw j()}}function T$(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return se(n,e);const t=Gs(n),r=Gs(e),i=se(t.seconds,r.seconds);return 0!==i?i:se(t.nanos,r.nanos)}function Wu(n){return UC(n)}function UC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Gs(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?cs(n.bytesValue).toBase64():"referenceValue"in n?O.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=UC(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${UC(r.fields[a])}`;return s+"}"}(n.mapValue):j();var e}function Zo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function BC(n){return!!n&&"integerValue"in n}function Ud(n){return!!n&&"arrayValue"in n}function D$(n){return!!n&&"nullValue"in n}function S$(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Em(n){return!!n&&"mapValue"in n}function Bd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function A$(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Em(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bd(t)}setAll(e){let t=Ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Bd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Em(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Em(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){zs(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dn(Bd(this.value))}}function N$(n){const e=[];return zs(n.fields,(t,r)=>{const i=new Ct([t]);if(Em(r)){const s=N$(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Zn(e)}class Xe{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Xe(e,0,K.min(),K.min(),K.min(),dn.empty(),0)}static newFoundDocument(e,t,r,i){return new Xe(e,1,t,K.min(),r,i,0)}static newNoDocument(e,t){return new Xe(e,2,t,K.min(),K.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Xe(e,3,t,K.min(),K.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(K.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qs{constructor(e,t){this.position=e,this.inclusive=t}}function R$(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?O.comparator(O.fromName(o.referenceValue),t.key):Ks(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function k$(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ii(n.position[t],e.position[t]))return!1;return!0}class Ku{constructor(e,t="asc"){this.field=e,this.dir=t}}function kce(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class P${}class _e extends P${constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Pce(e,t,r):"array-contains"===t?new Lce(e,r):"in"===t?new B$(e,r):"not-in"===t?new Vce(e,r):"array-contains-any"===t?new Uce(e,r):new _e(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Oce(e,r):new Fce(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ks(t,this.value)):null!==t&&Ws(this.value)===Ws(t)&&this.matchesComparison(Ks(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return j()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Oe extends P${constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Oe(e,t)}matches(e){return Qu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Qu(n){return"and"===n.op}function jC(n){return function O$(n){for(const e of n.filters)if(e instanceof Oe)return!1;return!0}(n)&&Qu(n)}function HC(n){if(n instanceof _e)return n.field.canonicalString()+n.op.toString()+Wu(n.value);if(jC(n))return n.filters.map(e=>HC(e)).join(",");{const e=n.filters.map(t=>HC(t)).join(",");return`${n.op}(${e})`}}function F$(n,e){return n instanceof _e?(t=n,(r=e)instanceof _e&&t.op===r.op&&t.field.isEqual(r.field)&&Ii(t.value,r.value)):n instanceof Oe?function(t,r){return r instanceof Oe&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&F$(s,r.filters[o]),!0)}(n,e):void j();var t,r}function V$(n){return n instanceof _e?`${(e=n).field.canonicalString()} ${e.op} ${Wu(e.value)}`:n instanceof Oe?function(e){return e.op.toString()+" {"+e.getFilters().map(V$).join(" ,")+"}"}(n):"Filter";var e}class Pce extends _e{constructor(e,t,r){super(e,t,r),this.key=O.fromName(r.referenceValue)}matches(e){const t=O.comparator(e.key,this.key);return this.matchesComparison(t)}}class Oce extends _e{constructor(e,t){super(e,"in",t),this.keys=U$(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Fce extends _e{constructor(e,t){super(e,"not-in",t),this.keys=U$(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function U$(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>O.fromName(r.referenceValue))}class Lce extends _e{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ud(t)&&Vd(t.arrayValue,this.value)}}class B$ extends _e{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vd(this.value.arrayValue,t)}}class Vce extends _e{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Vd(this.value.arrayValue,t)}}class Uce extends _e{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ud(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vd(this.value.arrayValue,r))}}class Bce{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function zC(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Bce(n,e,t,r,i,s,o)}function ea(n){const e=F(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>HC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Od(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wu(r)).join(",")),e.dt=t}return e.dt}function $d(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kce(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!F$(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!k$(n.startAt,e.startAt)&&k$(n.endAt,e.endAt)}function Im(n){return O.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ds{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Yu(n){return new ds(n)}function z$(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function GC(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Cm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function qC(n){return null!==n.collectionGroup}function ta(n){const e=F(n);if(null===e.wt){e.wt=[];const t=Cm(e),r=GC(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Ku(t)),e.wt.push(new Ku(Ct.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ku(Ct.keyField(),s))}}}return e.wt}function $n(n){const e=F(n);if(!e._t)if("F"===e.limitType)e._t=zC(e.path,e.collectionGroup,ta(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of ta(e))t.push(new Ku(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Qs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Qs(e.startAt.position,e.startAt.inclusive):null;e._t=zC(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function WC(n,e){e.getFirstInequalityField(),Cm(n);const t=n.filters.concat([e]);return new ds(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Tm(n,e,t){return new ds(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jd(n,e){return $d($n(n),$n(e))&&n.limitType===e.limitType}function G$(n){return`${ea($n(n))}|lt:${n.limitType}`}function KC(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>V$(r)).join(", ")}]`),Od(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wu(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wu(r)).join(",")),`Target(${t})`}($n(n))}; limitType=${n.limitType})`}function Hd(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):O.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of ta(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=R$(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,ta(t),r)||t.endAt&&!function(i,s,o){const a=R$(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,ta(t),r)));var t,r}function W$(n){return(e,t)=>{let r=!1;for(const i of ta(n)){const s=$ce(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function $ce(n,e,t){const r=n.field.isKeyField()?O.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ks(a,u):j()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}class hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return I$(this.inner)}size(){return this.innerSize}}const jce=new Ge(O.comparator);function er(){return jce}const K$=new Ge(O.comparator);function zd(...n){let e=K$;for(const t of n)e=e.insert(t.key,t);return e}function Q$(n){let e=K$;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function bi(){return Gd()}function Y$(){return Gd()}function Gd(){return new hs(n=>n.toString(),(n,e)=>n.isEqual(e))}const Hce=new Ge(O.comparator),zce=new Ye(O.comparator);function he(...n){let e=zce;for(const t of n)e=e.add(t);return e}const Gce=new Ye(se);function X$(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fd(e)?"-0":e}}function J$(n){return{integerValue:""+n}}function Z$(n,e){return function p$(n){return"number"==typeof n&&Number.isInteger(n)&&!Fd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?J$(e):X$(n,e)}class Dm{constructor(){this._=void 0}}function qce(n,e,t){return n instanceof Xu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&ym(i)&&(i=_m(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof na?tj(n,e):n instanceof ra?nj(n,e):function(r,i){const s=ej(r,i),o=rj(s)+rj(r.gt);return BC(s)&&BC(r.gt)?J$(o):X$(r.serializer,o)}(n,e)}function Wce(n,e,t){return n instanceof na?tj(n,e):n instanceof ra?nj(n,e):t}function ej(n,e){return n instanceof Ju?BC(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Xu extends Dm{}class na extends Dm{constructor(e){super(),this.elements=e}}function tj(n,e){const t=ij(e);for(const r of n.elements)t.some(i=>Ii(i,r))||t.push(r);return{arrayValue:{values:t}}}class ra extends Dm{constructor(e){super(),this.elements=e}}function nj(n,e){let t=ij(e);for(const r of n.elements)t=t.filter(i=>!Ii(i,r));return{arrayValue:{values:t}}}class Ju extends Dm{constructor(e,t){super(),this.serializer=e,this.gt=t}}function rj(n){return yt(n.integerValue||n.doubleValue)}function ij(n){return Ud(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Qce{constructor(e,t){this.version=e,this.transformResults=t}}class et{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new et}static exists(e){return new et(void 0,e)}static updateTime(e){return new et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Am{}function sj(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new el(n.key,et.none()):new Zu(n.key,n.data,et.none());{const t=n.data,r=dn.empty();let i=new Ye(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new fs(n.key,r,new Zn(i.toArray()),et.none())}}function Yce(n,e,t){n instanceof Zu?function(r,i,s){const o=r.value.clone(),a=uj(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof fs?function(r,i,s){if(!Sm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=uj(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(aj(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Wd(n,e,t,r){return n instanceof Zu?function(i,s,o,a){if(!Sm(i.precondition,s))return o;const u=i.value.clone(),l=lj(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof fs?function(i,s,o,a){if(!Sm(i.precondition,s))return o;const u=lj(i.fieldTransforms,a,s),l=s.data;return l.setAll(aj(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(n,e,t,r):(o=t,Sm(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Xce(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=ej(r.transform,i||null);null!=s&&(null===t&&(t=dn.empty()),t.set(r.field,s))}return t||null}function oj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Gu(t,r,(i,s)=>function Kce(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof na&&r instanceof na||t instanceof ra&&r instanceof ra?Gu(t.elements,r.elements,Ii):t instanceof Ju&&r instanceof Ju?Ii(t.gt,r.gt):t instanceof Xu&&r instanceof Xu);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Zu extends Am{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fs extends Am{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function aj(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function uj(n,e,t){const r=new Map;W(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Wce(o,a,t[i]))}return r}function lj(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,qce(s,o,e))}return r}class el extends Am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YC extends Am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Yce(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Wd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Y$();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=sj(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(K.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&Gu(this.mutations,e.mutations,(t,r)=>oj(t,r))&&Gu(this.baseMutations,e.baseMutations,(t,r)=>oj(t,r))}}class JC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){W(e.mutations.length===r.length);let i=Hce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new JC(e,t,r,i)}}class ZC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zce{constructor(e,t){this.count=e,this.unchangedNames=t}}var Rt,Ce;function dj(n){if(void 0===n)return bt("GRPC error has no .code"),C.UNKNOWN;switch(n){case Rt.OK:return C.OK;case Rt.CANCELLED:return C.CANCELLED;case Rt.UNKNOWN:return C.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return C.INTERNAL;case Rt.UNAVAILABLE:return C.UNAVAILABLE;case Rt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Rt.NOT_FOUND:return C.NOT_FOUND;case Rt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Rt.ABORTED:return C.ABORTED;case Rt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Rt.DATA_LOSS:return C.DATA_LOSS;default:return j()}}(Ce=Rt||(Rt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";class eT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Mm}static getOrCreateInstance(){return null===Mm&&(Mm=new eT),Mm}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Mm=null;const ede=new Hu([4294967295,4294967295],0);function fj(n){const e=function hj(){return new TextEncoder}().encode(n),t=new Qle;return t.update(e),new Uint8Array(t.digest())}function pj(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Hu([t,r],0),new Hu([i,s],0)]}class tT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Kd(`Invalid padding: ${t}`);if(r<0)throw new Kd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Kd(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Kd(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Hu.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Hu.fromNumber(r)));return 1===i.compare(ede)&&(i=new Hu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=fj(e),[r,i]=pj(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new tT(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=fj(e),[r,i]=pj(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Kd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Yd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Qd(K.min(),i,new Ge(se),er(),he())}}class Yd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Yd(r,t,he(),he(),he())}}class xm{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class gj{constructor(e,t){this.targetId=e,this.Vt=t}}class mj{constructor(e,t,r=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class yj{constructor(){this.St=0,this.Dt=vj(),this.Ct=Ut.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=he(),t=he(),r=he();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:j()}}),new Yd(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=vj()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class tde{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=er(),this.zt=_j(),this.Wt=new Ge(se)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:j()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Im(o))if(0===i){const a=new O(o.path);this.Yt(r,a,Xe.newNoDocument(a,K.min()))}else W(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=eT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,c,d){var h,f,p,g,y,_;const b={localCacheCount:c,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(b.bloomFilter={applied:0===l,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=v?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(_=null===(y=v?.bits)||void 0===y?void 0:y.padding)&&void 0!==_?_:0}),b}(u,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,l;try{u=cs(s).toUint8Array()}catch(c){if(c instanceof C$)return Yr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{l=new tT(u,o,a)}catch(c){return Yr(c instanceof Kd?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return 0===l.It?1:i!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Im(a.target)){const u=new O(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Xe.newNoDocument(u,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=he();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.se(u);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Qd(e,t,this.Wt,this.jt,r);return this.jt=er(),this.zt=_j(),this.Wt=new Ge(se),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new yj,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ye(se),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||R("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new yj),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function _j(){return new Ge(O.comparator)}function vj(){return new Ge(O.comparator)}const nde={asc:"ASCENDING",desc:"DESCENDING"},rde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ide={and:"AND",or:"OR"};class sde{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function nT(n,e){return n.useProto3Json||Od(e)?e:{value:e}}function tl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wj(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ode(n,e){return tl(n,e.toTimestamp())}function Tt(n){return W(!!n),K.fromTimestamp(function(e){const t=Gs(e);return new st(t.seconds,t.nanos)}(n))}function rT(n,e){return(t=n,new be(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ej(n){const e=be.fromString(n);return W(xj(e)),e}function Xd(n,e){return rT(n.databaseId,e.path)}function Ci(n,e){const t=Ej(e);if(t.get(1)!==n.databaseId.projectId)throw new x(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new x(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new O(bj(t))}function iT(n,e){return rT(n.databaseId,e)}function Jd(n){return new be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bj(n){return W(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Cj(n,e,t){return{name:Xd(n,e),fields:t.value.mapValue.fields}}function Dj(n,e){return{documents:[iT(n,e.path)]}}function oT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=iT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=iT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return Mj(Oe.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:Ys((c=l).field),direction:dde(c.dir)};var c})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=nT(n,e.limit);var a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function Sj(n){let e=function Ij(n){const e=Ej(n);return 4===e.length?be.emptyPath():bj(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){W(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=function(c){const d=Aj(c);return d instanceof Oe&&jC(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new Ku(nl((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,Od(d)?null:d}(t.limit));let u=null;var c;t.startAt&&(u=new Qs((c=t.startAt).values||[],!!c.before));let l=null;return t.endAt&&(l=function(c){return new Qs(c.values||[],!c.before)}(t.endAt)),function H$(n,e,t,r,i,s,o,a){return new ds(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function Aj(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nl(e.unaryFilter.field);return _e.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=nl(e.unaryFilter.field);return _e.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=nl(e.unaryFilter.field);return _e.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=nl(e.unaryFilter.field);return _e.create(s,"!=",{nullValue:"NULL_VALUE"});default:return j()}}(n):void 0!==n.fieldFilter?_e.create(nl((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Oe.create(e.compositeFilter.filters.map(t=>Aj(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return j()}}(e.compositeFilter.op))}(n):j();var e}function dde(n){return nde[n]}function hde(n){return rde[n]}function fde(n){return ide[n]}function Ys(n){return{fieldPath:n.canonicalString()}}function nl(n){return Ct.fromServerFormat(n.fieldPath)}function Mj(n){return n instanceof _e?function(e){if("=="===e.op){if(S$(e.value))return{unaryFilter:{field:Ys(e.field),op:"IS_NAN"}};if(D$(e.value))return{unaryFilter:{field:Ys(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(S$(e.value))return{unaryFilter:{field:Ys(e.field),op:"IS_NOT_NAN"}};if(D$(e.value))return{unaryFilter:{field:Ys(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(e.field),op:hde(e.op),value:e.value}}}(n):n instanceof Oe?function(e){const t=e.getFilters().map(r=>Mj(r));return 1===t.length?t[0]:{compositeFilter:{op:fde(e.op),filters:t}}}(n):j()}function pde(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ps{constructor(e,t,r,i,s=K.min(),o=K.min(),a=Ut.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Nj{constructor(e){this.fe=e}}function aT(n){const e=Sj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Tm(e,e.limit,"L"):e}class aa{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(yt(e.integerValue));else if("doubleValue"in e){const r=yt(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Fd(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(cs(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?A$(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):j()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),O.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}aa.Ve=new aa;class bde{constructor(){this.rn=new fT}addToCollectionParentIndex(e,t){return this.rn.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(fr.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class fT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ye(be.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(be.comparator)).toArray()}}new Uint8Array(0);class Mn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(41943040,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class la{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new la(0)}static Mn(){return new la(-1)}}class Mde{constructor(){this.changes=new hs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rde{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rH{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Wd(r.mutation,i,Zn.empty(),st.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,t,r=he()){const i=bi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=zd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=bi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,he()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=er();const o=Gd(),a=Gd();return t.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(void 0===c||c.mutation instanceof fs)?s=s.insert(l.key,l):void 0!==c?(o.set(l.key,c.mutation.getFieldMask()),Wd(c.mutation,l,c.mutation.getFieldMask(),st.now())):o.set(l.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),t.forEach((l,c)=>{var d;return a.set(l,new Rde(c,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Gd();let i=new Ge((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=t.get(u);if(null===l)return;let c=r.get(u)||Zn.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||he()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=Y$();c.forEach(h=>{if(!s.has(h)){const f=sj(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return O.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):qC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(bi());let a=-1,u=s;return o.next(l=>w.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?w.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,he())).next(c=>({batchId:a,changes:Q$(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new O(t)).next(r=>{let i=zd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=zd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(l=t,c=a.child(i),new ds(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,u)=>{const l=u.getKey();null===s.get(l)&&(s=s.insert(l,Xe.newInvalidDocument(l)))});let o=zd();return s.forEach((a,u)=>{const l=i.get(a);void 0!==l&&Wd(l.mutation,u,Zn.empty(),st.now()),Hd(t,u)&&(o=o.insert(a,u))}),o})}}class kde{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return w.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Tt(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:aT(r.bundledQuery),readTime:Tt(r.readTime)}),w.resolve();var r}}class Pde{constructor(){this.overlays=new Ge(O.comparator),this.ls=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bi();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=bi(),s=t.length+1,o=new O(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ge((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=bi(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=bi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return w.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ZC(t,r));let s=this.ls.get(t);void 0===s&&(s=he(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class pT{constructor(){this.fs=new Ye(Qt.ds),this.ws=new Ye(Qt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Qt(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Qt(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new O(new be([])),r=new Qt(t,e),i=new Qt(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new O(new be([])),r=new Qt(t,e),i=new Qt(t,e+1);let s=he();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Qt(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Qt{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return O.comparator(e.key,t.key)||se(e.As,t.As)}static _s(e,t){return se(e.As,t.As)||O.comparator(e.key,t.key)}}class Ode{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ye(Qt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new XC(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Qt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qt(t,0),i=new Qt(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ye(se);return t.forEach(i=>{const s=new Qt(i,0),o=new Qt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;O.isDocumentKey(s)||(s=s.child(""));const o=new Qt(new O(s),0);let a=new Ye(se);return this.Rs.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){W(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(t.mutations,i=>{const s=new Qt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Qt(t,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Fde{constructor(e){this.Ds=e,this.docs=new Ge(O.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(t))}getEntries(e,t){let r=er();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xe.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=er();const o=t.path,a=new O(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||FC(d$(c),r)<=0||(i.has(c.key)||Hd(t,c))&&(s=s.insert(c.key,c.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,t,r,i){j()}Cs(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Lde(this)}getSize(e){return w.resolve(this.size)}}class Lde extends Mde{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Vde{constructor(e){this.persistence=e,this.xs=new hs(t=>ea(t),$d),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.Ns=0,this.ks=new pT,this.targetCount=0,this.Ms=la.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),w.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new la(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Fn(t),w.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.ks.containsKey(t))}}class gT{constructor(e,t){this.$s={},this.overlays={},this.Os=new pr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Vde(this),this.indexManager=new bde,this.remoteDocumentCache=new Fde(r=>this.referenceDelegate.Ls(r)),this.serializer=new Nj(t),this.qs=new kde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Pde,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Ode(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){R("MemoryPersistence","Starting transaction:",e);const i=new Ude(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Ude extends oce{constructor(e){super(),this.currentSequenceNumber=e}}class Um{constructor(e){this.persistence=e,this.Qs=new pT,this.js=null}static zs(e){return new Um(e)}get Ws(){if(this.js)return this.js;throw j()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),w.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=O.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,K.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return w.or([()=>w.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class vT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=he(),i=he();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vT(e,t.fromCache,r,i)}}class sH{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(z$(t))return w.resolve(null);let r=$n(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Tm(t,null,"F"),r=$n(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.ji(t,a);return this.zi(t,l,o,u.readTime)?this.Ki(e,Tm(t,null,"F")):this.Wi(e,l,t,u)}))})))}Gi(e,t,r,i){return z$(t)||i.isEqual(K.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(kC()<=ve.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),KC(t)),this.Wi(e,o,t,function c$(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=K.fromTimestamp(1e9===r?new st(t+1,0):new st(t,r));return new fr(i,O.empty(),e)}(i,-1)))})}ji(e,t){let r=new Ye(W$(e));return t.forEach((i,s)=>{Hd(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return kC()<=ve.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",KC(t)),this.Ui.getDocumentsMatchingQuery(e,t,fr.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class $de{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Ge(se),this.Yi=new hs(s=>ea(s),$d),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rH(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function aH(n,e){return(mB=mB||m(function*(t,r){const i=F(t);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(a=>(o=a,i.tr(r),i.mutationQueue.getAllMutationBatches(s))).next(a=>{const u=[],l=[];let c=he();for(const d of o){u.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of a){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return i.localDocuments.getDocuments(s,c).next(d=>({er:d,removedBatchIds:u,addedBatchIds:l}))})})})).apply(this,arguments)}function uH(n){const e=F(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function zde(n,e){const t=F(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ol(n,e,t){return(yB=yB||m(function*(r,i,s){const o=F(r),a=o.Ji.get(i),u=s?"readwrite":"readwrite-primary";try{s||(yield o.persistence.runTransaction("Release target",u,l=>o.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!Hs(l))throw l;R("LocalStore",`Failed to update sequence numbers for target ${i}: ${l}`)}o.Ji=o.Ji.remove(i),o.Yi.delete(a.target)})).apply(this,arguments)}function jm(n,e,t){const r=F(n);let i=K.min(),s=he();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=F(a),d=c.Yi.get(l);return void 0!==d?w.resolve(c.Ji.get(d)):c.Bs.getTargetData(u,l)}(r,o,$n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:K.min(),t?s:he())).next(a=>(function hH(n,e,t){let r=n.Xi.get(e)||K.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function q$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class IT{constructor(){this.activeTargetIds=function QC(){return Gce}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gH{constructor(){this.Hr=new IT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new IT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wde{Yr(e){}shutdown(){}}class mH{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gm=null;function CT(){return null===Gm?Gm=268435456+Math.round(2147483648*Math.random()):Gm++,"0x"+Gm.toString(16)}const Kde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qde{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const xn="WebChannelConnection";class Yde extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=CT(),a=this.To(e,t);R("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(l=>(R("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw Yr("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+zu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${Kde[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=CT();return new Promise((o,a)=>{const u=new Kle;u.setWithCredentials(!0),u.listenOnce(Gle.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case RC.NO_ERROR:const c=u.getResponseJson();R(xn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case RC.TIMEOUT:R(xn,`RPC '${e}' ${s} timed out`),a(new x(C.DEADLINE_EXCEEDED,"Request time out"));break;case RC.HTTP_ERROR:const d=u.getStatus();if(R(xn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(y)>=0?y:C.UNKNOWN}(f.status);a(new x(p,f.message))}else a(new x(C.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new x(C.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{R(xn,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);R(xn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",l,r,15)})}Ro(e,t,r){const i=CT(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Hle(),a=zle(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Wle({})),this.Eo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const c=s.join("");R(xn,`Creating RPC '${e}' stream ${i}: ${c}`,u);const d=o.createWebChannel(c,u);let h=!1,f=!1;const p=new Qde({ro:y=>{f?R(xn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(R(xn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),R(xn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),g=(y,_,b)=>{y.listen(_,v=>{try{b(v)}catch(D){setTimeout(()=>{throw D},0)}})};return g(d,dm.EventType.OPEN,()=>{f||R(xn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,dm.EventType.CLOSE,()=>{f||(f=!0,R(xn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,dm.EventType.ERROR,y=>{f||(f=!0,Yr(xn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new x(C.UNAVAILABLE,"The operation could not be completed")))}),g(d,dm.EventType.MESSAGE,y=>{var _;if(!f){const b=y.data[0];W(!!b);const D=b.error||(null===(_=b[0])||void 0===_?void 0:_.error);if(D){R(xn,`RPC '${e}' stream ${i} received error:`,D);const U=D.status;let q=function(ot){const at=Rt[ot];if(void 0!==at)return dj(at)}(U),Ee=D.message;void 0===q&&(q=C.INTERNAL,Ee="Unknown error status: "+U+" with message "+D.message),f=!0,p.wo(new x(q,Ee)),d.close()}else R(xn,`RPC '${e}' stream ${i} received:`,b),p._o(b)}}),g(a,qle.STAT_EVENT,y=>{y.stat===pB.PROXY?R(xn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===pB.NOPROXY&&R(xn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function qm(){return typeof document<"u"?document:null}function uh(n){return new sde(n,!0)}class TT{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&R("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class _H{constructor(e,t,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new TT(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===C.RESOURCE_EXHAUSTED?(bt(t.toString()),bt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===C.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new x(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xde extends _H{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function ude(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:j(),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(W(void 0===l||"string"==typeof l),Ut.fromBase64String(l||"")):(W(void 0===l||l instanceof Uint8Array),Ut.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?C.UNKNOWN:dj(u.code);return new x(l,u.message||"")}(o);t=new mj(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ci(n,r.document.name),s=Tt(r.document.updateTime),o=r.document.createTime?Tt(r.document.createTime):K.min(),a=new dn({mapValue:{fields:r.document.fields}}),u=Xe.newFoundDocument(i,s,o,a);t=new xm(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Ci(n,r.document),s=r.readTime?Tt(r.readTime):K.min(),o=Xe.newNoDocument(i,s);t=new xm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ci(n,r.document);t=new xm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return j();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Zce(i,s);t=new gj(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return K.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?K.min():s.readTime?Tt(s.readTime):K.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Jd(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=Im(a)?{documents:Dj(i,a)}:{query:oT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=wj(i,s.resumeToken);const u=nT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(K.min())>0){o.readTime=tl(i,s.snapshotVersion.toTimestamp());const u=nT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function cde(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return j()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Jd(this.serializer),t.removeTarget=e,this.Wo(t)}}class Jde extends _H{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(W(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function lde(n,e){return n&&n.length>0?(W(void 0!==e),n.map(t=>function(r,i){let s=Tt(r.updateTime?r.updateTime:i);return s.isEqual(K.min())&&(s=Tt(i)),new Qce(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Tt(e.commitTime);return this.listener.cu(r,t)}return W(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Jd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Zd(n,e){let t;if(e instanceof Zu)t={update:Cj(n,e.key,e.value)};else if(e instanceof el)t={delete:Xd(n,e.key)};else if(e instanceof fs)t={update:Cj(n,e.key,e.data),updateMask:pde(e.fieldMask)};else{if(!(e instanceof YC))return j();t={verify:Xd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Xu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof na)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ra)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ju)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw j()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:ode(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:j()),t;var i}(this.serializer,r))};this.Wo(t)}}class Zde extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new x(C.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new x(C.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new x(C.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class the{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(bt(t),this.mu=!1):R("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class nhe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var u;eo(o)&&(R("RemoteStore","Restarting streams for network reachability change."),yield function(l){return(u=u||m(function*(c){const d=F(c);d.vu.add(4),yield al(d),d.bu.set("Unknown"),d.vu.delete(4),yield lh(d)})).apply(this,arguments)}(o))}))}),this.bu=new the(r,i)}}function lh(n){return(EB=EB||m(function*(e){if(eo(e))for(const t of e.Ru)yield t(!0)})).apply(this,arguments)}function al(n){return(IB=IB||m(function*(e){for(const t of e.Ru)yield t(!1)})).apply(this,arguments)}function Wm(n,e){const t=F(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),AT(t)?ST(t):ll(t).Ko()&&DT(t,e))}function ch(n,e){const t=F(n),r=ll(t);t.Au.delete(e),r.Ko()&&vH(t,e),0===t.Au.size&&(r.Ko()?r.jo():eo(t)&&t.bu.set("Unknown"))}function DT(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(K.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ll(n).su(e)}function vH(n,e){n.Vu.qt(e),ll(n).iu(e)}function ST(n){n.Vu=new tde({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),ll(n).start(),n.bu.gu()}function AT(n){return eo(n)&&!ll(n).Uo()&&n.Au.size>0}function eo(n){return 0===F(n).vu.size}function wH(n){n.Vu=void 0}function rhe(n){return(bB=bB||m(function*(e){e.Au.forEach((t,r)=>{DT(e,t)})})).apply(this,arguments)}function ihe(n,e){return(CB=CB||m(function*(t,r){wH(t),AT(t)?(t.bu.Iu(r),ST(t)):t.bu.set("Unknown")})).apply(this,arguments)}function she(n,e,t){return(TB=TB||m(function*(r,i,s){if(r.bu.set("Online"),i instanceof mj&&2===i.state&&i.cause)try{var o;yield function(a,u){return(o=o||m(function*(l,c){const d=c.cause;for(const h of c.targetIds)l.Au.has(h)&&(yield l.remoteSyncer.rejectListen(h,d),l.Au.delete(h),l.Vu.removeTarget(h))})).apply(this,arguments)}(r,i)}catch(a){R("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),a),yield Km(r,a)}else if(i instanceof xm?r.Vu.Ht(i):i instanceof gj?r.Vu.ne(i):r.Vu.Xt(i),!s.isEqual(K.min()))try{const a=yield uH(r.localStore);s.compareTo(a)>=0&&(yield function(u,l){const c=u.Vu.ce(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const f=u.Au.get(h);f&&u.Au.set(h,f.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const f=u.Au.get(d);if(!f)return;u.Au.set(d,f.withResumeToken(Ut.EMPTY_BYTE_STRING,f.snapshotVersion)),vH(u,d);const p=new ps(f.target,d,h,f.sequenceNumber);DT(u,p)}),u.remoteSyncer.applyRemoteEvent(c)}(r,s))}catch(a){R("RemoteStore","Failed to raise snapshot:",a),yield Km(r,a)}})).apply(this,arguments)}function Km(n,e,t){return(DB=DB||m(function*(r,i,s){if(!Hs(i))throw i;r.vu.add(1),yield al(r),r.bu.set("Offline"),s||(s=()=>uH(r.localStore)),r.asyncQueue.enqueueRetryable(m(function*(){R("RemoteStore","Retrying IndexedDB access"),yield s(),r.vu.delete(1),yield lh(r)}))})).apply(this,arguments)}function EH(n,e){return e().catch(t=>Km(n,t,e))}function ul(n){return(SB=SB||m(function*(e){const t=F(e),r=to(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;ohe(t);)try{const s=yield zde(t.localStore,i);if(null===s){0===t.Eu.length&&r.jo();break}i=s.batchId,ahe(t,s)}catch(s){yield Km(t,s)}IH(t)&&bH(t)})).apply(this,arguments)}function ohe(n){return eo(n)&&n.Eu.length<10}function ahe(n,e){n.Eu.push(e);const t=to(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function IH(n){return eo(n)&&!to(n).Uo()&&n.Eu.length>0}function bH(n){to(n).start()}function uhe(n){return(AB=AB||m(function*(e){to(e).hu()})).apply(this,arguments)}function lhe(n){return(MB=MB||m(function*(e){const t=to(e);for(const r of e.Eu)t.uu(r.mutations)})).apply(this,arguments)}function che(n,e,t){return(xB=xB||m(function*(r,i,s){const o=r.Eu.shift(),a=JC.from(o,i,s);yield EH(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield ul(r)})).apply(this,arguments)}function dhe(n,e){return(NB=NB||m(function*(t,r){var i;r&&to(t).ou&&(yield function(s,o){return(i=i||m(function*(a,u){if(function cj(n){switch(n){default:return j();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}(l=u.code)&&l!==C.ABORTED){const c=a.Eu.shift();to(a).Qo(),yield EH(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,u)),yield ul(a)}var l})).apply(this,arguments)}(t,r)),IH(t)&&bH(t)})).apply(this,arguments)}function CH(n,e){return(RB=RB||m(function*(t,r){const i=F(t);i.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");const s=eo(i);i.vu.add(3),yield al(i),s&&i.bu.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(r),i.vu.delete(3),yield lh(i)})).apply(this,arguments)}function ll(n){var e;return n.Su||(n.Su=function(t,r,i){const s=F(t);return s.fu(),new Xde(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{uo:rhe.bind(null,n),ao:ihe.bind(null,n),nu:she.bind(null,n)}),n.Ru.push(function(t){return(e=e||m(function*(r){r?(n.Su.Qo(),AT(n)?ST(n):n.bu.set("Unknown")):(yield n.Su.stop(),wH(n))})).apply(this,arguments)})),n.Su}function to(n){var e;return n.Du||(n.Du=function(t,r,i){const s=F(t);return s.fu(),new Jde(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{uo:uhe.bind(null,n),ao:dhe.bind(null,n),au:lhe.bind(null,n),cu:che.bind(null,n)}),n.Ru.push(function(t){return(e=e||m(function*(r){r?(n.Du.Qo(),yield ul(n)):(yield n.Du.stop(),n.Eu.length>0&&(R("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))})).apply(this,arguments)})),n.Du}class xT{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new xT(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new x(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cl(n,e){if(bt("AsyncQueue",`${e}: ${n}`),Hs(n))return new x(C.UNAVAILABLE,`${e}: ${n}`);throw n}class dl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||O.comparator(t.key,r.key):(t,r)=>O.comparator(t.key,r.key),this.keyedMap=zd(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new dl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class TH{constructor(){this.Cu=new Ge(O.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):j():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class hl{constructor(e,t,r,i,s,o,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new hl(e,t,dl.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class hhe{constructor(){this.Nu=void 0,this.listeners=[]}}class fhe{constructor(){this.queries=new hs(e=>G$(e),jd),this.onlineState="Unknown",this.ku=new Set}}function NT(n,e){return(PB=PB||m(function*(t,r){const i=F(t),s=r.query;let o=!1,a=i.queries.get(s);if(a||(o=!0,a=new hhe),o)try{a.Nu=yield i.onListen(s)}catch(u){const l=cl(u,`Initialization of query '${KC(r.query)}' failed`);return void r.onError(l)}i.queries.set(s,a),a.listeners.push(r),r.Mu(i.onlineState),a.Nu&&r.$u(a.Nu)&&kT(i)})).apply(this,arguments)}function RT(n,e){return(OB=OB||m(function*(t,r){const i=F(t),s=r.query;let o=!1;const a=i.queries.get(s);if(a){const u=a.listeners.indexOf(r);u>=0&&(a.listeners.splice(u,1),o=0===a.listeners.length)}if(o)return i.queries.delete(s),i.onUnlisten(s)})).apply(this,arguments)}function phe(n,e){const t=F(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&kT(t)}function ghe(n,e,t){const r=F(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function kT(n){n.ku.forEach(e=>{e.next()})}class PT{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class AH{constructor(e){this.key=e}}class MH{constructor(e){this.key=e}}class xH{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=he(),this.mutatedKeys=he(),this.tc=W$(e),this.ec=new dl(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new TH,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Hd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||l&&this.tc(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||l)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return f(d)-f(h)}(l.type,c.type)||this.tc(l.doc,c.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new hl(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new TH,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=he(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new MH(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new AH(r))}),t}hc(e){this.Yu=e.ir,this.Zu=he();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return hl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class _he{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class vhe{constructor(e){this.key=e,this.fc=!1}}class whe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new hs(a=>G$(a),jd),this._c=new Map,this.mc=new Set,this.gc=new Ge(O.comparator),this.yc=new Map,this.Ic=new pT,this.Tc={},this.Ec=new Map,this.Ac=la.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Ehe(n,e){return(FB=FB||m(function*(t,r){const i=function BT(n){const e=F(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xhe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Che.bind(null,e),e.dc.nu=phe.bind(null,e.eventManager),e.dc.Pc=ghe.bind(null,e.eventManager),e}(t);let s,o;const a=i.wc.get(r);if(a)s=a.targetId,i.sharedClientState.addLocalQueryTarget(s),o=a.view.lc();else{const u=yield function sl(n,e){const t=F(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new ps(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(i.localStore,$n(r)),l=i.sharedClientState.addLocalQueryTarget(u.targetId);s=u.targetId,o=yield function OT(n,e,t,r,i){return(LB=LB||m(function*(s,o,a,u,l){s.Rc=(y,_,b)=>{var v;return function(D,U,q,Ee){return(v=v||m(function*(ot,at,yr,Dh){let Ai=at.view.sc(yr);Ai.zi&&(Ai=yield jm(ot.localStore,at.query,!1).then(({documents:ky})=>at.view.sc(ky,Ai)));const _s=Dh&&Dh.targetChanges.get(at.targetId),Sh=at.view.applyChanges(Ai,ot.isPrimaryClient,_s);return VT(ot,at.targetId,Sh.cc),Sh.snapshot})).apply(this,arguments)}(s,y,_,b)};const c=yield jm(s.localStore,o,!0),d=new xH(o,c.ir),h=d.sc(c.documents),f=Yd.createSynthesizedTargetChangeForCurrentChange(a,u&&"Offline"!==s.onlineState,l),p=d.applyChanges(h,s.isPrimaryClient,f);VT(s,a,p.cc);const g=new _he(o,a,d);return s.wc.set(o,g),s._c.has(a)?s._c.get(a).push(o):s._c.set(a,[o]),p.snapshot})).apply(this,arguments)}(i,r,s,"current"===l,u.resumeToken),i.isPrimaryClient&&Wm(i.remoteStore,u)}return o})).apply(this,arguments)}function Ihe(n,e){return(VB=VB||m(function*(t,r){const i=F(t),s=i.wc.get(r),o=i._c.get(s.targetId);if(o.length>1)return i._c.set(s.targetId,o.filter(a=>!jd(a,r))),void i.wc.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||(yield ol(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),ch(i.remoteStore,s.targetId),fl(i,s.targetId)}).catch(js))):(fl(i,s.targetId),yield ol(i.localStore,s.targetId,!0))})).apply(this,arguments)}function NH(n,e){return(BB=BB||m(function*(t,r){const i=F(t);try{const s=yield function Hde(n,e){const t=F(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Ut.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),g=f,y=c,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let u=er(),l=he();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function lH(n,e,t){let r=he(),i=he();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=er();return t.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(K.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):R("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(c=>{u=c.nr,l=c.sr})),!r.isEqual(K.min())){const c=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.Ji=i,s))}(i.localStore,r);r.targetChanges.forEach((o,a)=>{const u=i.yc.get(a);u&&(W(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.fc=!0:o.modifiedDocuments.size>0?W(u.fc):o.removedDocuments.size>0&&(W(u.fc),u.fc=!1))}),yield gs(i,s,r)}catch(s){yield js(s)}})).apply(this,arguments)}function RH(n,e,t){const r=F(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=F(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.Mu(o)&&(u=!0)}),u&&kT(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Che(n,e,t){return($B=$B||m(function*(r,i,s){const o=F(r);o.sharedClientState.updateQueryState(i,"rejected",s);const a=o.yc.get(i),u=a&&a.key;if(u){let l=new Ge(O.comparator);l=l.insert(u,Xe.newNoDocument(u,K.min()));const c=he().add(u),d=new Qd(K.min(),new Map,new Ge(se),l,c);yield NH(o,d),o.gc=o.gc.remove(u),o.yc.delete(i),UT(o)}else yield ol(o.localStore,i,!1).then(()=>fl(o,i,s)).catch(js)})).apply(this,arguments)}function The(n,e){return(jB=jB||m(function*(t,r){const i=F(t),s=r.batch.batchId;try{const o=yield function jde(n,e){const t=F(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);W(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=he();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(i.localStore,r);LT(i,s,null),FT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield gs(i,o)}catch(o){yield js(o)}})).apply(this,arguments)}function Dhe(n,e,t){return(HB=HB||m(function*(r,i,s){const o=F(r);try{const a=yield function(u,l){const c=F(u);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(W(null!==f),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(o.localStore,i);LT(o,i,s),FT(o,i),o.sharedClientState.updateMutationState(i,"rejected",s),yield gs(o,a)}catch(a){yield js(a)}})).apply(this,arguments)}function FT(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function LT(n,e,t){const r=F(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function fl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||kH(n,r)})}function kH(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(ch(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),UT(n))}function VT(n,e,t){for(const r of t)r instanceof AH?(n.Ic.addReference(r.key,e),Ahe(n,r)):r instanceof MH?(R("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||kH(n,r.key)):j()}function Ahe(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(R("SyncEngine","New document in limbo: "+t),n.mc.add(r),UT(n))}function UT(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new O(be.fromString(e)),r=n.Ac.next();n.yc.set(r,new vhe(t)),n.gc=n.gc.insert(t,r),Wm(n.remoteStore,new ps($n(Yu(t.path)),r,"TargetPurposeLimboResolution",pr.ct))}}function gs(n,e,t){return(GB=GB||m(function*(r,i,s){var o;const a=F(r),u=[],l=[],c=[];a.wc.isEmpty()||(a.wc.forEach((d,h)=>{c.push(a.Rc(h,i,s).then(f=>{if((f||s)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(h.targetId,f?.fromCache?"not-current":"current"),f){u.push(f);const p=vT.Li(h.targetId,f);l.push(p)}}))}),yield Promise.all(c),a.dc.nu(u),yield function(d,h){return(o=o||m(function*(f,p){const g=F(f);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>w.forEach(p,_=>w.forEach(_.Fi,b=>g.persistence.referenceDelegate.addReference(y,_.targetId,b)).next(()=>w.forEach(_.Bi,b=>g.persistence.referenceDelegate.removeReference(y,_.targetId,b)))))}catch(y){if(!Hs(y))throw y;R("LocalStore","Failed to update sequence numbers: "+y)}for(const y of p){const _=y.targetId;if(!y.fromCache){const b=g.Ji.get(_),D=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);g.Ji=g.Ji.insert(_,D)}}})).apply(this,arguments)}(a.localStore,l))})).apply(this,arguments)}function Mhe(n,e){return(qB=qB||m(function*(t,r){const i=F(t);if(!i.currentUser.isEqual(r)){R("SyncEngine","User change. New user:",r.toKey());const s=yield aH(i.localStore,r);i.currentUser=r,(o=i).Ec.forEach(u=>{u.forEach(l=>{l.reject(new x(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),i.sharedClientState.handleUserChange(r,s.removedBatchIds,s.addedBatchIds),yield gs(i,s.er)}var o})).apply(this,arguments)}function xhe(n,e){const t=F(n),r=t.yc.get(e);if(r&&r.fc)return he().add(r.key);{let i=he();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function $T(n){const e=F(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=The.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dhe.bind(null,e),e}class Qm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return m(function*(){t.serializer=uh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function oH(n,e,t,r){return new $de(n,e,t,r)}(this.persistence,new sH,e.initialUser,this.serializer)}createPersistence(e){return new gT(Um.zs,this.serializer)}createSharedClientState(e){return new gH}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pl{initialize(e,t){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>RH(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Mhe.bind(null,r.syncEngine),yield function MT(n,e){return(kB=kB||m(function*(t,r){const i=F(t);r?(i.vu.delete(2),yield lh(i)):r||(i.vu.add(2),yield al(i),i.bu.set("Unknown"))})).apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fhe}createDatastore(e){const t=uh(e.databaseInfo.databaseId),r=new Yde(e.databaseInfo);return new Zde(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>RH(this.syncEngine,a,0),o=mH.D()?new mH:new Wde,new nhe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,l){const c=new whe(r,i,s,o,a,u);return l&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e;return function(t){return(e=e||m(function*(r){const i=F(r);R("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield al(i),i.Pu.shutdown(),i.bu.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}class Ym{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):bt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Hhe{constructor(e,t,r,i){var o,s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Wt.UNAUTHENTICATED,this.clientId=u$.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(a){return(o=o||m(function*(u){R("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u})).apply(this,arguments)}),this.appCheckCredentials.start(r,a=>(R("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=cl(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Xm(n,e){return(e$=e$||m(function*(t,r){var i;t.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");const s=yield t.getConfiguration();yield r.initialize(s);let o=s.initialUser;t.setCredentialChangeListener(function(a){return(i=i||m(function*(u){o.isEqual(u)||(yield aH(r.localStore,u),o=u)})).apply(this,arguments)}),r.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=r})).apply(this,arguments)}function jT(n,e){return(t$=t$||m(function*(t,r){t.asyncQueue.verifyOperationInProgress();const i=yield function HT(n){return(n$=n$||m(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){R("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Xm(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function UH(n){return"FirebaseError"===n.name?n.code===C.FAILED_PRECONDITION||n.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(r))throw r;Yr("Error using user provided cache. Falling back to memory cache: "+r),yield Xm(e,new Qm)}}else R("FirestoreClient","Using default OfflineComponentProvider"),yield Xm(e,new Qm);return e._offlineComponents})).apply(this,arguments)}(t);R("FirestoreClient","Initializing OnlineComponentProvider");const s=yield t.getConfiguration();yield r.initialize(i,s),t.setCredentialChangeListener(o=>CH(r.remoteStore,o)),t.setAppCheckTokenChangeListener((o,a)=>CH(r.remoteStore,a)),t._onlineComponents=r})).apply(this,arguments)}function Jm(n){return(r$=r$||m(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(R("FirestoreClient","Using user provided OnlineComponentProvider"),yield jT(e,e._uninitializedComponentsProvider._online)):(R("FirestoreClient","Using default OnlineComponentProvider"),yield jT(e,new pl))),e._onlineComponents})).apply(this,arguments)}function gl(n){return(i$=i$||m(function*(e){const t=yield Jm(e),r=t.eventManager;return r.onListen=Ehe.bind(null,t.syncEngine),r.onUnlisten=Ihe.bind(null,t.syncEngine),r})).apply(this,arguments)}function GH(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const qH=new Map;function GT(n,e,t){if(!t)throw new x(C.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function WH(n){if(!O.isDocumentKey(n))throw new x(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function KH(n){if(O.isDocumentKey(n))throw new x(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ey(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":j()}function we(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new x(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ey(n);throw new x(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class YH{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new x(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new x(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Jhe(n,e,t,r){if(!0===e&&!0===r)throw new x(C.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=GH(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new x(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new x(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new x(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new x(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YH(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Yle;switch(t.type){case"firstParty":return new ece(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new x(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qH.get(e);t&&(R("ComponentProvider","Removing Datastore"),qH.delete(e),t.terminate())}(this),Promise.resolve()}}class Dt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}}class hn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hn(this.firestore,e,this._query)}}class Ti extends hn{constructor(e,t,r){super(e,t,Yu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new O(e))}withConverter(e){return new Ti(this.firestore,e,this._path)}}function efe(n,e,...t){if(n=Cn(n),GT("collection","path",e),n instanceof dh){const r=be.fromString(e,...t);return KH(r),new Ti(n,null,r)}{if(!(n instanceof Dt||n instanceof Ti))throw new x(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(be.fromString(e,...t));return KH(r),new Ti(n.firestore,null,r)}}function XH(n,e,...t){if(n=Cn(n),1===arguments.length&&(e=u$.A()),GT("doc","path",e),n instanceof dh){const r=be.fromString(e,...t);return WH(r),new Dt(n,null,new O(r))}{if(!(n instanceof Dt||n instanceof Ti))throw new x(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(be.fromString(e,...t));return WH(r),new Dt(n.firestore,n instanceof Ti?n.converter:null,new O(r))}}class tfe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new TT(this,"async_queue_retry"),this.Xc=()=>{const t=qm();t&&R("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=qm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=qm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Vt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Hs(t))throw t;R("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,bt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=xT.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&j()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function qT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Je extends dh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new tfe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ZH(this),this._firestoreClient.terminate()}}function rfe(n,e){const r="string"==typeof n?n:e||"(default)",i=Du("object"==typeof n?n:iI(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=mee("firestore");s&&function Zhe(n,e,t,r={}){var i;const s=(n=we(n,dh))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Wt.MOCK_USER;else{a=function yee(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Zp(JSON.stringify({alg:"none",type:"JWT"})),Zp(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new x(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Wt(l)}n._authCredentials=new Xle(new o$(a,u))}}(i,...s)}return i}function kt(n){return n._firestoreClient||ZH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ZH(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new xce(n._databaseId,a,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,GH(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new Hhe(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(Ut.fromBase64String(e))}catch(t){throw new x(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new da(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ml{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new x(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class n4{constructor(e){this._methodName=e}}class WT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new x(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new x(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}}const sfe=/^__.*__$/;class ofe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new fs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zu(e,this.data,t,this.fieldTransforms)}}function i4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}class ty{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ty(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ry(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(i4(this.ca)&&sfe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class afe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||uh(e)}ya(e,t,r,i=!1){return new ty({ca:e,methodName:t,ga:r,path:Ct.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yl(n){const e=n._freezeSettings(),t=uh(n._databaseId);return new afe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function KT(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);YT("Data must be an object, but it was:",o,r);const a=l4(r,o);let u,l;if(s.merge)u=new Zn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=ph(e,d,t);if(!o.contains(h))throw new x(C.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);d4(c,h)||c.push(h)}u=new Zn(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new ofe(new dn(a),u,l)}function ha(n,e){if(c4(n=Cn(n)))return YT("Unsupported field value:",e,n),l4(n,e);if(n instanceof n4)return function(t,r){if(!i4(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=ha(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Cn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Z$(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=st.fromDate(t);return{timestampValue:tl(r.serializer,i)}}if(t instanceof st){const i=new st(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:tl(r.serializer,i)}}if(t instanceof WT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof da)return{bytesValue:wj(r.serializer,t._byteString)};if(t instanceof Dt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:rT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${ey(t)}`)}(n,e)}function l4(n,e){const t={};return I$(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(n,(r,i)=>{const s=ha(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function c4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof st||n instanceof WT||n instanceof da||n instanceof Dt||n instanceof n4)}function YT(n,e,t){if(!c4(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ey(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function ph(n,e,t){if((e=Cn(e))instanceof ml)return e._internalPath;if("string"==typeof e)return ny(n,e);throw ry("Field path arguments must be of type string or ",n,!1,void 0,t)}const dfe=new RegExp("[~\\*/\\[\\]]");function ny(n,e,t){if(e.search(dfe)>=0)throw ry(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ml(...e.split("."))._internalPath}catch{throw ry(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ry(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new x(C.INVALID_ARGUMENT,a+n+u)}function d4(n,e){return n.some(t=>t.isEqual(e))}class XT{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(iy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hfe extends XT{data(){return super.data()}}function iy(n,e){return"string"==typeof e?ny(n,e):e instanceof ml?e._internalPath:e._delegate._internalPath}function h4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new x(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JT{}class ffe extends JT{}function pfe(n,e,...t){let r=[];e instanceof JT&&r.push(e),r=r.concat(t),function(i){const s=i.filter(a=>a instanceof _l).length,o=i.filter(a=>a instanceof gh).length;if(s>1||s>0&&o>0)throw new x(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class gh extends ffe{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new gh(e,t,r)}_apply(e){const t=this._parse(e);return m4(e._query,t),new hn(e.firestore,e.converter,WC(e._query,t))}_parse(e){const t=yl(e.firestore);return function(i,s,o,a,u,l,c){let d;if(u.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new x(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){g4(c,l);const h=[];for(const f of c)h.push(p4(a,i,f));d={arrayValue:{values:h}}}else d=p4(a,i,c)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||g4(c,l),d=function u4(n,e,t,r=!1){return ha(t,n.ya(r?4:3,e))}(o,"where",c,"in"===l||"not-in"===l);return _e.create(u,l,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function gfe(n,e,t){const r=e,i=iy("where",n);return gh._create(i,r,t)}class _l extends JT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _l(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Oe.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)m4(s,a),s=WC(s,a)}(e._query,t),new hn(e.firestore,e.converter,WC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function p4(n,e,t){if("string"==typeof(t=Cn(t))){if(""===t)throw new x(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qC(e)&&-1!==t.indexOf("/"))throw new x(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(be.fromString(t));if(!O.isDocumentKey(r))throw new x(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zo(n,new O(r))}if(t instanceof Dt)return Zo(n,t._key);throw new x(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ey(t)}.`)}function g4(n,e){if(!Array.isArray(n)||0===n.length)throw new x(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function m4(n,e){if(e.isInequality()){const r=Cm(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new x(C.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=GC(n);null!==s&&function y4(n,e,t){if(!t.isEqual(e))throw new x(C.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new x(C.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class mfe{convertValue(e,t="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw j()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return zs(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new WT(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_m(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ld(e));default:return null}}convertTimestamp(e){const t=Gs(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=be.fromString(e);W(xj(r));const i=new Jo(r.get(1),r.get(3)),s=new O(r.popFirst(5));return i.isEqual(t)||bt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function eD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class fa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vl extends XT{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(iy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class uy extends vl{data(e={}){return super.data(e)}}class wl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new fa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new uy(this._firestore,this._userDataWriter,r.key,r,new fa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new x(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new uy(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new uy(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:_fe(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _fe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}function vfe(n){n=we(n,Dt);const e=we(n.firestore,Je);return function HH(n,e,t={}){const r=new Vt;return n.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,u){const l=new Ym({next:d=>{s.enqueueAndForget(()=>RT(i,c));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new x(C.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new x(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new PT(Yu(o.path),l,{includeMetadataChanges:!0,Ku:!0});return NT(i,c)}(yield gl(n),n.asyncQueue,e,t,r)})),r.promise}(kt(e),n._key).then(t=>tD(e,n,t))}class no extends mfe{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}function wfe(n){n=we(n,hn);const e=we(n.firestore,Je),t=kt(e),r=new no(e);return h4(n._query),function zH(n,e,t={}){const r=new Vt;return n.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,u){const l=new Ym({next:d=>{s.enqueueAndForget(()=>RT(i,c)),d.fromCache&&"server"===a.source?u.reject(new x(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new PT(o,l,{includeMetadataChanges:!0,Ku:!0});return NT(i,c)}(yield gl(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new wl(e,r,n,i))}function Efe(n,e,t){n=we(n,Dt);const r=we(n.firestore,Je),i=eD(n.converter,e,t);return mh(r,[KT(yl(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,et.none())])}function Ife(n){return mh(we(n.firestore,Je),[new el(n._key,et.none())])}function bfe(n,e){const t=we(n.firestore,Je),r=XH(n),i=eD(n.converter,e);return mh(t,[KT(yl(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,et.exists(!1))]).then(()=>r)}function mh(n,e){return function(t,r){const i=new Vt;return t.asyncQueue.enqueueAndForget(m(function*(){return function bhe(n,e,t){return(UB=UB||m(function*(r,i,s){const o=$T(r);try{const a=yield function(u,l){const c=F(u),d=st.now(),h=l.reduce((g,y)=>g.add(y.key),he());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=er(),_=he();return c.Zi.getEntries(g,h).next(b=>{y=b,y.forEach((v,D)=>{D.isValidDocument()||(_=_.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,y)).next(b=>{f=b;const v=[];for(const D of l){const U=Xce(D,f.get(D.key).overlayedDocument);null!=U&&v.push(new fs(D.key,U,N$(U.value.mapValue),et.exists(!0)))}return c.mutationQueue.addMutationBatch(g,d,v,l)}).next(b=>{p=b;const v=b.applyToLocalDocumentSet(f,_);return c.documentOverlayCache.saveOverlays(g,b.batchId,v)})}).then(()=>({batchId:p.batchId,changes:Q$(f)}))}(o.localStore,i);o.sharedClientState.addPendingMutation(a.batchId),function(u,l,c){let d=u.Tc[u.currentUser.toKey()];d||(d=new Ge(se)),d=d.insert(l,c),u.Tc[u.currentUser.toKey()]=d}(o,a.batchId,s),yield gs(o,a.changes),yield ul(o.remoteStore)}catch(a){const u=cl(a,"Failed to persist write");s.reject(u)}})).apply(this,arguments)}(yield function zT(n){return Jm(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(kt(n),e)}function tD(n,e,t){const r=t.docs.get(e._key),i=new no(n);return new vl(n,i,e._key,r,new fa(t.hasPendingWrites,t.fromCache),e.converter)}!function(n,e=!0){zu=Fo,Vn(new Tn("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Je(new Jle(t.getProvider("auth-internal")),new tce(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new x(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ft(s$,"3.13.0",n),ft(s$,"3.13.0","esm2017")}();var Ffe={includeMetadataChanges:!1};function nD(n,e){return void 0===e&&(e=Ffe),new qe(function(t){var r=function Cfe(n,...e){var t,r,i;n=Cn(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||qT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(qT(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(n instanceof Dt)l=we(n.firestore,Je),c=Yu(n._key.path),u={next:d=>{e[o]&&e[o](tD(l,n,d))},error:e[o+1],complete:e[o+2]};else{const d=we(n,hn);l=we(d.firestore,Je),c=d._query;const h=new no(l);u={next:f=>{e[o]&&e[o](new wl(l,h,d,f))},error:e[o+1],complete:e[o+2]},h4(n._query)}return function(d,h,f,p){const g=new Ym(p),y=new PT(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return NT(yield gl(d),y)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(m(function*(){return RT(yield gl(d),y)}))}}(kt(l),c,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Vfe(n,e){return void 0===e&&(e={}),function Lfe(n){return nD(n,{includeMetadataChanges:!0})}(n).pipe(re(function(t){return w4(t,e)}))}function w4(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}function zfe(n,e){return void 0===e&&(e={}),function Hfe(n){return nD(n,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}(n).pipe(re(function(t){return t.map(function(r){return w4(r,e)})}))}class cy{constructor(e){return e}}const C4="firestore",sD=new z("angularfire2.firestore-instances");function Wfe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new cy(r)}}const Kfe={provide:class Gfe{constructor(){return JI(C4)}},deps:[[new _n,sD]]},Qfe={provide:cy,useFactory:function qfe(n,e){const t=XI(C4,n,e);return t&&new cy(t)},deps:[[new _n,sD],Nu]};let Yfe=(()=>{class n{constructor(){ft("angularfire",fg.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=$t({providers:[Qfe,Kfe]}),n})();function Xfe(n,...e){return{ngModule:Yfe,providers:[{provide:sD,useFactory:Wfe(n),multi:!0,deps:[ke,wn,ZI,eb,[new _n,JV],[new _n,hb],...e]}]}}const T4=on(zfe,!0),Jfe=on(Vfe,!0),Zfe=on(bfe,!0),epe=on(efe,!0),tpe=on(Ife,!0),dy=on(XH,!0),npe=on(vfe,!0),D4=on(wfe,!0),rpe=on(rfe,!0),ipe=on(pfe,!0),spe=on(Efe,!0),ope=on(gfe,!0),lpe=(n,e)=>(n.push(e),n);const yh_firebase={projectId:"angular-firebase-gitta-b",appId:"1:1088471225000:web:a9f4166f774a00db55289d",storageBucket:"angular-firebase-gitta-b.appspot.com",apiKey:"AIzaSyBKsfPVhiUjaBxquoGE9BWPwSGv2jdg4r8",authDomain:"angular-firebase-gitta-b.firebaseapp.com",messagingSenderId:"1088471225000"};let hy=(()=>{var n;class e{constructor(r){this.firestore=r,this.BASE_URL="http://localhost:3000/",this.timeBSub=new Yn(""),this.timeObs$=this.timeBSub.asObservable(),this.customerCollectionRef=epe(this.firestore,"customers"),console.log("I'm from environment prod: true"),console.log(`Firebase appip: ${yh_firebase.appId}`)}addCustomer(r){return Fe(Zfe(this.customerCollectionRef,r))}getCustomers(){return T4(this.customerCollectionRef,{idField:"id"})}getCustomersWithGetDocs(){return Fe(D4(this.customerCollectionRef)).pipe(re(r=>r.docs.map(s=>{const o=s.data();return o.id=s.id,o})))}getCustomer(r){const i=dy(this.firestore,`customers/${r}`);return Jfe(i,{idField:"id"})}getCustomerWithGetDoc(r){const i=dy(this.firestore,`customers/${r}`);return Fe(npe(i)).pipe(re(s=>{const o=s.data();return o.id=s.id,o}))}deleteCustomer(r){const i=dy(this.firestore,`customers/${r}`);return Fe(tpe(i))}updateCustomer(r){const i=dy(this.firestore,"customers/${customer.id}");return Fe(spe(i,r))}getPropValues(r){return Fe(D4(this.customerCollectionRef)).pipe(re(i=>i.docs.map(s=>s.data()[r])),Bt(i=>i),function ape(n,e){return _t((t,r)=>{const i=new Set;t.subscribe(lt(r,s=>{const o=n?n(s):s;i.has(o)||(i.add(o),r.next(s))})),e&&jn(e).subscribe(lt(r,()=>i.clear(),Oy))})}(),function cpe(){return _t((n,e)=>{(function upe(n,e){return _t(QN(n,e,arguments.length>=2,!1,!0))})(lpe,[])(n).subscribe(e)})}())}getFilteredCustomers(r,i){const s=ipe(this.customerCollectionRef,ope(r,"==",i));return T4(s,{idField:"id"})}}return(n=e).\u0275fac=function(r){return new(r||n)(P(cy))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function dpe(n,e){1&n&&(I(0,"div",12),T(1," A customer number is required. "),E())}function hpe(n,e){if(1&n&&(I(0,"div",8),je(1,"input",9),I(2,"label",10),T(3,"Customer number"),E(),Y(4,dpe,2,0,"div",11),E()),2&n){const t=Se();N(4),$("ngIf",t.customerNo.invalid&&t.customerNo.touched)}}function fpe(n,e){1&n&&(I(0,"div",12),T(1," A name is required. "),E())}function ppe(n,e){if(1&n&&(I(0,"div",8),je(1,"input",13),I(2,"label",14),T(3,"Name"),E(),Y(4,fpe,2,0,"div",11),E()),2&n){const t=Se();N(4),$("ngIf",t.name.invalid&&t.name.touched)}}function gpe(n,e){1&n&&(I(0,"div",12),T(1," An address is required. "),E())}function mpe(n,e){if(1&n&&(I(0,"div",8),je(1,"input",15),I(2,"label",16),T(3,"Address"),E(),Y(4,gpe,2,0,"div",11),E()),2&n){const t=Se();N(4),$("ngIf",t.address.invalid&&t.address.touched)}}function ype(n,e){1&n&&(I(0,"div",12),T(1," An address is required. "),E())}function _pe(n,e){if(1&n&&(I(0,"div",8),je(1,"input",17),I(2,"label",18),T(3,"City"),E(),Y(4,ype,2,0,"div",11),E()),2&n){const t=Se();N(4),$("ngIf",t.city.invalid&&t.city.touched)}}function vpe(n,e){1&n&&(I(0,"div",12),T(1," A state is required. "),E())}function wpe(n,e){if(1&n&&(I(0,"div",8),je(1,"input",19),I(2,"label",20),T(3,"State"),E(),Y(4,vpe,2,0,"div",11),E()),2&n){const t=Se();N(4),$("ngIf",t.state.invalid&&t.state.touched)}}function Epe(n,e){1&n&&(I(0,"div",12),T(1," A country is required. "),E())}function Ipe(n,e){if(1&n&&(I(0,"div",8),je(1,"input",21),I(2,"label",22),T(3,"Country"),E(),Y(4,Epe,2,0,"div",11),E()),2&n){const t=Se();N(4),$("ngIf",t.country.invalid&&t.country.touched)}}let S4=(()=>{var n;class e{get customerNo(){return this.customerRegForm.get("customerNo")}get name(){return this.customerRegForm.get("name")}get address(){return this.customerRegForm.get("address")}get city(){return this.customerRegForm.get("city")}get state(){return this.customerRegForm.get("state")}get country(){return this.customerRegForm.get("country")}constructor(r,i,s){this.customerService=r,this.activatedRoute=i,this.router=s,this.customerRegForm=new bu({customerNo:new rn("",[ze.required]),name:new rn("",[ze.required]),address:new rn("",[ze.required]),city:new rn("",[ze.required]),state:new rn("",[ze.required]),country:new rn("",[ze.required])})}ngOnInit(){this.activatedRoute.paramMap.subscribe({next:r=>{let i=r.get("id");i&&this.customerService.getCustomerWithGetDoc(i).subscribe({next:s=>{this.customerRegForm.patchValue(s),this.updateCustomerId=s.id}})}})}submitRegForm(){if(!this.customerRegForm.invalid){const r=this.customerRegForm.value;this.updateCustomerId?(r.id=this.updateCustomerId,this.customerService.updateCustomer(r).subscribe({complete:()=>{this.router.navigate(["customers"])}})):this.customerService.addCustomer(r).subscribe({next:i=>{console.log("Customer saved with ID: ",i.id)},error:i=>{console.log(i)}})}}}return(n=e).\u0275fac=function(r){return new(r||n)(A(hy),A(Ms),A(nn))},n.\u0275cmp=pn({type:n,selectors:[["app-customer-reg"]],decls:16,vars:9,consts:[[1,"mb-4"],[1,"container","px-4","px-lg-5"],[1,"row","gx-4","gx-lg-5","justify-content-center"],[1,"col-md-10","col-lg-8","col-xl-7"],[1,"my-5"],["novalidate","",3,"formGroup","ngSubmit"],["class","form-floating my-2",4,"ngIf"],["id","submitButton","type","submit",1,"btn","btn-primary","text-uppercase","mt-2",3,"disabled"],[1,"form-floating","my-2"],["type","text","id","customerNo","formControlName","customerNo","placeholder","Enter customer number...",1,"form-control"],["for","customerNo"],["class","small text-danger",4,"ngIf"],[1,"small","text-danger"],["id","name","type","text","formControlName","name","placeholder","Enter your name...",1,"form-control"],["for","name"],["id","address","type","text","formControlName","address","placeholder","Enter your address...",1,"form-control"],["for","address"],["id","city","type","text","formControlName","city","placeholder","Enter your city...",1,"form-control"],["for","city"],["id","state","type","text","formControlName","state","placeholder","Enter your state...",1,"form-control"],["for","state"],["id","country","type","text","formControlName","country","placeholder","Enter your country...",1,"form-control"],["for","country"]],template:function(r,i){1&r&&(I(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),T(5,"Customer registration form"),E(),I(6,"div",4)(7,"form",5),Te("ngSubmit",function(){return i.submitRegForm()}),Y(8,hpe,5,1,"div",6),Y(9,ppe,5,1,"div",6),Y(10,mpe,5,1,"div",6),Y(11,_pe,5,1,"div",6),Y(12,wpe,5,1,"div",6),Y(13,Ipe,5,1,"div",6),I(14,"button",7),T(15),E()()()()()()()),2&r&&(N(7),$("formGroup",i.customerRegForm),N(1),$("ngIf",i.customerNo),N(1),$("ngIf",i.name),N(1),$("ngIf",i.address),N(1),$("ngIf",i.city),N(1),$("ngIf",i.state),N(1),$("ngIf",i.country),N(1),$("disabled",!i.customerRegForm.valid),N(1),In(" ",i.updateCustomerId?"Update":"Registrate"," "))},dependencies:[ui,Xp,Eu,jp,Hp,Cu,jc]}),e})();const{isArray:bpe}=Array;function Dpe(n,e){if(1&n&&(I(0,"li"),T(1),E()),2&n){const t=e.$implicit;N(1),Of(" ",t.type," - ",t.year," - ",t.isUsed," ")}}function Spe(n,e){if(1&n){const t=Hi();I(0,"tr")(1,"th",5),T(2),E(),I(3,"td"),T(4),E(),I(5,"td"),T(6),E(),I(7,"td"),T(8),E(),I(9,"td"),T(10),E(),I(11,"td"),T(12),E(),I(13,"td")(14,"button",6),Te("click",function(){const s=Oi(t).$implicit;return Fi(Se(2).onSelect(s.id))}),T(15," Select "),E()()()}if(2&n){const t=e.$implicit,r=e.index;N(2),nt(r+1),N(2),nt(t.customerNo),N(2),nt(t.name),N(2),nt(t.address),N(2),nt(t.city),N(2),nt(t.state)}}function Ape(n,e){if(1&n&&(I(0,"table",3)(1,"thead")(2,"tr")(3,"th",4),T(4,"#"),E(),I(5,"th",4),T(6,"Customer number"),E(),I(7,"th",4),T(8,"Name"),E(),I(9,"th",4),T(10,"Address"),E(),I(11,"th",4),T(12,"City"),E(),I(13,"th",4),T(14,"state"),E()()(),I(15,"tbody"),Y(16,Spe,16,6,"tr",1),jr(17,"async"),E()()),2&n){const t=Se();N(16),$("ngForOf",Hr(17,1,t.customers$))}}let Mpe=(()=>{var n;class e{constructor(r,i){this.customerService=r,this.router=i,this.customers=[],this.numberStream$=Q(1,2,3),this.stringStream$=Q("a","b","c"),this.mergedStream$=function Tpe(...n){const e=qy(n),t=function Cpe(n){return 1===n.length&&bpe(n[0])?n[0]:n}(n);return t.length?new qe(r=>{let i=t.map(()=>[]),s=t.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<t.length;o++)jn(t[o]).subscribe(lt(r,a=>{if(i[o].push(a),i.every(u=>u.length)){const u=i.map(l=>l.shift());r.next(e?e(...u):u),i.some((l,c)=>!l.length&&s[c])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):Pr}(this.numberStream$,this.stringStream$).pipe(xt(s=>console.log(s))),this.newCars$=Q([{type:"Tesla",year:2021,isUsed:!1},{type:"Lexus",year:2023,isUsed:!1}]),this.usedCars$=Q([{type:"Suzuki",year:2019,isUsed:!0},{type:"BMW",year:2022,isUsed:!0}]),this.mergedCars$=Hw([this.newCars$,this.usedCars$]).pipe(re(([s,o])=>[...s,...o]),re(s=>s.sort((o,a)=>o.year-a.year)))}ngOnInit(){this.customerService.getCustomersWithGetDocs().subscribe({next:r=>{this.customers=r}})}onSelect(r){r&&this.router.navigate(["customers",r])}}return(n=e).\u0275fac=function(r){return new(r||n)(A(hy),A(nn))},n.\u0275cmp=pn({type:n,selectors:[["app-customer-list"]],decls:6,vars:6,consts:[[1,"container"],[4,"ngFor","ngForOf"],["class","table table-striped table-hover",4,"ngIf"],[1,"table","table-striped","table-hover"],["scope","col"],["scope","row"],[1,"btn","btn-warning",3,"click"]],template:function(r,i){1&r&&(I(0,"div",0)(1,"ul"),Y(2,Dpe,2,3,"li",1),jr(3,"async"),E(),Y(4,Ape,18,3,"table",2),jr(5,"async"),E()),2&r&&(N(2),$("ngForOf",Hr(3,2,i.mergedCars$)),N(2),$("ngIf",Hr(5,4,i.customers$).length>0))},dependencies:[cu,ui,lp]}),e})(),xpe=(()=>{var n;class e{constructor(){}ngOnInit(){}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=pn({type:n,selectors:[["app-customer"]],decls:4,vars:0,consts:[[1,"container"]],template:function(r,i){1&r&&(I(0,"section",0),je(1,"router-outlet")(2,"hr")(3,"app-customer-list"),E())},dependencies:[Mp,Mpe]}),e})(),Npe=(()=>{var n;class e{constructor(r,i,s){this.customerService=r,this.activateRoute=i,this.router=s}ngOnInit(){this.activateRoute.paramMap.subscribe({next:r=>{let i=r.get("id");i&&this.customerService.getCustomerWithGetDoc(i).subscribe({next:s=>{this.customer=s}})}})}onDeleteCustomer(r){r&&confirm(`Do you wanna delete customer id: ${r}?`)&&this.customerService.deleteCustomer(r).subscribe({complete:()=>{this.router.navigate(["customers"])}})}onUpdateCustomer(r){r&&this.router.navigate(["customers",r,"edit"])}}return(n=e).\u0275fac=function(r){return new(r||n)(A(hy),A(Ms),A(nn))},n.\u0275cmp=pn({type:n,selectors:[["app-customer-details"]],decls:15,vars:6,consts:[[1,"container","my-4"],[1,"row"],[1,"card","col-md-6","offset-md-3"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-info","btn-sm","mx-2",3,"click"],[1,"btn","btn-danger","btn-sm","mx-2",3,"click"]],template:function(r,i){1&r&&(I(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),T(5),E(),I(6,"p",5),T(7),E(),I(8,"p",5),T(9),E(),I(10,"div")(11,"button",6),Te("click",function(){return i.onUpdateCustomer(null==i.customer?null:i.customer.id)}),T(12," Change name "),E(),I(13,"button",7),Te("click",function(){return i.onDeleteCustomer(null==i.customer?null:i.customer.id)}),T(14," Delete "),E()()()()()()),2&r&&(N(5),nt(null==i.customer?null:i.customer.name),N(2),ru(" Customer number: ",null==i.customer?null:i.customer.customerNo,", id: ",null==i.customer?null:i.customer.id," "),N(2),Of(" Address: ",null==i.customer?null:i.customer.state,", ",null==i.customer?null:i.customer.city,", ",null==i.customer?null:i.customer.address," "))}}),e})();class A4{}class Rpe{}const ms="*";function kpe(n,e){return{type:7,name:n,definitions:e,options:{}}}function M4(n,e=null){return{type:4,styles:e,timings:n}}function x4(n,e=null){return{type:2,steps:n,options:e}}function _h(n){return{type:6,styles:n,offset:null}}function oD(n,e,t){return{type:0,name:n,styles:e,options:t}}function N4(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function R4(n){Promise.resolve().then(n)}class vh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){R4(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class k4{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?R4(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const aD="!",P4=["toast-component",""];function Ppe(n,e){if(1&n){const t=Hi();I(0,"button",5),Te("click",function(){return Oi(t),Fi(Se().remove())}),I(1,"span",6),T(2,"\xd7"),E()()}}function Ope(n,e){if(1&n&&(Zl(0),T(1),ec()),2&n){const t=Se(2);N(1),In("[",t.duplicatesCount+1,"]")}}function Fpe(n,e){if(1&n&&(I(0,"div"),T(1),Y(2,Ope,2,1,"ng-container",4),E()),2&n){const t=Se();zi(t.options.titleClass),Kn("aria-label",t.title),N(1),In(" ",t.title," "),N(1),$("ngIf",t.duplicatesCount)}}function Lpe(n,e){if(1&n&&je(0,"div",7),2&n){const t=Se();zi(t.options.messageClass),$("innerHTML",t.message,Z_)}}function Vpe(n,e){if(1&n&&(I(0,"div",8),T(1),E()),2&n){const t=Se();zi(t.options.messageClass),Kn("aria-label",t.message),N(1),In(" ",t.message," ")}}function Upe(n,e){if(1&n&&(I(0,"div"),je(1,"div",9),E()),2&n){const t=Se();N(1),nu("width",t.width+"%")}}class qpe{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Wpe{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class Kpe{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new fn,this._activate=new fn,this._manualClose=new fn,this._resetTimeout=new fn,this._countDuplicate=new fn}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class fy{constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this._onTap=new fn,this._onAction=new fn,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const F4=new z("ToastConfig");class Qpe extends Wpe{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Ype=(()=>{class n{constructor(){this._document=oe(wt)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Xpe{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let Jpe=(()=>{class n{constructor(){this._overlayContainer=oe(Ype),this._componentFactoryResolver=oe(Ua),this._appRef=oe(bo),this._document=oe(wt),this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new Qpe(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Xpe(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uD=(()=>{class n{constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===t)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let l=r;r&&s.enableHtml&&(l=this.sanitizer.sanitize(Ve.HTML,r));const c=new Kpe(u),d=new fy(this.index,s,l,i,t,c),f=wn.create({providers:[{provide:fy,useValue:d}],parent:this._injector}),p=new qpe(s.toastComponent,f),g=u.attach(p,s.newestOnTop);c.componentInstance=g.instance;const y={toastId:this.index,title:i||"",message:r||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:g};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{y.toastRef.activate()})),this.toasts.push(y),y}}return n.\u0275fac=function(t){return new(t||n)(P(F4),P(Jpe),P(wn),P(BN),P(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L4=(()=>{class n{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(A(uD),A(fy),A(ke))},n.\u0275cmp=pn({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&Te("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(Ov("@flyInOut",r.state),zi(r.toastClasses),nu("display",r.displayStyle))},standalone:!0,features:[$f],attrs:P4,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(Y(0,Ppe,3,0,"button",0),Y(1,Fpe,3,5,"div",1),Y(2,Lpe,1,3,"div",2),Y(3,Vpe,2,4,"div",3),Y(4,Upe,2,2,"div",4)),2&t&&($("ngIf",r.options.closeButton),N(1),$("ngIf",r.title),N(1),$("ngIf",r.message&&r.options.enableHtml),N(1),$("ngIf",r.message&&!r.options.enableHtml),N(1),$("ngIf",r.options.progressBar))},dependencies:[ui],encapsulation:2,data:{animation:[kpe("flyInOut",[oD("inactive",_h({opacity:0})),oD("active",_h({opacity:1})),oD("removed",_h({opacity:0})),N4("inactive => active",M4("{{ easeTime }}ms {{ easing }}")),N4("active => removed",M4("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const Zpe={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:L4},ege=(n={})=>aA([{provide:F4,useValue:{default:Zpe,config:n}}]);let tge=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[ege(t)]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=$t({imports:[L4]}),n})(),lD=(()=>{var n;class e{get userEmail$(){return this.userEmail.asObservable()}get loggedInStatus$(){return this.loggedInStatus.asObservable()}constructor(r,i,s){this.auth=r,this.router=i,this.toastr=s,this.loggedInStatus=new Yn(null),this.userEmail=new Yn(null),this.googleAuthProvider=new Loe}registration(r){return Fe(Uue(this.auth,r.email,r.password)).pipe(xt(i=>{console.log("user adatok: ",i),this.loggedInStatus.next(!0),this.toastr.success("Successfully registrated and logged in!"),this.router.navigate([""])}),ci(i=>(this.toastr.error(i.message),i)))}login(r){return Fe($ue(this.auth,r.email,r.password)).pipe(xt(i=>{console.log("user adatok: ",i),this.loggedInStatus.next(!0),this.toastr.success("Successfully logged in!"),this.router.navigate([""])}),ci(i=>(this.toastr.error(i.message),i)))}logout(){var r=this;return m(function*(){yield r.auth.signOut(),r.loggedInStatus.next(!1),r.userEmail.next(null)})()}checkAuthState(){this.auth.onAuthStateChanged({next:r=>{r&&(console.log("Van user initkor: ",r),this.loggedInStatus.next(!0),this.userEmail.next(r.email))},error:r=>{console.log(r)},complete:()=>{}})}loginWithGoogle(){var r=this;return m(function*(){const i=yield jue(r.auth,r.googleAuthProvider);r.toastr.success("You logged in successfully!"),console.log(i),r.router.navigate([""])})()}}return(n=e).\u0275fac=function(r){return new(r||n)(P(Vg),P(nn),P(uD))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function nge(n,e){1&n&&(I(0,"span"),T(1,"An email is required."),E())}function rge(n,e){1&n&&(I(0,"span"),T(1,"Email is not valid."),E())}function ige(n,e){if(1&n&&(I(0,"div",12),Y(1,nge,2,0,"span",13),Y(2,rge,2,0,"span",13),E()),2&n){const t=Se(2);N(1),$("ngIf",t.email.touched),N(1),$("ngIf",t.email.invalid)}}function sge(n,e){if(1&n&&(I(0,"div",8),je(1,"input",9),I(2,"label",10),T(3,"Email address"),E(),Y(4,ige,3,2,"div",11),E()),2&n){const t=Se();N(4),$("ngIf",t.email.invalid&&t.email.touched)}}function oge(n,e){1&n&&(I(0,"div",12),T(1," A password is required. "),E())}function age(n,e){if(1&n&&(I(0,"div",14),je(1,"input",15),I(2,"label",16),T(3,"Password"),E(),Y(4,oge,2,0,"div",11),E()),2&n){const t=Se();N(4),$("ngIf",t.password.invalid&&t.password.touched)}}let uge=(()=>{var n;class e{get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}constructor(r){this.authService=r,this.loginForm=new bu({email:new rn("",[ze.required,ze.email]),password:new rn("",[ze.required])})}ngOnInit(){}login(){this.authService.login(this.loginForm.value).subscribe()}registration(){this.authService.registration(this.loginForm.value).subscribe()}loginWithGoogle(){this.authService.loginWithGoogle()}}return(n=e).\u0275fac=function(r){return new(r||n)(A(lD))},n.\u0275cmp=pn({type:n,selectors:[["app-sign-in"]],decls:12,vars:5,consts:[[1,"container-md","mt-5"],[3,"formGroup"],["class","form-floating",4,"ngIf"],["class","form-floating mt-5",4,"ngIf"],["id","loginButton","type","submit",1,"mx-3","btn","btn-primary","text-uppercase","mt-2",3,"disabled","click"],["id","regButton","type","submit",1,"btn","btn-primary","text-uppercase","mt-2",3,"disabled","click"],[1,"my-3"],[1,"btn","btn-danger",3,"click"],[1,"form-floating"],["formControlName","email","id","email","type","email","placeholder","Enter your email...",1,"form-control"],["for","email"],["class","small text-danger",4,"ngIf"],[1,"small","text-danger"],[4,"ngIf"],[1,"form-floating","mt-5"],["formControlName","password","type","password","id","password","placeholder","Enter your password...",1,"form-control"],["for","password"]],template:function(r,i){1&r&&(I(0,"main",0)(1,"form",1),Y(2,sge,5,1,"div",2),Y(3,age,5,1,"div",3),I(4,"button",4),Te("click",function(){return i.login()}),T(5," Login "),E(),I(6,"button",5),Te("click",function(){return i.registration()}),T(7," Registration "),E(),I(8,"p",6),T(9,"or login with"),E(),I(10,"button",7),Te("click",function(){return i.loginWithGoogle()}),T(11," Google "),E()()()),2&r&&(N(1),$("formGroup",i.loginForm),N(1),$("ngIf",i.email),N(1),$("ngIf",i.password),N(1),$("disabled",i.loginForm.invalid),N(2),$("disabled",i.loginForm.invalid))},dependencies:[ui,Xp,Eu,jp,Hp,Cu,jc]}),e})();const lge=["filterValue"];function cge(n,e){if(1&n&&(I(0,"option",12),T(1),jr(2,"titlecase"),E()),2&n){const t=e.$implicit;$("value",t),N(1),In(" ",Hr(2,2,t)," ")}}function dge(n,e){if(1&n&&(I(0,"option",12),T(1),jr(2,"titlecase"),E()),2&n){const t=e.$implicit;$("value",t),N(1),In(" ",Hr(2,2,t)," ")}}function hge(n,e){if(1&n&&(I(0,"select",13,14)(2,"option",4),T(3),E(),Y(4,dge,3,4,"option",5),jr(5,"async"),E()),2&n){const t=Se();N(3),In(" Select ",t.selectedFilterProps.type," "),N(1),$("ngForOf",Hr(5,2,t.selectedPropValues$))}}function fge(n,e){if(1&n&&(I(0,"tr")(1,"th",15),T(2),E(),I(3,"td"),T(4),E(),I(5,"td"),T(6),E(),I(7,"td"),T(8),E(),I(9,"td"),T(10),E(),I(11,"td"),T(12),E(),I(13,"td"),T(14),E()()),2&n){const t=e.$implicit,r=e.index;N(2),nt(r+1),N(2),nt(t.customerNo),N(2),nt(t.name),N(2),nt(t.address),N(2),nt(t.city),N(2),nt(t.state),N(2),nt(t.country)}}let pge=(()=>{var n;class e{constructor(r){this.customerService=r,this.customers=[],this.filterProperties=["city","state","country"]}ngOnInit(){this.customerService.getCustomersWithGetDocs().subscribe({next:r=>this.customers=r})}selectFilterBy(r){this.selectedFilterProps={type:`${r.value}`,placeholder:`Select ${r.value}`},this.selectedPropValues$=this.customerService.getPropValues(r.value)}filterCustomers(){this.selectedFilterProps&&this.customerService.getFilteredCustomers(this.selectedFilterProps.type,this.filterValue.nativeElement.value).subscribe({next:s=>{this.customers=s}})}}return(n=e).\u0275fac=function(r){return new(r||n)(A(hy))},n.\u0275cmp=pn({type:n,selectors:[["app-customer-filter"]],viewQuery:function(r,i){if(1&r&&Hf(lge,5),2&r){let s;cc(s=dc())&&(i.filterValue=s.first)}},decls:34,vars:3,consts:[[1,"container","my-3"],[1,"row","mb-3"],[1,"col-3"],[1,"form-select",3,"change"],["selected","","disabled","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["class","form-select",4,"ngIf"],[1,"row"],[1,"btn","btn-success",3,"click"],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[3,"value"],[1,"form-select"],["filterValue",""],["scope","row"]],template:function(r,i){1&r&&(I(0,"section",0)(1,"div",1)(2,"div",2)(3,"select",3),Te("change",function(o){return i.selectFilterBy(o.target)}),I(4,"option",4),T(5,"Filter by:"),E(),Y(6,cge,3,4,"option",5),E()(),I(7,"div",2),Y(8,hge,6,4,"select",6),E()(),I(9,"div",7)(10,"div",2)(11,"button",8),Te("click",function(){return i.filterCustomers()}),T(12," Search "),E()()()(),je(13,"hr"),I(14,"section",0)(15,"table",9)(16,"thead")(17,"tr")(18,"th",10),T(19,"#"),E(),I(20,"th",10),T(21,"Customer number"),E(),I(22,"th",10),T(23,"Name"),E(),I(24,"th",10),T(25,"Address"),E(),I(26,"th",10),T(27,"City"),E(),I(28,"th",10),T(29,"State"),E(),I(30,"th",10),T(31,"Country"),E()()(),I(32,"tbody"),Y(33,fge,15,7,"tr",11),E()()()),2&r&&(N(6),$("ngForOf",i.filterProperties),N(2),$("ngIf",i.selectedFilterProps),N(25),$("ngForOf",i.customers))},dependencies:[cu,ui,LE,UE,lp,cN]}),e})();class py{}class cD{}class Di{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Di?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Di;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Di?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class gge{encodeKey(e){return V4(e)}encodeValue(e){return V4(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const yge=/%(\d[a-f0-9])/gi,_ge={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function V4(n){return encodeURIComponent(n).replace(yge,(e,t)=>_ge[t]??e)}function gy(n){return`${n}`}class ro{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new gge,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mge(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(gy):[gy(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ro({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(gy(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(gy(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class vge{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function U4(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function B4(n){return typeof Blob<"u"&&n instanceof Blob}function $4(n){return typeof FormData<"u"&&n instanceof FormData}class wh{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function wge(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Di),this.context||(this.context=new vge),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new ro,this.urlWithParams=t}serializeBody(){return null===this.body?null:U4(this.body)||B4(this.body)||$4(this.body)||function Ege(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ro?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$4(this.body)?null:B4(this.body)?this.body.type||null:U4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ro?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,l=e.params||this.params;const c=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new wh(t,r,s,{params:l,headers:u,context:c,reportProgress:a,responseType:i,withCredentials:o})}}var Pt=(()=>((Pt=Pt||{})[Pt.Sent=0]="Sent",Pt[Pt.UploadProgress=1]="UploadProgress",Pt[Pt.ResponseHeader=2]="ResponseHeader",Pt[Pt.DownloadProgress=3]="DownloadProgress",Pt[Pt.Response=4]="Response",Pt[Pt.User=5]="User",Pt))();class dD{constructor(e,t=200,r="OK"){this.headers=e.headers||new Di,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class hD extends dD{constructor(e={}){super(e),this.type=Pt.ResponseHeader}clone(e={}){return new hD({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class my extends dD{constructor(e={}){super(e),this.type=Pt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new my({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class j4 extends dD{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function fD(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let H4=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof wh)s=t;else{let u,l;u=i.headers instanceof Di?i.headers:new Di(i.headers),i.params&&(l=i.params instanceof ro?i.params:new ro({fromObject:i.params})),s=new wh(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=Q(s).pipe(Ds(u=>this.handler.handle(u)));if(t instanceof wh||"events"===i.observe)return o;const a=o.pipe(Xi(u=>u instanceof my));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(re(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(re(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(re(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(re(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ro).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,fD(i,r))}post(t,r,i={}){return this.request("POST",t,fD(i,r))}put(t,r,i={}){return this.request("PUT",t,fD(i,r))}}return n.\u0275fac=function(t){return new(t||n)(P(py))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function z4(n,e){return e(n)}function Ige(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Cge=new z("HTTP_INTERCEPTORS"),Eh=new z("HTTP_INTERCEPTOR_FNS");function Tge(){let n=null;return(e,t)=>(null===n&&(n=(oe(Cge,{optional:!0})??[]).reduceRight(Ige,z4)),n(e,t))}let G4=(()=>{class n extends py{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Eh)));this.chain=r.reduceRight((i,s)=>function bge(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),z4)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(P(cD),P(ri))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const Mge=/^\)\]\}',?\n/;let W4=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new qe(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new Di(i.getAllResponseHeaders()),g=function xge(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new hD({headers:p,status:i.status,statusText:f,url:g}),o},u=()=>{let{headers:f,status:p,statusText:g,url:y}=a(),_=null;204!==p&&(_=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=_?200:0);let b=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof _){const v=_;_=_.replace(Mge,"");try{_=""!==_?JSON.parse(_):null}catch(D){_=v,b&&(b=!1,_={error:D,text:_})}}b?(r.next(new my({body:_,headers:f,status:p,statusText:g,url:y||void 0})),r.complete()):r.error(new j4({error:_,headers:f,status:p,statusText:g,url:y||void 0}))},l=f=>{const{url:p}=a(),g=new j4({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let c=!1;const d=f=>{c||(r.next(a()),c=!0);let p={type:Pt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:Pt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",l),i.addEventListener("timeout",l),i.addEventListener("abort",l),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:Pt.Sent}),()=>{i.removeEventListener("error",l),i.removeEventListener("abort",l),i.removeEventListener("load",u),i.removeEventListener("timeout",l),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(P(pN))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const pD=new z("XSRF_ENABLED"),K4=new z("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Q4=new z("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Y4{}let kge=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=rN(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(P(wt),P(pc),P(K4))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function Pge(n,e){const t=n.url.toLowerCase();if(!oe(pD)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=oe(Y4).getToken(),i=oe(Q4);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var St=(()=>((St=St||{})[St.Interceptors=0]="Interceptors",St[St.LegacyInterceptors=1]="LegacyInterceptors",St[St.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",St[St.NoXsrfProtection=3]="NoXsrfProtection",St[St.JsonpSupport=4]="JsonpSupport",St[St.RequestsMadeViaParent=5]="RequestsMadeViaParent",St))();function El(n,e){return{\u0275kind:n,\u0275providers:e}}function Oge(...n){const e=[H4,W4,G4,{provide:py,useExisting:G4},{provide:cD,useExisting:W4},{provide:Eh,useValue:Pge,multi:!0},{provide:pD,useValue:!0},{provide:Y4,useClass:kge}];for(const t of n)e.push(...t.\u0275providers);return aA(e)}const X4=new z("LEGACY_INTERCEPTOR_FN");let Lge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=$t({providers:[Oge(El(St.LegacyInterceptors,[{provide:X4,useFactory:Tge},{provide:Eh,useExisting:X4,multi:!0}]))]}),n})(),J4=(()=>{var n;class e{constructor(r){this.httpclient=r,this.MOVIES_URL="http://localhost:3000/movies"}getMovies(){return this.httpclient.get(this.MOVIES_URL)}saveMovie(r){let i=(new Di).set("Content-Type","application/json; charset=UTF-8");return this.httpclient.post(this.MOVIES_URL,r,{headers:i})}deleteMovie(r){return this.httpclient.delete(`${this.MOVIES_URL}/${r}`)}}return(n=e).\u0275fac=function(r){return new(r||n)(P(H4))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function Vge(n,e){1&n&&(I(0,"small",28),T(1,"Min 2, max 30 characters!"),E())}function Uge(n,e){1&n&&(I(0,"small",28),T(1,"Min 3, max 20 characters, and no numbers!"),E())}function Bge(n,e){1&n&&(I(0,"small",28),T(1,"Between 10 and 350 minutes!"),E())}function $ge(n,e){1&n&&(I(0,"small",28),T(1,"Between 1970 and 2023!"),E())}function jge(n,e){if(1&n&&(I(0,"option",29),T(1),E()),2&n){const t=e.$implicit;$("value",t.key),N(1),In(" ",t.value," ")}}function Hge(n,e){1&n&&(I(0,"small",28),T(1,"Please select one!"),E())}function zge(n,e){1&n&&(I(0,"small",28),T(1,"Min 2, max 25 characters!"),E())}function Gge(n,e){1&n&&(I(0,"small",28),T(1," Forbidden word! "),E())}function qge(n,e){1&n&&(I(0,"small",28),T(1," Min 20, max 800 characters! "),E())}function Wge(n,e){if(1&n){const t=Hi();I(0,"form",3),Te("ngSubmit",function(){return Oi(t),Fi(Se().saveMovie())}),I(1,"div",4)(2,"label",5),T(3,"Movie name"),E(),je(4,"input",6),Y(5,Vge,2,0,"small",7),E(),I(6,"div",8)(7,"label",9),T(8,"Director"),E(),je(9,"input",10),Y(10,Uge,2,0,"small",7),E(),I(11,"div",11)(12,"label",12),T(13,"Duration (minutes)"),E(),je(14,"input",13),Y(15,Bge,2,0,"small",7),E(),I(16,"div",14)(17,"label",15),T(18,"Release date (only year)"),E(),je(19,"input",16),Y(20,$ge,2,0,"small",7),E(),I(21,"div",17)(22,"label",18),T(23,"Movie type"),E(),I(24,"select",19),Y(25,jge,2,2,"option",20),E(),Y(26,Hge,2,0,"small",7),E(),I(27,"div",8)(28,"label",21),T(29,"Country"),E(),je(30,"input",22),Y(31,zge,2,0,"small",7),E(),I(32,"div",23)(33,"label",24),T(34,"Description"),E(),je(35,"textarea",25),Y(36,Gge,2,0,"small",7),Y(37,qge,2,0,"small",7),E(),I(38,"div",26)(39,"button",27),T(40,"Save"),E()()()}if(2&n){const t=Se();$("formGroup",t.movieForm),N(5),$("ngIf",(null==t.movieName?null:t.movieName.dirty)&&(null==t.movieName?null:t.movieName.invalid)&&(null==t.movieName?null:t.movieName.errors)),N(5),$("ngIf",(null==t.director?null:t.director.dirty)&&(null==t.director?null:t.director.invalid)&&(null==t.director?null:t.director.errors)),N(4),$("min",10)("max",350),N(1),$("ngIf",(null==t.duration?null:t.duration.invalid)&&(null==t.duration?null:t.duration.dirty)),N(4),$("min",1970)("max",2023),N(1),$("ngIf",(null==t.releaseDate?null:t.releaseDate.invalid)&&(null==t.releaseDate?null:t.releaseDate.dirty)),N(5),$("ngForOf",t.movieTypeOptions),N(1),$("ngIf",(null==t.movieType?null:t.movieType.touched)&&""===(null==t.movieType?null:t.movieType.value)),N(5),$("ngIf",(null==t.country?null:t.country.dirty)&&(null==t.country?null:t.country.invalid)&&(null==t.country?null:t.country.errors)),N(5),$("ngIf",null==t.description?null:t.description.hasError("customError")),N(1),$("ngIf",(null==t.description?null:t.description.dirty)&&(null==t.description?null:t.description.invalid)&&!(null!=t.description&&t.description.hasError("customError")))}}let Kge=(()=>{var n;class e{constructor(r){this.movieserv=r,this.movieTypeOptions=[{key:"SCI-FI",value:"Sci-fi"},{key:"COMEDY",value:"Comedy"},{key:"THRILLER",value:"Thriller"},{key:"FANTASY",value:"Fantasy"},{key:"DRAMA",value:"Drama"},{key:"CRIME",value:"Crime"},{key:"ADVENTURE",value:"Adventure"},{key:"HORROR",value:"Horror"},{key:"ACTION",value:"Action"},{key:"OTHER",value:"Other"}],this.movies=[]}ngOnInit(){this.movieForm=new bu({movieName:new rn("",[ze.required,ze.minLength(2),ze.maxLength(30)]),director:new rn("",[ze.required,ze.pattern(/^[a-zA-Z]{3,20}$/)]),duration:new rn(null,[ze.required,ze.min(10),ze.max(350)]),releaseDate:new rn(null,[ze.required,ze.min(1970),ze.max(2023)]),movieType:new rn(""),country:new rn("",[ze.required,ze.minLength(2),ze.maxLength(25)]),description:new rn("",[ze.required,ze.minLength(20),ze.maxLength(800),this.pornValidator()])})}get movieName(){return this.movieForm.get("movieName")}get director(){return this.movieForm.get("director")}get duration(){return this.movieForm.get("duration")}get releaseDate(){return this.movieForm.get("releaseDate")}get movieType(){return this.movieForm.get("movieType")}get country(){return this.movieForm.get("country")}get description(){return this.movieForm.get("description")}getMovies(){this.movieserv.getMovies().subscribe({next:r=>{this.movies=r},error:r=>console.log(r),complete:()=>{console.log("These are the movies!")}})}saveMovie(){const r={movieName:this.movieForm.get("movieName")?.value,director:this.movieForm.get("director")?.value,duration:this.movieForm.get("duration")?.value,releaseDate:this.movieForm.get("releaseDate")?.value,movieType:this.movieForm.get("movieType")?.value,country:this.movieForm.get("country")?.value,description:this.movieForm.get("description")?.value};this.movieserv.saveMovie(r).subscribe({complete:()=>{console.log("Movie added!",r),this.getMovies(),this.movieForm.reset()}})}deleteMovie(r){r=Number(r),this.movieserv.deleteMovie(r).subscribe({complete:()=>{console.log("Movie deleted!"),this.getMovies()}})}pornValidator(){return r=>r.value.match(/porn/i)?{customError:{value:r.value}}:null}}return(n=e).\u0275fac=function(r){return new(r||n)(A(J4))},n.\u0275cmp=pn({type:n,selectors:[["app-movie-registration"]],decls:4,vars:1,consts:[[1,"container"],[1,"mt-md-5","mb-5"],["class","row g-3",3,"formGroup","ngSubmit",4,"ngIf"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-md-7","mb-4"],["for","inputMovieName",1,"form-label","fst-italic"],["type","text","id","inputMovieName","formControlName","movieName",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"col-md-4"],["for","director",1,"form-label","fst-italic"],["type","text","id","director","formControlName","director",1,"form-control"],[1,"col-md-2","mb-3"],["for","inputDuration",1,"form-label","fst-italic"],["type","number","id","inputDuration","formControlName","duration",1,"form-control",3,"min","max"],[1,"col-md-2"],["for","inputReleaseDate",1,"form-label","fst-italic"],["type","number","id","inputReleaseDate","formControlName","releaseDate",1,"form-control",3,"min","max"],[1,"col-md-3"],["for","movieType",1,"form-label","fst-italic"],["id","movieType","formControlName","movieType",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","country",1,"form-label","fst-italic"],["type","text","id","country","formControlName","country",1,"form-control"],[1,"col-md-11","mb-4"],["for","description",1,"form-label","fst-italic"],["name","","id","description","cols","30","rows","8","formControlName","description",1,"form-control"],[1,"col-12","mb-5"],["type","submit",1,"btn","btn-primary"],[1,"text-danger"],[3,"value"]],template:function(r,i){1&r&&(I(0,"div",0)(1,"h2",1),T(2,"Register your favorite movie"),E(),Y(3,Wge,41,14,"form",2),E()),2&r&&(N(3),$("ngIf",i.movieForm))},dependencies:[cu,ui,Xp,LE,UE,Eu,kE,Jp,jp,Hp,$E,BE,Cu,jc]}),e})();function Qge(n,e){if(1&n){const t=Hi();I(0,"tr")(1,"th",6),T(2),E(),I(3,"td"),T(4),E(),I(5,"td"),T(6),E(),I(7,"td"),T(8),E(),I(9,"td"),T(10),E(),I(11,"td"),T(12),E(),I(13,"td"),T(14),E(),I(15,"td"),T(16),E(),I(17,"td")(18,"button",7),Te("click",function(){const s=Oi(t).$implicit;return Fi(Se(2).deleteMovie(s.id))}),T(19," Delete "),E()()()}if(2&n){const t=e.$implicit,r=e.index;N(2),nt(r+1),N(2),nt(t.movieName),N(2),nt(t.director),N(2),In("",t.duration," min"),N(2),nt(t.releaseDate),N(2),nt(t.movieType),N(2),nt(t.country),N(2),nt(t.description)}}function Yge(n,e){if(1&n&&(I(0,"div",1)(1,"h2",2),T(2,"Your saved movies"),E(),I(3,"table",3)(4,"thead")(5,"tr")(6,"th",4),T(7,"#"),E(),I(8,"th",4),T(9,"Name"),E(),I(10,"th",4),T(11,"Director"),E(),I(12,"th",4),T(13,"Duration"),E(),I(14,"th",4),T(15,"Release Date"),E(),I(16,"th",4),T(17,"Type"),E(),I(18,"th",4),T(19,"Country"),E(),I(20,"th",4),T(21,"Description"),E(),I(22,"th",4),T(23,"Remove"),E()()(),I(24,"tbody"),Y(25,Qge,20,8,"tr",5),E()()()),2&n){const t=Se();N(25),$("ngForOf",t.movies)}}const Xge=[{path:"",component:oZ},{path:"registration",component:S4},{path:"sign-in",component:uge},{path:"filter",component:pge},{path:"customers",component:xpe,children:[{path:":id",component:Npe},{path:":id/edit",component:S4}]},{path:"movieform",component:Kge},{path:"movielist",component:(()=>{var n;class e{constructor(r){this.movieserv=r,this.movies=[]}get movieName(){return this.movieForm.get("movieName")}get director(){return this.movieForm.get("director")}get duration(){return this.movieForm.get("duration")}get releaseDate(){return this.movieForm.get("releaseDate")}get movieType(){return this.movieForm.get("movieType")}get country(){return this.movieForm.get("country")}get description(){return this.movieForm.get("description")}getMovies(){this.movieserv.getMovies().subscribe({next:r=>{this.movies=r},error:r=>console.log(r),complete:()=>{console.log("These are the movies!")}})}saveMovie(){const r={movieName:this.movieForm.get("movieName")?.value,director:this.movieForm.get("director")?.value,duration:this.movieForm.get("duration")?.value,releaseDate:this.movieForm.get("releaseDate")?.value,movieType:this.movieForm.get("movieType")?.value,country:this.movieForm.get("country")?.value,description:this.movieForm.get("description")?.value};this.movieserv.saveMovie(r).subscribe({next:()=>{console.log("Movie added!",r),this.getMovies(),this.movieForm.reset()},error:i=>{console.error("Error adding movie:",i)}})}deleteMovie(r){r=Number(r),this.movieserv.deleteMovie(r).subscribe({complete:()=>{console.log("Movie deleted!"),this.getMovies()}})}}return(n=e).\u0275fac=function(r){return new(r||n)(A(J4))},n.\u0275cmp=pn({type:n,selectors:[["app-movie-listing"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mt-md-5","mb-3"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","btn-danger",3,"click"]],template:function(r,i){1&r&&Y(0,Yge,26,1,"div",0),2&r&&$("ngIf",i.movies.length>=1)},dependencies:[cu,ui]}),e})()}];let Jge=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=$t({imports:[tk.forRoot(Xge),tk]}),e})();function Zge(n,e){1&n&&(I(0,"a",16),T(1,"Sign-in"),E())}function eme(n,e){if(1&n){const t=Hi();I(0,"li",7)(1,"a",17),Te("click",function(){return Oi(t),Fi(Se().logout())}),T(2,"Logout"),E()()}}function tme(n,e){if(1&n&&(I(0,"li",7)(1,"a",18),T(2),jr(3,"async"),E()()),2&n){const t=Se();N(2),In("\xdcdv: ",Hr(3,1,t.userEmail$),"")}}let nme=(()=>{var n;class e{constructor(r){this.authService=r,this.loggedInStatus$=this.authService.loggedInStatus$,this.userEmail$=this.authService.userEmail$}ngOnInit(){}logout(){var r=this;return m(function*(){yield r.authService.logout()})()}}return(n=e).\u0275fac=function(r){return new(r||n)(A(lD))},n.\u0275cmp=pn({type:n,selectors:[["app-nav"]],decls:34,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","registration",1,"nav-link","active"],["routerLink","customers",1,"nav-link","active"],["class","nav-link active","routerLink","sign-in",4,"ngIf"],["class","nav-item",4,"ngIf"],["routerLink","filter",1,"nav-link","active"],["routerLink","movieform",1,"nav-link","active","position-relative"],[1,"position-absolute","top-0","start-75","translate-middle","badge","rounded-pill","bg-danger"],["routerLink","movielist",1,"nav-link","active","position-relative"],["routerLink","sign-in",1,"nav-link","active"],["routerLink","",1,"nav-link","active",3,"click"],[1,"nav-link","active"]],template:function(r,i){1&r&&(I(0,"nav",0)(1,"div",1)(2,"a",2),T(3,"Firebase & Template reference"),E(),I(4,"button",3),je(5,"span",4),E(),I(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),T(10,"Registration"),E()(),I(11,"li",7)(12,"a",9),T(13,"Customers"),E()(),I(14,"li",7),Y(15,Zge,2,0,"a",10),jr(16,"async"),E(),Y(17,eme,3,0,"li",11),jr(18,"async"),Y(19,tme,4,3,"li",11),jr(20,"async"),I(21,"li",7)(22,"a",12),T(23,"Filter"),E()(),I(24,"li",7)(25,"a",13),T(26,"MovieForm "),I(27,"span",14),T(28," homework"),E()()(),I(29,"li",7)(30,"a",15),T(31,"MovieListing "),I(32,"span",14),T(33," homework"),E()()()()()()()),2&r&&(N(15),$("ngIf",!Hr(16,3,i.loggedInStatus$)),N(2),$("ngIf",Hr(18,5,i.loggedInStatus$)),N(2),$("ngIf",Hr(20,7,i.userEmail$)))},dependencies:[ui,Up,lp]}),e})(),rme=(()=>{var n;class e{constructor(r){this.authService=r,this.title="angular-firebase",this.authService.checkAuthState()}}return(n=e).\u0275fac=function(r){return new(r||n)(A(lD))},n.\u0275cmp=pn({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&je(0,"app-nav")(1,"router-outlet")},dependencies:[Mp,nme]}),e})();function Z4(n){return new S(3e3,!1)}function Vme(){return typeof window<"u"&&typeof window.document<"u"}function gD(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function io(n){switch(n.length){case 0:return new vh;case 1:return n[0];default:return new k4(n)}}function e3(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let u=-1,l=null;if(r.forEach(c=>{const d=c.get("offset"),h=d==u,f=h&&l||new Map;c.forEach((p,g)=>{let y=g,_=p;if("offset"!==g)switch(y=e.normalizePropertyName(y,o),_){case aD:_=i.get(g);break;case ms:_=s.get(g);break;default:_=e.normalizeStyleValue(g,y,_,o)}f.set(y,_)}),h||a.push(f),l=f,u=d}),o.length)throw function Dme(n){return new S(3502,!1)}();return a}function mD(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&yD(t,"start",n)));break;case"done":n.onDone(()=>r(t&&yD(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&yD(t,"destroy",n)))}}function yD(n,e,t){const s=_D(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function _D(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function gr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function t3(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let vD=(n,e)=>!1,n3=(n,e,t)=>[],r3=null;function wD(n){const e=n.parentNode||n.host;return e===r3?null:e}(gD()||typeof Element<"u")&&(Vme()?(r3=(()=>document.documentElement)(),vD=(n,e)=>{for(;e;){if(e===n)return!0;e=wD(e)}return!1}):vD=(n,e)=>n.contains(e),n3=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let pa=null,i3=!1;const s3=vD,o3=n3;let a3=(()=>{class n{validateStyleProperty(t){return function Bme(n){pa||(pa=function $me(){return typeof document<"u"?document.body:null}()||{},i3=!!pa.style&&"WebkitAppearance"in pa.style);let e=!0;return pa.style&&!function Ume(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in pa.style,!e&&i3&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in pa.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return s3(t,r)}getParentElement(t){return wD(t)}query(t,r,i){return o3(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new vh(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),ED=(()=>{class n{}return n.NOOP=new a3,n})();const jme=1e3,ID="ng-enter",yy="ng-leave",_y="ng-trigger",vy=".ng-trigger",l3="ng-animating",bD=".ng-animating";function ys(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:CD(parseFloat(e[1]),e[2])}function CD(n,e){return"s"===e?n*jme:n}function wy(n,e,t){return n.hasOwnProperty("duration")?n:function zme(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Z4()),{duration:0,delay:0,easing:""};i=CD(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=CD(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function ime(){return new S(3100,!1)}()),a=!0),s<0&&(e.push(function sme(){return new S(3101,!1)}()),a=!0),a&&e.splice(u,0,Z4())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Ih(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function c3(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function so(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function h3(n,e,t){return t?e+":"+t+";":""}function f3(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=h3(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=h3(0,Kme(t),n.style[t]));n.setAttribute("style",e)}function Si(n,e,t){n.style&&(e.forEach((r,i)=>{const s=DD(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),gD()&&f3(n))}function ga(n,e){n.style&&(e.forEach((t,r)=>{const i=DD(r);n.style[i]=""}),gD()&&f3(n))}function bh(n){return Array.isArray(n)?1==n.length?n[0]:x4(n):n}const TD=new RegExp("{{\\s*(.+?)\\s*}}","g");function p3(n){let e=[];if("string"==typeof n){let t;for(;t=TD.exec(n);)e.push(t[1]);TD.lastIndex=0}return e}function Ch(n,e,t){const r=n.toString(),i=r.replace(TD,(s,o)=>{let a=e[o];return null==a&&(t.push(function ame(n){return new S(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Ey(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Wme=/-+([a-z0-9])/g;function DD(n){return n.replace(Wme,(...e)=>e[1].toUpperCase())}function Kme(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function mr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ume(n){return new S(3004,!1)}()}}function g3(n,e){return window.getComputedStyle(n)[e]}const Cy="*";function eye(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function tye(n,e,t){if(":"==n[0]){const u=function nye(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Ime(n){return new S(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Eme(n){return new S(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(m3(i,o));"<"==s[0]&&!(i==Cy&&o==Cy)&&e.push(m3(o,i))}(r,t,e)):t.push(n),t}const Ty=new Set(["true","1"]),Dy=new Set(["false","0"]);function m3(n,e){const t=Ty.has(n)||Dy.has(n),r=Ty.has(e)||Dy.has(e);return(i,s)=>{let o=n==Cy||n==i,a=e==Cy||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Ty.has(n):Dy.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Ty.has(e):Dy.has(e)),o&&a}}const rye=new RegExp("s*:selfs*,?","g");function SD(n,e,t,r){return new iye(n).build(e,t,r)}class iye{constructor(e){this._driver=e}build(e,t,r){const i=new aye(t);return this._resetContextStyleTimingState(i),mr(this,bh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function cme(){return new S(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(c=>{u.name=c,s.push(this.visitState(u,t))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function dme(){return new S(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{p3(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(Ey(s.values()),t.errors.push(function hme(n,e){return new S(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=mr(this,bh(e.animation),t);return{type:1,matchers:eye(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ma(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>mr(this,r,t)),options:ma(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=mr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:ma(e.options)}}visitAnimate(e,t){const r=function lye(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return AD(wy(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=AD(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=wy(t,e);return AD(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:_h({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=_h(l)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ms?r.push(a):t.errors.push(new S(3002,!1)):r.push(c3(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const l=t.collectedStyles.get(t.currentQuerySelector),c=l.get(u);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function pme(n,e,t,r,i){return new S(3010,!1)}()),d=!1),s=c.startTime),d&&l.set(u,{startTime:s,endTime:i}),t.options&&function qme(n,e,t){const r=e.params||{},i=p3(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function ome(n){return new S(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function gme(){return new S(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,l=0;const c=e.steps.map(_=>{const b=this._makeStyleAst(_,t);let v=null!=b.offset?b.offset:function uye(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(b.styles),D=0;return null!=v&&(s++,D=b.offset=v),u=u||D<0||D>1,a=a||D<l,l=D,o.push(D),b});u&&t.errors.push(function mme(){return new S(3012,!1)}()),a&&t.errors.push(function yme(){return new S(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function _me(){return new S(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,y=g.duration;return c.forEach((_,b)=>{const v=h>0?b==f?1:h*b:o[b],D=v*y;t.currentTime=p+g.delay+D,g.duration=D,this._validateStyleAst(_,t),_.offset=v,r.styles.push(_)}),r}visitReference(e,t){return{type:8,animation:mr(this,bh(e.animation),t),options:ma(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ma(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ma(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function sye(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(rye,"")),n=n.replace(/@\*/g,vy).replace(/@\w+/g,t=>vy+"-"+t.slice(1)).replace(/:animating/g,bD),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,gr(t.collectedStyles,t.currentQuerySelector,new Map);const a=mr(this,bh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ma(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function vme(){return new S(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:wy(e.timings,t.errors,!0);return{type:12,animation:mr(this,bh(e.animation),t),timings:r,options:null}}}class aye{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ma(n){return n?(n=Ih(n)).params&&(n.params=function oye(n){return n?Ih(n):null}(n.params)):n={},n}function AD(n,e,t){return{duration:n,delay:e,easing:t}}function MD(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Sy{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const hye=new RegExp(":enter","g"),pye=new RegExp(":leave","g");function xD(n,e,t,r,i,s=new Map,o=new Map,a,u,l=[]){return(new gye).buildKeyframes(n,e,t,r,i,s,o,a,u,l)}class gye{buildKeyframes(e,t,r,i,s,o,a,u,l,c=[]){l=l||new Sy;const d=new ND(e,t,l,i,s,c,[]);d.options=u;const h=u.delay?ys(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),mr(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const y=f[g];if(y.element===t){p=y;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[MD(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:ys(Ch(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?ys(r.duration):null,a=null!=r.delay?ys(r.delay):null;return 0!==o&&e.forEach(u=>{const l=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),mr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ay);const o=ys(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>mr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ys(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),mr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return wy(t.params?Ch(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ys(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ay);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((l,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(u=d.currentTimeline),mr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const c=t.currentTimeline;u&&c.delayNextStep(u);const d=c.currentTime;mr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Ay={};class ND{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ay,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new My(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ys(r.duration)),null!=r.delay&&(i.delay=ys(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Ch(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new ND(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Ay,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new mye(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(hye,"."+this._enterClassName)).replace(pye,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function wme(n){return new S(3014,!1)}()),a}}class My{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new My(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ms),this._currentKeyframe.set(t,ms);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function yye(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ms)}else so(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,u]of o){const l=Ch(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ms),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=so(a,new Map,this._backFill);l.forEach((c,d)=>{c===aD?e.add(d):c===ms&&t.add(d)}),r||l.set("offset",u/this.duration),i.push(l)});const s=e.size?Ey(e.values()):[],o=t.size?Ey(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return MD(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class mye extends My{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=so(e[0]);u.set("offset",0),s.push(u);const l=so(e[0]);l.set("offset",v3(a)),s.push(l);const c=e.length-1;for(let d=1;d<=c;d++){let h=so(e[d]);const f=h.get("offset");h.set("offset",v3((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return MD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function v3(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class RD{}const _ye=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vye extends RD{normalizePropertyName(e,t){return DD(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(_ye.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function lme(n,e){return new S(3005,!1)}())}return o+s}}function w3(n,e,t,r,i,s,o,a,u,l,c,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:d,errors:h}}const kD={};class E3{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function wye(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,u,l,c){const d=[],h=this.ast.options&&this.ast.options.params||kD,p=this.buildStyles(r,a&&a.params||kD,d),g=u&&u.params||kD,y=this.buildStyles(i,g,d),_=new Set,b=new Map,v=new Map,D="void"===i,U={params:Eye(g,h),delay:this.ast.options?.delay},q=c?[]:xD(e,t,this.ast.animation,s,o,p,y,U,l,d);let Ee=0;if(q.forEach(at=>{Ee=Math.max(at.duration+at.delay,Ee)}),d.length)return w3(t,this._triggerName,r,i,D,p,y,[],[],b,v,Ee,d);q.forEach(at=>{const yr=at.element,Dh=gr(b,yr,new Set);at.preStyleProps.forEach(_s=>Dh.add(_s));const Ai=gr(v,yr,new Set);at.postStyleProps.forEach(_s=>Ai.add(_s)),yr!==t&&_.add(yr)});const ot=Ey(_.values());return w3(t,this._triggerName,r,i,D,p,y,q,ot,b,v,Ee)}}function Eye(n,e){const t=Ih(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Iye{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Ih(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Ch(o,i,t));const u=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,u,o,t),r.set(a,o)})}),r}}class Cye{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Iye(i.style,i.options&&i.options.params||{},r))}),I3(this.states,"true","1"),I3(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new E3(e,i,this.states))}),this.fallbackTransition=function Tye(n,e,t){return new E3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function I3(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Dye=new Sy;class Sye{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=SD(this._driver,t,r,i);if(r.length)throw function Sme(n){return new S(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=e3(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=xD(this._driver,t,s,ID,yy,new Map,new Map,r,Dye,i),o.forEach(c=>{const d=gr(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Ame(){return new S(3300,!1)}()),o=[]),i.length)throw function Mme(n){return new S(3504,!1)}();a.forEach((c,d)=>{c.forEach((h,f)=>{c.set(f,this._driver.computeStyle(d,f,ms))})});const l=io(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function xme(n){return new S(3301,!1)}();return t}listen(e,t,r,i){const s=_D(t,"","","");return mD(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const b3="ng-animate-queued",PD="ng-animate-disabled",Rye=[],C3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kye={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Nr="__ng_removed";class OD{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Lye(n){return n??null}(r?e.value:e),r){const s=Ih(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Th="void",FD=new OD(Th);class Pye{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Rr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Nme(n,e){return new S(3302,!1)}();if(null==r||0==r.length)throw function Rme(n){return new S(3303,!1)}();if(!function Vye(n){return"start"==n||"done"==n}(r))throw function kme(n,e){return new S(3400,!1)}();const s=gr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=gr(this._engine.statesByElement,e,new Map);return a.has(t)||(Rr(e,_y),Rr(e,_y+"-"+t),a.set(t,FD)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Pme(n){return new S(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new LD(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Rr(e,_y),Rr(e,_y+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const l=new OD(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(t,l),u||(u=FD),l.value!==Th&&u.value===l.value){if(!function $ye(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,l.params)){const g=[],y=s.matchStyles(u.value,u.params,g),_=s.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{ga(e,y),Si(e,_)})}return}const h=gr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:u,toState:l,player:o,isFallbackTransition:p}),p||(Rr(e,b3),o.onStart(()=>{Il(e,b3)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const y=this._engine.playersByElement.get(e);if(y){let _=y.indexOf(o);_>=0&&y.splice(_,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,vy,!0);r.forEach(i=>{if(i[Nr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){const c=this.trigger(e,l,Th,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&io(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,l=r.get(o)||FD,c=new OD(Th),d=new LD(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Nr];(!s||s===C3)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Rr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=_D(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,mD(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Oye{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Pye(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(xy(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!xy(t))return;const s=t[Nr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Rr(e,PD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Il(e,PD))}removeNode(e,t,r,i){if(xy(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Nr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return xy(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,vy,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,bD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return io(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Nr];if(t&&t.setForRemoval){if(e[Nr]=C3,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(PD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Rr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?io(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Ome(n){return new S(3402,!1)}()}_flushAnimations(e,t){const r=new Sy,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(G=>{c.add(G);const X=this.driver.query(G,".ng-animate-queued",!0);for(let ne=0;ne<X.length;ne++)c.add(X[ne])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=S3(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((G,X)=>{const ne=ID+g++;p.set(X,ne),G.forEach(De=>Rr(De,ne))});const y=[],_=new Set,b=new Set;for(let G=0;G<this.collectedLeaveElements.length;G++){const X=this.collectedLeaveElements[G],ne=X[Nr];ne&&ne.setForRemoval&&(y.push(X),_.add(X),ne.hasAnimation?this.driver.query(X,".ng-star-inserted",!0).forEach(De=>_.add(De)):b.add(X))}const v=new Map,D=S3(h,Array.from(_));D.forEach((G,X)=>{const ne=yy+g++;v.set(X,ne),G.forEach(De=>Rr(De,ne))}),e.push(()=>{f.forEach((G,X)=>{const ne=p.get(X);G.forEach(De=>Il(De,ne))}),D.forEach((G,X)=>{const ne=v.get(X);G.forEach(De=>Il(De,ne))}),y.forEach(G=>{this.processLeaveNode(G)})});const U=[],q=[];for(let G=this._namespaceList.length-1;G>=0;G--)this._namespaceList[G].drainQueuedTransitions(t).forEach(ne=>{const De=ne.player,Yt=ne.element;if(U.push(De),this.collectedEnterElements.length){const Nn=Yt[Nr];if(Nn&&Nn.setForMove){if(Nn.previousTriggersValues&&Nn.previousTriggersValues.has(ne.triggerName)){const ya=Nn.previousTriggersValues.get(ne.triggerName),kr=this.statesByElement.get(ne.element);if(kr&&kr.has(ne.triggerName)){const Py=kr.get(ne.triggerName);Py.value=ya,kr.set(ne.triggerName,Py)}}return void De.destroy()}}const Mi=!d||!this.driver.containsElement(d,Yt),_r=v.get(Yt),oo=p.get(Yt),ut=this._buildInstruction(ne,r,oo,_r,Mi);if(ut.errors&&ut.errors.length)return void q.push(ut);if(Mi)return De.onStart(()=>ga(Yt,ut.fromStyles)),De.onDestroy(()=>Si(Yt,ut.toStyles)),void i.push(De);if(ne.isFallbackTransition)return De.onStart(()=>ga(Yt,ut.fromStyles)),De.onDestroy(()=>Si(Yt,ut.toStyles)),void i.push(De);const F3=[];ut.timelines.forEach(Nn=>{Nn.stretchStartingKeyframe=!0,this.disabledNodes.has(Nn.element)||F3.push(Nn)}),ut.timelines=F3,r.append(Yt,ut.timelines),o.push({instruction:ut,player:De,element:Yt}),ut.queriedElements.forEach(Nn=>gr(a,Nn,[]).push(De)),ut.preStyleProps.forEach((Nn,ya)=>{if(Nn.size){let kr=u.get(ya);kr||u.set(ya,kr=new Set),Nn.forEach((Py,BD)=>kr.add(BD))}}),ut.postStyleProps.forEach((Nn,ya)=>{let kr=l.get(ya);kr||l.set(ya,kr=new Set),Nn.forEach((Py,BD)=>kr.add(BD))})});if(q.length){const G=[];q.forEach(X=>{G.push(function Fme(n,e){return new S(3505,!1)}())}),U.forEach(X=>X.destroy()),this.reportError(G)}const Ee=new Map,ot=new Map;o.forEach(G=>{const X=G.element;r.has(X)&&(ot.set(X,X),this._beforeAnimationBuild(G.player.namespaceId,G.instruction,Ee))}),i.forEach(G=>{const X=G.element;this._getPreviousPlayers(X,!1,G.namespaceId,G.triggerName,null).forEach(De=>{gr(Ee,X,[]).push(De),De.destroy()})});const at=y.filter(G=>M3(G,u,l)),yr=new Map;D3(yr,this.driver,b,l,ms).forEach(G=>{M3(G,u,l)&&at.push(G)});const Ai=new Map;f.forEach((G,X)=>{D3(Ai,this.driver,new Set(G),u,aD)}),at.forEach(G=>{const X=yr.get(G),ne=Ai.get(G);yr.set(G,new Map([...Array.from(X?.entries()??[]),...Array.from(ne?.entries()??[])]))});const _s=[],Sh=[],ky={};o.forEach(G=>{const{element:X,player:ne,instruction:De}=G;if(r.has(X)){if(c.has(X))return ne.onDestroy(()=>Si(X,De.toStyles)),ne.disabled=!0,ne.overrideTotalTime(De.totalTime),void i.push(ne);let Yt=ky;if(ot.size>1){let _r=X;const oo=[];for(;_r=_r.parentNode;){const ut=ot.get(_r);if(ut){Yt=ut;break}oo.push(_r)}oo.forEach(ut=>ot.set(ut,Yt))}const Mi=this._buildAnimation(ne.namespaceId,De,Ee,s,Ai,yr);if(ne.setRealPlayer(Mi),Yt===ky)_s.push(ne);else{const _r=this.playersByElement.get(Yt);_r&&_r.length&&(ne.parentPlayer=io(_r)),i.push(ne)}}else ga(X,De.fromStyles),ne.onDestroy(()=>Si(X,De.toStyles)),Sh.push(ne),c.has(X)&&i.push(ne)}),Sh.forEach(G=>{const X=s.get(G.element);if(X&&X.length){const ne=io(X);G.setRealPlayer(ne)}}),i.forEach(G=>{G.parentPlayer?G.syncPlayerEvents(G.parentPlayer):G.destroy()});for(let G=0;G<y.length;G++){const X=y[G],ne=X[Nr];if(Il(X,yy),ne&&ne.hasAnimation)continue;let De=[];if(a.size){let Mi=a.get(X);Mi&&Mi.length&&De.push(...Mi);let _r=this.driver.query(X,bD,!0);for(let oo=0;oo<_r.length;oo++){let ut=a.get(_r[oo]);ut&&ut.length&&De.push(...ut)}}const Yt=De.filter(Mi=>!Mi.destroyed);Yt.length?Uye(this,X,Yt):this.processLeaveNode(X)}return y.length=0,_s.forEach(G=>{this.players.push(G),G.onDone(()=>{G.destroy();const X=this.players.indexOf(G);this.players.splice(X,1)}),G.play()}),_s}elementContainsData(e,t){let r=!1;const i=t[Nr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Th;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const l=u.element,c=l!==s,d=gr(r,l,[]);this._getPreviousPlayers(l,c,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}ga(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,l=[],c=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;c.add(g);const y=g[Nr];if(y&&y.removedBeforeQueried)return new vh(p.duration,p.delay);const _=g!==u,b=function Bye(n){const e=[];return A3(n,e),e}((r.get(g)||Rye).map(Ee=>Ee.getRealPlayer())).filter(Ee=>!!Ee.element&&Ee.element===g),v=s.get(g),D=o.get(g),U=e3(0,this._normalizer,0,p.keyframes,v,D),q=this._buildPlayer(p,U,b);if(p.subTimeline&&i&&d.add(g),_){const Ee=new LD(e,a,g);Ee.setRealPlayer(q),l.push(Ee)}return q});l.forEach(p=>{gr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Fye(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>Rr(p,l3));const f=io(h);return f.onDestroy(()=>{c.forEach(p=>Il(p,l3)),Si(u,t.toStyles)}),d.forEach(p=>{gr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new vh(e.duration,e.delay)}}class LD{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new vh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>mD(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){gr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function xy(n){return n&&1===n.nodeType}function T3(n,e){const t=n.style.display;return n.style.display=e??"none",t}function D3(n,e,t,r,i){const s=[];t.forEach(u=>s.push(T3(u)));const o=[];r.forEach((u,l)=>{const c=new Map;u.forEach(d=>{const h=e.computeStyle(l,d,i);c.set(d,h),(!h||0==h.length)&&(l[Nr]=kye,o.push(l))}),n.set(l,c)});let a=0;return t.forEach(u=>T3(u,s[a++])),o}function S3(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=t.has(l)?l:i.has(l)?r:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);u!==r&&t.get(u).push(a)}),t}function Rr(n,e){n.classList?.add(e)}function Il(n,e){n.classList?.remove(e)}function Uye(n,e,t){io(t).onDone(()=>n.processLeaveNode(e))}function A3(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof k4?A3(r.players,e):e.push(r)}}function M3(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Ny{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Oye(e,t,r),this._timelineEngine=new Sye(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],l=[],c=SD(this._driver,s,u,l);if(u.length)throw function Tme(n,e){return new S(3404,!1)}();a=function bye(n,e,t){return new Cye(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=t3(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=t3(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Hye=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Si(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Si(this._element,this._initialStyles),this._endStyles&&(Si(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ga(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ga(this._element,this._endStyles),this._endStyles=null),Si(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function VD(n){let e=null;return n.forEach((t,r)=>{(function zye(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class x3{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:g3(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Gye{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return s3(e,t)}getParentElement(e){return wD(e)}query(e,t,r){return o3(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const l=new Map,c=o.filter(f=>f instanceof x3);(function Qme(n,e){return 0===n||0===e})(r,i)&&c.forEach(f=>{f.currentSnapshot.forEach((p,g)=>l.set(g,p))});let d=function Gme(n){return n.length?n[0]instanceof Map?n:n.map(e=>c3(e)):[]}(t).map(f=>so(f));d=function Yme(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,g3(n,a)))}}return e}(e,d,l);const h=function jye(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=VD(e[0]),e.length>1&&(r=VD(e[e.length-1]))):e instanceof Map&&(t=VD(e)),t||r?new Hye(n,t,r):null}(e,d);return new x3(e,d,u,h)}}let qye=(()=>{class n extends A4{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Or.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?x4(t):t;return N3(this._renderer,null,r,"register",[i]),new Wye(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(P(Kl),P(wt))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class Wye extends Rpe{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Kye(this._id,e,t||{},this._renderer)}}class Kye{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return N3(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function N3(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const R3="@.disabled";let Qye=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new k3("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=c=>{Array.isArray(c)?c.forEach(u):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(u),new Yye(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(P(Kl),P(Ny),P(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class k3{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==R3?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Yye extends k3{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==R3?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Xye(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Jye(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Zye=(()=>{class n extends Ny{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(P(wt),P(ED),P(RD),P(bo))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const P3=[{provide:A4,useClass:qye},{provide:RD,useFactory:function e_e(){return new vye}},{provide:Ny,useClass:Zye},{provide:Kl,useFactory:function t_e(n,e,t){return new Qye(n,e,t)},deps:[gp,Ny,ke]}],UD=[{provide:ED,useFactory:()=>new Gye},{provide:gx,useValue:"BrowserAnimations"},...P3],O3=[{provide:ED,useClass:a3},{provide:gx,useValue:"NoopAnimations"},...P3];let n_e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?O3:UD}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xt({type:n}),n.\u0275inj=$t({providers:UD,imports:[FN]}),n})(),r_e=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=Xt({type:n,bootstrap:[rme]}),n.\u0275inj=$t({imports:[FN,Jge,see,iee,tse(()=>nse(yh_firebase)),Vue(()=>Bue()),Xfe(()=>rpe()),n_e,tge.forRoot(),Lge]}),e})();gY().bootstrapModule(r_e).catch(n=>console.error(n))}},Ue=>{Ue(Ue.s=612)}]);